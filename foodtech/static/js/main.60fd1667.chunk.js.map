{"version":3,"sources":["pages/Promo/Promo.assets/popcorn-1.png","pages/Promo/Promo.assets/popcorn-3.png","assets/images/background-tv-sber.jpg","assets/icons/plus.svg","assets/icons/done.svg","pages/Cart/Cart.assets/bg.jpg","pages/Promo/Promo.assets/popcorn-bites.png","pages/NoArea/face.svg","pages/NoArea/bg.jpg","components/Spinner/spinner.svg","pages/Error/Error.assets/circles.svg","pages/Error/Error.assets/warning.svg","pages/Cart/Cart.assets/bg@touch.jpg","pages/Promo/Promo.assets/popcorn-2.png","tools/new-spatial-navigation.js","tools/browser.ts","tools/create-action.ts","store/actions/app.ts","store/selectors/index.ts","store/reducers/helpers/catalogPage.ts","tools/twoGis/api/doApiRequest.ts","tools/request.ts","tools/twoGis/api/suggest.ts","store/reducers/view/addressSimplePage.tsx","store/actions/native.tsx","store/constants/router.tsx","store/thunks/addressFullPage.ts","store/actions/router.ts","store/thunks/native.ts","hooks/useFocusOnMount.tsx","style/const/color.ts","style/const/transition.ts","style/const/focus.ts","style/mixin/focus.ts","style/const/font.ts","components/Button/Button.tsx","store/constants/index.tsx","store/reducers/data/twoGisSuggestsData.ts","store/reducers/data/products.ts","store/reducers/data/productsDiff.ts","store/reducers/data/user.ts","store/reducers/data/delivery.ts","store/reducers/model/cart.ts","store/reducers/model/user.ts","store/reducers/view/catalogPage.ts","store/reducers/view/catalogPage@touch.ts","tools/split-by-thousands.ts","store/reducers/helpers/cartPage.ts","tools/format-phone-number.ts","store/reducers/view/cartPage.ts","store/reducers/view/cartPage@touch.ts","store/reducers/view/addressFullPage.tsx","store/reducers/view/header.ts","store/reducers/view/errorPage.tsx","store/reducers/view/waitPage.ts","store/actions/server.tsx","store/index.tsx","store/reducers/index.tsx","store/reducers/model/router.ts","hooks/useSelector.tsx","style/const/icon.ts","style/const/layout.ts","components/Text/Headline.ts","hooks/useDispatch.tsx","hooks/useThrottledFn.tsx","components/Text/Button.ts","components/HeaderButton/HeaderButton.tsx","components/HeaderAddress/HeaderAddress.tsx","components/HeaderCart/HeaderCart.tsx","components/Header/Header.tsx","components/AppLayout/AppLayout.tsx","components/Text/Caption.ts","components/Badge/Badge.tsx","components/Text/Footnote.ts","components/IndexBadge/IndexBadge.tsx","components/Text/Body.ts","pages/Catalog/ListItem/CatalogListItem.tsx","store/actions/catalogPage.tsx","hooks/useFocusOnChange.ts","pages/Catalog/List/CatalogList.tsx","components/Skeleton/Skeleton.tsx","pages/Catalog/Skeleton/CatalogSkeleton.tsx","pages/Catalog/Catalog.tsx","components/Pin/Pin.tsx","components/Text/Paragraph.ts","pages/Cart/Info/CartInfo.tsx","components/GradientFade/GradientFade.tsx","components/Label/Label.tsx","pages/Cart/ListItem/CartListItem.tsx","store/actions/cartPage.tsx","pages/Cart/List/CartList.tsx","pages/Cart/Cart.tsx","pages/Status/Status.tsx","pages/Promo/Promo.tsx","pages/NoArea/NoArea.tsx","pages/AddressSimple/AddressSimple.assets/keyboard.svg","store/actions/addressSimplePage.tsx","pages/AddressSimple/SuggestItem/AddressSimpleSuggestItem.tsx","pages/AddressSimple/AddressSimple.tsx","pages/AddressSimpleGuide/AddressSimpleGuide.assets/plasma-ball.svg","pages/AddressSimpleGuide/AddressSimpleGuide.tsx","components/Spinner/Spinner.tsx","store/actions/twoGisSuggests.ts","tools/memoize.ts","tools/twoGis/api/common.ts","tools/twoGis/getSuggestsList.ts","pages/AddressSimpleQuestion/AddressSimpleQuestion.tsx","tools/noop.ts","components/Input/Input.tsx","pages/AddressFull/AddressFullAll.tsx","pages/AddressFull/AddressFullPhone.tsx","store/actions/addressFullPage.ts","pages/AddressFull/AddressFullApartment.tsx","pages/AddressFull/AddressFullEntrance.tsx","pages/AddressFull/AddressFullFloor.tsx","pages/AddressFull/AddressFullDoorCode.tsx","pages/AddressFull/AddressFull.tsx","pages/Error/Error.tsx","pages/Wait/Wait.tsx","components/Root/Root@desktop.tsx","style/const/layout@touch.ts","components/Text/Body@touch.ts","components/Text/Button@touch.ts","components/HeaderButton/HeaderButton@touch.tsx","components/HeaderAddress/HeaderAddress@touch.tsx","components/HeaderCart/HeaderCart@touch.tsx","components/Header/Header@touch.tsx","components/AppLayout/AppLayout@touch.tsx","components/Text/Footnote@touch.ts","pages/Cart/ListItem/CartListItem@touch.tsx","pages/Cart/List/CartList@touch.tsx","components/Pin/Pin@touch.tsx","components/Text/Paragraph@touch.ts","components/Text/Headline@touch.ts","pages/Cart/Info/CartInfo@touch.tsx","pages/Cart/Cart@touch.tsx","pages/Catalog/ListItem/CatalogListItem@touch.tsx","pages/Catalog/List/CatalogList@touch.tsx","pages/Catalog/Catalog@touch.tsx","components/Slider/Slider.tsx","pages/Promo/Promo@touch.tsx","pages/Status/Status@touch.tsx","components/Root/Root@touch.tsx","components/Root/Root.tsx","index.tsx","assets/icons/add.svg","assets/icons/remove.svg","pages/Status/Status.assets/figure-4.svg","components/HeaderAddress/address.svg","components/HeaderCart/HeaderCart.assets/cart.svg","components/Header/Header.assets/chevron-left.svg","components/Header/Header.assets/logo.svg","components/Pin/shadow.svg","pages/Status/Status.assets/figure-1.svg","pages/Status/Status.assets/figure-2.svg","pages/Status/Status.assets/figure-3.svg","pages/Status/Status.assets/figure-5.svg","pages/Status/Status.assets/figure-6.svg","pages/Status/Status.assets/figure-7.svg","pages/Status/Status.assets/figure-8.svg","pages/Status/Status.assets/figure-9.svg","pages/Promo/Promo.assets/popcorn-box_1.png","pages/Promo/Promo.assets/popcorn-box_2.png","pages/Promo/Promo.assets/popcorn-box_3.png","pages/Promo/Promo.assets/popcorn-box_4.png"],"names":["module","exports","window","ARROW_KEY_CODE","37","38","39","40","mapOfBoundRect","startingPoint","savedSearchOrigin","element","rect","navigate","dir","searchOrigin","document","activeElement","body","querySelector","elementStyle","getComputedStyle","invisibleStyle","disabled","includes","getPropertyValue","documentElement","getBoundingClientRect","height","width","left","right","top","bottom","isVisibleInScroller","scroller","getScrollContainer","findSearchOrigin","console","log","eventTarget","elementFromPosition","elementFromPoint","x","y","isFocusable","isContainer","getSpatialNavigationContainer","container","nodeName","contentDocument","bestInsideCandidate","spatialNavigationSearch","candidates","getSpatialNavigationCandidates","mode","focusingController","parentContainer","parentElement","location","parent","navigateChain","bestCandidate","createSpatNavEvents","focus","preventScroll","scrollingController","isScrollable","isScrollBoundary","moveScroll","isHTMLScrollBoundary","ownerDocument","option","childElementCount","getElementsByTagName","children","elem","isDelegableContainer","push","concat","filter","isVisible","getFilteredSpatialNavigationCandidates","targetElement","filteredCandidates","length","args","this","bestTarget","internalCandidates","externalCandidates","insideOverlappedCandidates","focusableAreas","overlappedCandidates","forEach","isEntirelyVisible","getOverlappedCandidates","defaultContainer","defaultCandidates","contains","candidate","fullyOverlapped","overlappedByParent","map","elm","flat","currentElm","getClosestElement","getDistanceFromPoint","getInnerDistance","selectBestCandidateFromEdge","selectBestCandidate","innerTarget","descendantsBest","splice","indexOf","originalContainer","eventTargetRect","undefined","candidateRect","candidateBody","isOutside","isInside","spatialNavigationFunction","currentTargetRect","distanceFunction","alignedCandidates","isAligned","getAbsoluteDistance","getDistance","frameElement","minDistance","Number","POSITIVE_INFINITY","minDistanceElements","i","distance","getEuclideanDistance","scrollContainer","isScrollContainer","focusables","Array","prototype","call","eventType","containerElement","currentElement","direction","triggeredEvent","CustomEvent","bubbles","cancelable","detail","causedTarget","dispatchEvent","readCssVar","varName","trim","currentOption","nextContainer","offset","scrollLeft","scrollTop","isCSSSpatNavContain","overflowX","overflowY","isOverflow","scrollWidth","clientWidth","scrollHeight","clientHeight","result","winScrollY","winScrollX","Math","abs","elementRect","nearestScroller","scrollerRect","DOMRect","innerWidth","innerHeight","tabIndex","tagName","getAttribute","isAtagWithoutHref","isActuallyDisabled","inert","isExpresslyInert","isVisibleStyleProperty","style","opacity","isBeingRendered","offsetX","parseInt","offsetWidth","offsetY","offsetHeight","isNaN","hitTestPoint","middle","leftTop","rightBottom","point","elemFromPoint","hitTest","containerRect","thisVisibility","childRect","rightEdgeCheck","leftEdgeCheck","topEdgeCheck","bottomEdgeCheck","rect1","rect2","isRightSide","isBelow","points","getEntryAndExitPoints","P1","entryPoint","exitPoint","P2","sqrt","pow","baseEdge","up","down","orthogonalBias","alignBias","A","B","C","intersectionRect","intersection_rect","area","new_location","max","new_max_point","min","getIntersectionRect","D","get","boundingClientRect","toFixed","set","enableExperimentalAPIs","currentKeyMode","__spatialNavigation__","keyMode","getInitialAPIs","Object","assign","canScroll","findTarget","findCandidate","bestNextTarget","isArray","findCandidates","bind","findNextTarget","getDistanceFromTarget","candidateElement","getExperimentalAPI","seal","_keymode","setStartingPoint","__getSpatNavState","searchOriginRect","Element","CSS","registerProperty","name","syntax","inherits","initialValue","addEventListener","e","keyCode","shiftKey","ctrlKey","metaKey","altKey","defaultPrevented","focusNavigableArrowKey","startPosition","selectionStart","endPosition","selectionEnd","value","handlingEditableElement","preventDefault","Map","clientX","clientY","target","HTMLElement","requestAnimationFrame","async","scrollIntoView","behavior","block","inline","Promise","resolve","IntersectionObserver","entry","isIntersecting","threshold","observe","event","HTMLButtonElement","click","mobileDetect","navigator","userAgent","vendor","test","substr","createAction","type","payload","createEmptyAction","closeAppAction","selectProductById","state","itemId","productsData","itemsMap","selectProductDiffById","productsDiffData","selectCartItemById","cart","selectPathname","router","pathname","selectHeader","layout","header","formatPrice","price","ceil","prepareCount","cartItem","count","calculateButtonDisabled","productItem","quantityLeft","getQuantityLeftById","productItemDiff","getDisabled","getPriceById","preparePriceById","getOldPriceById","formatSale","oldValue","newValue","String","getCountById","countInCart","wantMoreThanHave","canAddMore","doDGApiRequest","url","params","paramsString","keys","reduce","acc","key","join","response","fetch","ok","statusCode","status","json","doRequest","isBuildingSuggest","suggest","getHasValidAddress","user","street","house","city","address","addressLocationLatitude","addressLocationLongitude","addressSimplePageView","action","addressSimplePage","userModel","suggestsListIndex","suggests","findIndex","inputValue","twoGisSuggestsData","values","item","id","prepareSuggestItems","addItemAction","removeItemAction","ROUTES","addressFullValidationOkThunk","dispatch","getState","addressFullPage","nextFocus","currentRoute","ADDRESS_FULL_ALL","goBack","replace","addressFullSuccessThunk","goBackToStart","go","history","goToCatalogThunk","goToCatalogAction","CATALOG","goToPromoThunk","goToPromo","PROMO","validationOkThunk","validationOkAction","STATUS","addressInputThunk","addressInputAction","ADDRESS_SIMPLE_QUESTION","addressInputDeclineThunk","ADDRESS_SIMPLE","addressInputAddThunk","addressInputAddAction","useFocusOnMount","forwardRef","ref","React","useRef","onMountRef","useEffect","current","color","white","primary","secondary","tertiary","active","warning","secondary1","secondary2","critical","inactive","default","liquid1","liquid2","liquid3","card","solidWhite","solidBlack","solidTransparent","duration","defaultMs","timingFn","easeInOut","transition","paddingPx","borderSizePx","positionPx","focusBorderMixin","isFocused","borderRadius","css","ruleset","syntheticFocus","font","light","normal","regular","medium","semibold","bold","extrabold","ButtonViews","ButtonSize","mapSizeToButtonParams","l","borderRadiusPx","paddingXPx","paddingYPx","fontSizePx","lineHeightPx","m","s","buttonViewBackgroundMap","StyledButton","styled","div","size","view","Button","shouldFocusOnMount","shouldLockAfterClick","lockTimeout","onClick","props","mountFocusRef","isDisabled","handleClick","timeoutId","setTimeoutId","useState","isBlocked","Boolean","useCallback","setTimeout","clearTimeout","usePressedState","as","initialState","delivery","minimalPrice","deliveryTime","order","totalCount","totalPrice","orderId","userData","customerName","phoneNumber","deviceLocationLatitude","deviceLocationLongitude","building","floor","entrance","apartment","doorCode","catalogPage","selectedItemId","itemsFocusHashMap","screenIndexMap","wrapperXShift","listIndexOffset","catalogPageTouch","cartPage","wrapperYShift","selectedItemIndex","topGradientVisible","bottomGradientVisible","toMinimumPrice","hasRequiredData","makePurchaseButtonView","isMakePurchaseButtonDisabled","personalAddress","cartPageTouch","errorPage","title","subtitle","text","isBackButtonVisible","suggestsRaw","addressInputValue","phoneNumberInputValue","apartmentInputValue","entranceInputValue","floorInputValue","doorCodeInputValue","isSubmitButtonDisabled","waitPage","normalizeProducts","productsMaps","guid","quantity_left","imageUrl","images_urls","stock","computeProductItemsMapBasedOnChanges","productsDiffMap","changes","entries","quantityLeftString","priceString","device_location","latitude","longitude","customer_name","phone_num","address_string","door_code","deliveryData","time","minimal_amount","cartModel","countString","shouldRemoveMention","actualCount","cartItemId","clear","order_id","getTotalCount","getTotalPrice","updateUserAddressBasedOnBuilding","address_name","full_name","addressComponent","components","number","split","lat","lon","normalizePhone","from","symbol","index","firstSymbol","otherSymbols","slice","suggestItem","input","find","ADDRESS_FULL_PHONE","ADDRESS_FULL_APARTMENT","ADDRESS_FULL_ENTRANCE","ADDRESS_FULL_FLOOR","ADDRESS_FULL_DOORCODE","inputType","data","screenItemCount","prepareBadge","content","prepareIndex","catalogPageView","random","getListIndexOffset","cardWidth","cardGap","getWrapperXShift","fill","_","getScreenIndexMap","oldPrice","isWantMoreThanHave","badge","isButtonDisabled","prepareCatalogItemsMap","isEmpty","firstItem","prepareItemsFocusHashMap","catalogPageTouchView","buttonDisabled","splitByThousands","n","toString","prepareTotalPrice","prepareToMinimumPrice","getFormattedPersonalAddress","prepareHasRequiredData","formatPhoneNumber","digit","renderSpace","prepareLabel","cartPageView","label","isMoreButtonDisabled","prepareItemsMap","relatedIndex","getWrapperYShift","calculateMakePurchaseDisabled","calculateMakePurchaseButtonView","prepareTopGradientVisible","prepareBottomGradientVisible","getFormattedPhoneNumber","cartPageTouchView","addressFullPageView","options","computeNextFocus","routeToTitleMap","CART","ERROR","NO_AREA","ADDRESS_SIMPLE_GUIDE","routeToVisibilityMap","headerView","getTitle","getAddress","getCart","mapOrderErrorTypeToProps","partner","retryButtonText","closeButtonText","payment","timing","errorPageView","waitPageView","askForItemsChangesAction","askForOrderStatusAction","addressSubmitAction","createHashHistory","middlewares","thunk","routerMiddleware","next","AssistantClient","close","sendData","action_id","LOCATION_CHANGE","currentPathname","nextPathname","isAddressChanged","process","store","createReduxStore","recoveryState","routerModel","changeRouter","connectRouter","getRouterModel","isMobile","produce","draft","applyReducer","reducer","getRootReducer","appRecoveryState","compose","applyMiddleware","dispatchToReduxStore","smart_app_data","command","itemsChangesAction","orderErrorAction","addressFullInputAction","addressFullInputAddAction","addressFullCommentAction","WAIT","castItemSelectorFromStore","ignored_words","items","visible","castCatalogItemSelectorFromStore","serializeAddress","storeUser","confirmed","prepareAddress","source","useSelector","mapStateToProps","useReduxSelector","appInitialData","onStart","onData","message","AssistantHost","JSON","stringify","onRequestState","item_selector","foodtech","currentScreen","substring","products","quantity","discountValue","castFromStore","stateString","updateState","onRequestRecoveryState","ready","icon","sizePx","widthPx","heightPx","headerHeightPx","footerHeightPx","contentHeightPx","HeadlineText1","HeadlineText2","HeadlineText3","HeadlineText4","useDispatch","useReduxDispatch","defaultOptions","leading","trailing","useThrottledFn","fn","timeout","dependencies","_useThrottledFn","ButtonText1","StyledHeaderButton","textHeightPx","StyledText","HeaderButton","addressIconSizePx","StyledIcon","addressIcon","HeaderAddress","cartIconSizePx","cartIcon","badgeOffsetPx","StyledBadge","span","HeaderCart","StyledHeader","backButtonIconSizePx","StyledBackButton","backButtonIcon","StyledSection","StyledLogo","logoIcon","StyledTitle","StyledContainer","gradientBackground","AppContent","currentTarget","AppLayout","onScroll","CaptionText","lineHeight","contentMap","sale","backgroundColorMap","badgeHeightPx","FootnoteText1","FootnoteText2","mapSizeToPx","mapSizeToParams","xxs","xs","StyledIndexBadge","IndexBadge","BodyText1","BodyText2","StyledThumb","StyledDescription","cardHeightPx","StyledName","StyledPriceContainer","StyledPrice","StyledOldPrice","StyledCount","isWarning","buttonIconSizePx","isActive","doneIcon","plusIcon","CatalogListItemBadge","className","contentProvider","AddAnimation","keyframes","addActiveDurationMs","ShakeAnimation","StyledCatalogListItem","isShaking","CatalogListItem","itemFocusHash","isCardActive","isButtonActive","displayCount","setCardActive","setButtonActive","setDisplayCount","prevCountRef","nextCount","useActive","doShake","setShaking","useShake","handleFocus","hash","onChangeFocusRef","useFocusOnChange","onFocus","StyledCatalogList","StyledWrapper","CatalogList","wrapperStyle","useMemo","transform","Skeleton","itemWidth","itemHeight","rowCount","columnCount","paddingBetweenColumns","paddingBetweenRows","list","columnIndex","rowIndex","rx","ry","getWidthByCount","skeletonWidthPx","skeletonPaddingXPx","skeletonPaddingYPx","backgroundColor","foregroundColor","StyledRoot","CatalogSkeleton","speed","Catalog","StyledBody","StyledKernel","kernelWidthPx","StyledShadow","shadowImage","StyledPin","pinColor","Pin","ParagraphText1","ParagraphText2","StyledCartInfo","StyledTime","StyledUnit","StyledAddress","StyledPersonal","StyledPersonalLocation","StyledPersonalPhoneNumber","StyledPersonalName","StyledAskPersonal","CartInfoButton","CartInfo","handlePurchaseClick","handleSetAddressClick","GradientFade","kind","textColorMap","StyledLabel","StyledInfo","isOneLine","StyledSelector","StyledSelectorValue","iconTypeIconMap","less","removeIcon","more","addIcon","remove","selectorIconSizePx","StyledSelectorButton","button","selectorButtonSizePx","iconType","StyledCartListItem","StyledDeleteButton","CartListItem","handleLessClick","handleMoreClick","handleRemoveClick","Infinity","aria-label","StyledCartList","StyledTotalPrice","StyledMinimalPrice","CartList","StyledBackground","bgImage","Cart","StatusButton","StatusContainer","StatusOrderNumber","StatusOrderTime","StatusFigure","bgUrl","topPx","leftPx","figureList","figureIcon1","figureIcon2","figureIcon3","figureIcon4","figureIcon5","figureIcon6","figureIcon7","figureIcon8","figureIcon9","Status","handleButtonClick","TextContainer","Title","Subtitle","ButtonContainer","PopcornContainer","popcornBites","popcornList","popcorn1","popcorn2","popcorn3","popcorn4","Popcorn","popcornStyle","Promo","handleClickSubmitButton","StyledFaceIcon","faceIcon","StyledSubtitle","StyledButtonContainer","NoArea","handleChangeButtonClick","handleCloseButtonClick","_extends","arguments","hasOwnProperty","apply","_ref","createElement","d","_ref2","SvgKeyboard","svgRef","viewBox","ForwardRef","AddressSimpleSuggestListItem","someRef","memoizedOnClick","memoizedOnFocus","StyledKeyboardIcon","KeyboardSvg","StyledSwiperContainer","StyledSwiperWrapper","StyledSwiperSlide","AddressSimple","suggestIds","swiperContainerRef","swiperRef","Swiper","slidesPerView","spaceBetween","initialSlide","useLayoutEffect","updateSize","updateSlides","updateProgress","updateSlidesClasses","slideTo","suggestItems","handleExpandKeyboardButton","_ref3","SvgPlasmaBall","StyledPlasmaIcon","PlasmaBallSvg","StyledPlasmaButton","StyledSource","AddressSimpleGuide","Spinner","spinnerImage","setTwoGisSuggests","memoize","has","regionData","searchRegionData","searchRegionList","regions","searchRegionGroupList","groups","memoizedGetSuggests","memoizeResolvedPromise","fields","suggestType","suggest_type","convertParams","getPrimaryPolygonList","bbox","isPointInBBox","groupRegionList","getSecondaryPolygonList","primaryPolygonList","userLocation","defaultSuggestOptions","getSuggestListByPolygonList","q","locale","polygonList","uniqueSuggestList","all","polygonName","toLowerCase","polygon","then","meta","isErrorResponse","Error","error","catch","Sentry","responseList","suggestMap","parseFloat","distanceMap","fromEntries","sort","a","b","StyledAnswerContainer","StyledAnswerTitle","StyledAnswerButtonContainer","StyledButtonDivider","AddressSimpleQuestion","handleAcceptButtonClick","handleDeclineButtonClick","secondaryPolygonList","primaryResult","getSuggestsList","noop","isMinified","StyledInput","Input","onSubmit","onChange","onRootKeyPress","shouldFocusInputOnMount","setFocus","isUsing","setUsing","inputRef","onMountRootRef","rootRef","handleRootFocus","handleRootBlur","handleRootKeyPress","handleInputKeyPress","stopPropagation","isTitleMinified","onBlur","onKeyPress","StyledFirstRow","StyledSecondRow","StyledThirdRow","StyledFourthRow","SubmitButton","AddressFullAll","handleSubmitClick","AddressFullPhone","handleInputChange","nativeEvent","InputEvent","handleInputSubmit","AddressFullApartment","AddressFullEntrance","AddressFullFloor","AddressFullDoorCode","AddressFull","path","ErrorPage","circlesPositionYPx","Circles","circlesImage","WarningIcon","warningIcon","handleRetryButtonClick","Text","Wait","ButtonText2","HeaderButtonTouch","HeaderAddressTouch","HeaderCartTouch","HeaderTouch","Container","AppLayoutTouch","StyledCartListItemTouch","StyledCountTouchButton","isDanger","StyledRemoveIcon","CartListItemTouch","LessIcon","MoreIcon","StyledCartListTouch","CartListTouch","StyledCartInfoTouch","StyledPlaceInfo","CartInfoTouch","CartTouch","StyledListItem","StyledButtonsContainer","StyledTouchButton","CatalogListItemTouch","isPossibleChangeCountActive","handleClickAdd","handleClickRemove","RemoveIcon","AddIcon","StyledScrollableCatalogContainer","CatalogListTouch","itemIds","itemsList","CatalogTouch","StyledSliderContainer","StyledSlider","StyledSlide","popcornBoxList","popcornBox1","popcornBox2","popcornBox3","popcornBox4","auto","onSlideChange","slide","setSlide","isDragging","setDragging","springProps","setSpringProps","useSprings","gestureBinds","useGesture","onDrag","movement","xDelta","xDir","cancel","first","lower","upper","drag","delay","intervalId","setInterval","targetIndex","clearInterval","to","position","willChange","PopcornBox","SliderPinsContainer","CornsContainer","Corn","PromoTouch","promoRef","promoWidth","setPromoWidth","currentSlideIndex","setCurrentSlideIndex","cornsList","StatusTouchContainer","StatusTouchOrderInfo","StatusTouchOrderNumber","StatusTouchOrderTime","StatusTouchFigure","StatusTouch","touchFigureList","Root","ADDRESS_FULL","dsn","renderApp","App","ReactDOM","render","getElementById","REACT_APP_REV"],"mappings":"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","file":"static/js/main.60fd1667.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/background-tv-sber.c2fb7871.jpg\";","module.exports = __webpack_public_path__ + \"static/media/plus.9af213dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/done.f4143229.svg\";","module.exports = __webpack_public_path__ + \"static/media/bg.7b30988f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-bites.fe1b0e1a.png\";","module.exports = __webpack_public_path__ + \"static/media/face.1bb45b13.svg\";","module.exports = __webpack_public_path__ + \"static/media/bg.729407a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spinner.ee0e70c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/circles.b00db56e.svg\";","module.exports = __webpack_public_path__ + \"static/media/warning.4908c73c.svg\";","module.exports = __webpack_public_path__ + \"static/media/bg@touch.1c0b9508.jpg\";","module.exports = \"data:image/png;base64,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\"","/* eslint-disable */\n\n/* Spatial Navigation Polyfill\n *\n * It follows W3C official specification\n * https://drafts.csswg.org/css-nav-1/\n *\n * Copyright (c) 2018-2019 LG Electronics Inc.\n * https://github.com/WICG/spatial-navigation/polyfill\n *\n * Licensed under the MIT license (MIT)\n */\n\n(function () {\n    // The polyfill must not be executed, if it's already enabled via browser engine or browser extensions.\n    if ('navigate' in window) {\n        return;\n    }\n\n    const ARROW_KEY_CODE = { 37: 'left', 38: 'up', 39: 'right', 40: 'down' };\n    const TAB_KEY_CODE = 9;\n    let mapOfBoundRect = null;\n    let startingPoint = null; // Saves spatial navigation starting point\n    let savedSearchOrigin = { element: null, rect: null }; // Saves previous search origin\n    let searchOriginRect = null; // Rect of current search origin\n\n    window.__getSpatNavState = () => {\n        return {\n            mapOfBoundRect,\n            startingPoint,\n            savedSearchOrigin,\n            searchOriginRect,\n        };\n    };\n\n    /**\n     * Initiate the spatial navigation features of the polyfill.\n     * @function initiateSpatialNavigation\n     */\n    function initiateSpatialNavigation() {\n        /*\n         * Bind the standards APIs to be exposed to the window object for authors\n         */\n        window.navigate = navigate;\n        window.Element.prototype.spatialNavigationSearch = spatialNavigationSearch;\n        window.Element.prototype.focusableAreas = focusableAreas;\n        window.Element.prototype.getSpatialNavigationContainer = getSpatialNavigationContainer;\n\n        /*\n         * CSS.registerProperty() from the Properties and Values API\n         * Reference: https://drafts.css-houdini.org/css-properties-values-api/#the-registerproperty-function\n         */\n        if (window.CSS && CSS.registerProperty) {\n            if (\n                window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-contain') ===\n                ''\n            ) {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-contain',\n                    syntax: 'auto | contain',\n                    inherits: false,\n                    initialValue: 'auto',\n                });\n            }\n\n            if (\n                window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-action') === ''\n            ) {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-action',\n                    syntax: 'auto | focus | scroll',\n                    inherits: false,\n                    initialValue: 'auto',\n                });\n            }\n\n            if (\n                window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-function') ===\n                ''\n            ) {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-function',\n                    syntax: 'normal | grid',\n                    inherits: false,\n                    initialValue: 'normal',\n                });\n            }\n        }\n    }\n\n    /**\n     * Add event handlers for the spatial navigation behavior.\n     * This function defines which input methods trigger the spatial navigation behavior.\n     * @function spatialNavigationHandler\n     */\n    function spatialNavigationHandler() {\n        /*\n         * keydown EventListener :\n         * If arrow key pressed, get the next focusing element and send it to focusing controller\n         */\n        window.addEventListener('keydown', (e) => {\n            const currentKeyMode =\n                (parent && parent.__spatialNavigation__.keyMode) || window.__spatialNavigation__.keyMode;\n            const eventTarget = document.activeElement;\n            const dir = ARROW_KEY_CODE[e.keyCode];\n\n            if (e.keyCode === TAB_KEY_CODE) {\n                startingPoint = null;\n            }\n\n            if (\n                !currentKeyMode ||\n                currentKeyMode === 'NONE' ||\n                (currentKeyMode === 'SHIFTARROW' && !e.shiftKey) ||\n                (currentKeyMode === 'ARROW' && e.shiftKey) ||\n                e.ctrlKey ||\n                e.metaKey ||\n                e.altKey\n            )\n                return;\n\n            if (!e.defaultPrevented) {\n                let focusNavigableArrowKey = {\n                    left: true,\n                    up: true,\n                    right: true,\n                    down: true,\n                };\n\n                // Edge case (text input, area) : Don't move focus, just navigate cursor in text area\n                if (eventTarget.nodeName === 'INPUT' || eventTarget.nodeName === 'TEXTAREA') {\n                    focusNavigableArrowKey = handlingEditableElement(e);\n                }\n\n                if (focusNavigableArrowKey[dir]) {\n                    e.preventDefault();\n                    mapOfBoundRect = new Map();\n\n                    navigate(dir);\n\n                    mapOfBoundRect = null;\n                    startingPoint = null;\n                }\n            }\n        });\n\n        /*\n         * mouseup EventListener :\n         * If the mouse click a point in the page, the point will be the starting point.\n         * NOTE: Let UA set the spatial navigation starting point based on click\n         */\n        document.addEventListener('mouseup', (e) => {\n            startingPoint = { x: e.clientX, y: e.clientY };\n        });\n\n        /*\n         * focusin EventListener :\n         * When the element get the focus, save it and its DOMRect for resetting the search origin\n         * if it disappears.\n         */\n        window.addEventListener('focusin', (e) => {\n            if (e.target !== window) {\n                savedSearchOrigin.element = e.target;\n                savedSearchOrigin.rect = e.target.getBoundingClientRect();\n            }\n        });\n    }\n\n    /**\n     * Enable the author to trigger spatial navigation programmatically, as if the user had done so manually.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-window-navigate}\n     * @function navigate\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function navigate(dir) {\n        // spatial navigation steps\n\n        // 1\n        const searchOrigin = findSearchOrigin();\n        console.log(searchOrigin);\n        let eventTarget = searchOrigin;\n        let elementFromPosition = null;\n\n        // 2 Optional step, UA defined starting point\n        if (startingPoint) {\n            // if there is a starting point, set eventTarget as the element from position for getting the spatnav container\n            elementFromPosition = document.elementFromPoint(startingPoint.x, startingPoint.y);\n\n            // Use starting point if the starting point isn't inside the focusable element (but not container)\n            // * Starting point is meaningfull when:\n            // 1) starting point is inside the spatnav container\n            // 2) starting point is inside the non-focusable element\n            if (elementFromPosition === null) {\n                elementFromPosition = document.body;\n            }\n            if (isFocusable(elementFromPosition) && !isContainer(elementFromPosition)) {\n                startingPoint = null;\n            } else if (isContainer(elementFromPosition)) {\n                eventTarget = elementFromPosition;\n            } else {\n                eventTarget = elementFromPosition.getSpatialNavigationContainer();\n            }\n        }\n\n        // 4\n        if (eventTarget === window || eventTarget === document || eventTarget === document.documentElement) {\n            eventTarget = document.body || document.documentElement;\n        }\n\n        // 5\n        // At this point, spatialNavigationSearch can be applied.\n        // If startingPoint is either a scroll container or the document,\n        // find the best candidate within startingPoint\n        let container = null;\n        if ((isContainer(eventTarget) || eventTarget.nodeName === 'BODY') && !(eventTarget.nodeName === 'INPUT')) {\n            if (eventTarget.nodeName === 'IFRAME') {\n                eventTarget = eventTarget.contentDocument.documentElement;\n            }\n\n            container = container === window ? document.body : eventTarget;\n            let bestInsideCandidate = null;\n\n            // 5-2\n            if (\n                document.activeElement === searchOrigin ||\n                (document.activeElement === document.body && searchOrigin === document.documentElement)\n            ) {\n                if (getCSSSpatNavAction(eventTarget) === 'scroll') {\n                    if (scrollingController(eventTarget, dir)) return;\n                } else if (getCSSSpatNavAction(eventTarget) === 'focus') {\n                    bestInsideCandidate = eventTarget.spatialNavigationSearch(dir, {\n                        container: eventTarget,\n                        candidates: getSpatialNavigationCandidates(eventTarget, {\n                            mode: 'all',\n                        }),\n                    });\n                    if (focusingController(bestInsideCandidate, dir)) return;\n                } else if (getCSSSpatNavAction(eventTarget) === 'auto') {\n                    bestInsideCandidate = eventTarget.spatialNavigationSearch(dir, {\n                        container: eventTarget,\n                    });\n                    if (focusingController(bestInsideCandidate, dir) || scrollingController(eventTarget, dir)) return;\n                }\n            } else {\n                // when the previous search origin became offscreen\n                container = container.getSpatialNavigationContainer();\n            }\n        }\n\n        // 6\n        // Let container be the nearest ancestor of eventTarget\n        container = eventTarget.getSpatialNavigationContainer();\n        let parentContainer = container.parentElement ? container.getSpatialNavigationContainer() : null;\n\n        // When the container is the viewport of a browsing context\n        if (!parentContainer && window.location !== window.parent.location) {\n            parentContainer = window.parent.document.documentElement;\n        }\n\n        if (getCSSSpatNavAction(container) === 'scroll') {\n            if (scrollingController(container, dir)) return;\n        } else if (getCSSSpatNavAction(container) === 'focus') {\n            navigateChain(eventTarget, container, parentContainer, dir, 'all');\n        } else if (getCSSSpatNavAction(container) === 'auto') {\n            navigateChain(eventTarget, container, parentContainer, dir, 'visible');\n        }\n    }\n\n    /**\n     * Move the focus to the best candidate or do nothing.\n     * @function focusingController\n     * @param bestCandidate {Node} - The best candidate of the spatial navigation\n     * @param dir {SpatialNavigationDirection}- The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function focusingController(bestCandidate, dir) {\n        // 10 & 11\n        // When bestCandidate is found\n        if (bestCandidate) {\n            // When bestCandidate is a focusable element and not a container : move focus\n            /*\n             * [event] navbeforefocus : Fired before spatial or sequential navigation changes the focus.\n             */\n            if (!createSpatNavEvents('beforefocus', bestCandidate, null, dir)) return true;\n\n            const container = bestCandidate.getSpatialNavigationContainer();\n\n            if (container !== window && getCSSSpatNavAction(container) === 'focus') {\n                bestCandidate.focus();\n            } else {\n                bestCandidate.focus({ preventScroll: true });\n            }\n\n            startingPoint = null;\n            return true;\n        }\n\n        // When bestCandidate is not found within the scrollport of a container: Nothing\n        return false;\n    }\n\n    /**\n     * Directionally scroll the scrollable spatial navigation container if it can be manually scrolled more.\n     * @function scrollingController\n     * @param container {Node} - The spatial navigation container which can scroll\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function scrollingController(container, dir) {\n        // If there is any scrollable area among parent elements and it can be manually scrolled, scroll the document\n        if (isScrollable(container, dir) && !isScrollBoundary(container, dir)) {\n            moveScroll(container, dir);\n            return true;\n        }\n\n        // If the spatnav container is document and it can be scrolled, scroll the document\n        if (!container.parentElement && !isHTMLScrollBoundary(container, dir)) {\n            moveScroll(container.ownerDocument.documentElement, dir);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Find the candidates within a spatial navigation container include delegable container.\n     * This function does not search inside delegable container or focusable container.\n     * In other words, this return candidates set is not included focusable elements inside delegable container or focusable container.\n     *\n     * @function getSpatialNavigationCandidates\n     * @param container {Node} - The spatial navigation container\n     * @param option {FocusableAreasOptions} - 'mode' attribute takes 'visible' or 'all' for searching the boundary of focusable elements.\n     *                                          Default value is 'visible'.\n     * @returns {sequence<Node>} candidate elements within the container\n     */\n    function getSpatialNavigationCandidates(container, option = { mode: 'visible' }) {\n        let candidates = [];\n\n        if (container.childElementCount > 0) {\n            if (!container.parentElement) {\n                container = container.getElementsByTagName('body')[0] || document.body;\n            }\n            const children = container.children;\n            for (const elem of children) {\n                if (isDelegableContainer(elem)) {\n                    candidates.push(elem);\n                } else if (isFocusable(elem)) {\n                    candidates.push(elem);\n\n                    if (!isContainer(elem) && elem.childElementCount) {\n                        candidates = candidates.concat(getSpatialNavigationCandidates(elem, { mode: 'all' }));\n                    }\n                } else if (elem.childElementCount) {\n                    candidates = candidates.concat(getSpatialNavigationCandidates(elem, { mode: 'all' }));\n                }\n            }\n        }\n\n        //   console.log(candidates)\n        return option.mode === 'all' ? candidates : candidates.filter(isVisible);\n    }\n\n    /**\n     * Find the candidates among focusable elements within a spatial navigation container from the search origin (currently focused element)\n     * depending on the directional information.\n     * @function getFilteredSpatialNavigationCandidates\n     * @param element {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation without the directional information\n     * @param container {Node} - The spatial navigation container\n     * @returns {Node} The candidates for spatial navigation considering the directional information\n     */\n    function getFilteredSpatialNavigationCandidates(element, dir, candidates, container) {\n        const targetElement = element;\n        // Removed below line due to a bug. (iframe body rect is sometime weird.)\n        // const targetElement = (element.nodeName === 'IFRAME') ? element.contentDocument.body : element;\n        // If the container is unknown, get the closest container from the element\n        container = container || targetElement.getSpatialNavigationContainer();\n\n        // If the candidates is unknown, find candidates\n        // 5-1\n        candidates = !candidates || candidates.length <= 0 ? getSpatialNavigationCandidates(container) : candidates;\n        return filteredCandidates(targetElement, candidates, dir, container);\n    }\n\n    /**\n     * Find the best candidate among the candidates within the container from the search origin (currently focused element)\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-spatialnavigationsearch}\n     * @function spatialNavigationSearch\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param container {Node} - The spatial navigation container\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function spatialNavigationSearch(dir, args) {\n        const targetElement = this;\n        let internalCandidates = [];\n        let externalCandidates = [];\n        let insideOverlappedCandidates = getOverlappedCandidates(targetElement);\n        let bestTarget;\n\n        // Set default parameter value\n        if (!args) args = {};\n\n        const defaultContainer = targetElement.getSpatialNavigationContainer();\n        let defaultCandidates = getSpatialNavigationCandidates(defaultContainer);\n        const container = args.container || defaultContainer;\n        if (args.container && defaultContainer.contains(args.container)) {\n            defaultCandidates = defaultCandidates.concat(getSpatialNavigationCandidates(container));\n        }\n        const candidates =\n            args.candidates && args.candidates.length > 0\n                ? args.candidates.filter((candidate) => container.contains(candidate))\n                : defaultCandidates.filter((candidate) => container.contains(candidate) && container !== candidate);\n\n        // Find the best candidate\n        // 5\n        // If startingPoint is either a scroll container or the document,\n        // find the best candidate within startingPoint\n        if (candidates && candidates.length > 0) {\n            // Divide internal or external candidates\n            candidates.forEach((candidate) => {\n                if (candidate !== targetElement) {\n                    (targetElement.contains(candidate) && targetElement !== candidate\n                        ? internalCandidates\n                        : externalCandidates\n                    ).push(candidate);\n                }\n            });\n\n            // include overlapped element to the internalCandidates\n            let fullyOverlapped = insideOverlappedCandidates.filter(\n                (candidate) => !internalCandidates.includes(candidate),\n            );\n            let overlappedContainer = candidates.filter(\n                (candidate) => isContainer(candidate) && isEntirelyVisible(targetElement, candidate),\n            );\n            let overlappedByParent = overlappedContainer\n                .map((elm) => elm.focusableAreas())\n                .flat()\n                .filter((candidate) => candidate !== targetElement);\n\n            internalCandidates = internalCandidates\n                .concat(fullyOverlapped)\n                .filter((candidate) => container.contains(candidate));\n            externalCandidates = externalCandidates\n                .concat(overlappedByParent)\n                .filter((candidate) => container.contains(candidate));\n\n            // Filter external Candidates\n            if (externalCandidates.length > 0) {\n                externalCandidates = getFilteredSpatialNavigationCandidates(\n                    targetElement,\n                    dir,\n                    externalCandidates,\n                    container,\n                );\n            }\n\n            // If there isn't search origin element but search orgin rect exist  (search origin isn't in the layout case)\n            if (searchOriginRect) {\n                bestTarget = selectBestCandidate(\n                    targetElement,\n                    getFilteredSpatialNavigationCandidates(targetElement, dir, internalCandidates, container),\n                    dir,\n                );\n            }\n\n            if (internalCandidates && internalCandidates.length > 0 && !(targetElement.nodeName === 'INPUT')) {\n                bestTarget = selectBestCandidateFromEdge(targetElement, internalCandidates, dir);\n            }\n\n            bestTarget = bestTarget || selectBestCandidate(targetElement, externalCandidates, dir);\n\n            if (bestTarget && isDelegableContainer(bestTarget)) {\n                // if best target is delegable container, then find descendants candidate inside delegable container.\n                const innerTarget = getSpatialNavigationCandidates(bestTarget, {\n                    mode: 'all',\n                });\n                const descendantsBest =\n                    innerTarget.length > 0\n                        ? targetElement.spatialNavigationSearch(dir, {\n                              candidates: innerTarget,\n                              container: bestTarget,\n                          })\n                        : null;\n                if (descendantsBest) {\n                    bestTarget = descendantsBest;\n                } else if (!isFocusable(bestTarget)) {\n                    // if there is no target inside bestTarget and delegable container is not focusable,\n                    // then try to find another best target without curren best target.\n                    candidates.splice(candidates.indexOf(bestTarget), 1);\n                    bestTarget = candidates.length\n                        ? targetElement.spatialNavigationSearch(dir, {\n                              candidates: candidates,\n                              container: container,\n                          })\n                        : null;\n                }\n            }\n            return bestTarget;\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the filtered candidate among candidates.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate}\n     * @function filteredCandidates\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param container {Node} - The spatial navigation container\n     * @returns {sequence<Node>} The filtered candidates which are not the search origin and not in the given spatial navigation direction from the search origin\n     */\n    // TODO: Need to fix filtering the candidates with more clean code\n    function filteredCandidates(currentElm, candidates, dir, container) {\n        const originalContainer = currentElm.getSpatialNavigationContainer();\n        let eventTargetRect;\n\n        // If D(dir) is null, let candidates be the same as visibles\n        if (dir === undefined) return candidates;\n\n        // Offscreen handling when originalContainer is not <HTML>\n        if (originalContainer.parentElement && container !== originalContainer && !isVisible(currentElm)) {\n            eventTargetRect = getBoundingClientRect(originalContainer);\n        } else {\n            eventTargetRect = searchOriginRect || getBoundingClientRect(currentElm);\n        }\n\n        /*\n         * Else, let candidates be the subset of the elements in visibles\n         * whose principal box’s geometric center is within the closed half plane\n         * whose boundary goes through the geometric center of starting point and is perpendicular to D.\n         */\n        if ((isContainer(currentElm) || currentElm.nodeName === 'BODY') && !(currentElm.nodeName === 'INPUT')) {\n            return candidates.filter((candidate) => {\n                const candidateRect = getBoundingClientRect(candidate);\n                return (\n                    container.contains(candidate) &&\n                    ((currentElm.contains(candidate) &&\n                        isInside(eventTargetRect, candidateRect) &&\n                        candidate !== currentElm) ||\n                        isOutside(candidateRect, eventTargetRect, dir))\n                );\n            });\n        } else {\n            return candidates.filter((candidate) => {\n                const candidateRect = getBoundingClientRect(candidate);\n                const candidateBody = candidate.nodeName === 'IFRAME' ? candidate.contentDocument.body : null;\n                return (\n                    container.contains(candidate) &&\n                    candidate !== currentElm &&\n                    candidateBody !== currentElm &&\n                    isOutside(candidateRect, eventTargetRect, dir) &&\n                    !isInside(eventTargetRect, candidateRect)\n                );\n            });\n        }\n    }\n\n    /**\n     * Select the best candidate among given candidates.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate}\n     * @function selectBestCandidate\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function selectBestCandidate(currentElm, candidates, dir) {\n        const container = currentElm.getSpatialNavigationContainer();\n        const spatialNavigationFunction = getComputedStyle(container).getPropertyValue('--spatial-navigation-function');\n        const currentTargetRect = searchOriginRect || getBoundingClientRect(currentElm);\n        let distanceFunction;\n        let alignedCandidates;\n\n        switch (spatialNavigationFunction) {\n            case 'grid':\n                alignedCandidates = candidates.filter((elm) =>\n                    isAligned(currentTargetRect, getBoundingClientRect(elm), dir),\n                );\n                if (alignedCandidates.length > 0) {\n                    candidates = alignedCandidates;\n                }\n                distanceFunction = getAbsoluteDistance;\n                break;\n            default:\n                distanceFunction = getDistance;\n                break;\n        }\n        return getClosestElement(currentElm, candidates, dir, distanceFunction);\n    }\n\n    /**\n     * Select the best candidate among candidates by finding the closet candidate from the edge of the currently focused element (search origin).\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate (Step 5)}\n     * @function selectBestCandidateFromEdge\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function selectBestCandidateFromEdge(currentElm, candidates, dir) {\n        if (startingPoint) return getClosestElement(currentElm, candidates, dir, getDistanceFromPoint);\n        else return getClosestElement(currentElm, candidates, dir, getInnerDistance);\n    }\n\n    /**\n     * Select the closest candidate from the currently focused element (search origin) among candidates by using the distance function.\n     * @function getClosestElement\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param distanceFunction {function} - The distance function which measures the distance from the search origin to each candidate\n     * @returns {Node} The candidate which is the closest one from the search origin\n     */\n    function getClosestElement(currentElm, candidates, dir, distanceFunction) {\n        let eventTargetRect = null;\n        if (\n            window.location !== window.parent.location &&\n            (currentElm.nodeName === 'BODY' || currentElm.nodeName === 'HTML')\n        ) {\n            // If the eventTarget is iframe, then get rect of it based on its containing document\n            // Set the iframe's position as (0,0) because the rects of elements inside the iframe don't know the real iframe's position.\n            eventTargetRect = window.frameElement.getBoundingClientRect();\n            eventTargetRect.x = 0;\n            eventTargetRect.y = 0;\n        } else {\n            eventTargetRect = searchOriginRect || currentElm.getBoundingClientRect();\n        }\n\n        let minDistance = Number.POSITIVE_INFINITY;\n        let minDistanceElements = [];\n\n        if (candidates) {\n            for (let i = 0; i < candidates.length; i++) {\n                const distance = distanceFunction(eventTargetRect, getBoundingClientRect(candidates[i]), dir);\n\n                // If the same distance, the candidate will be selected in the DOM order\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    minDistanceElements = [candidates[i]];\n                } else if (distance === minDistance) {\n                    minDistanceElements.push(candidates[i]);\n                }\n            }\n        }\n        if (minDistanceElements.length === 0) return null;\n\n        return minDistanceElements.length > 1 && distanceFunction === getAbsoluteDistance\n            ? getClosestElement(currentElm, minDistanceElements, dir, getEuclideanDistance)\n            : minDistanceElements[0];\n    }\n\n    /**\n     * Get container of an element.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-getspatialnavigationcontainer}\n     * @module Element\n     * @function getSpatialNavigationContainer\n     * @returns {Node} The spatial navigation container\n     */\n    function getSpatialNavigationContainer() {\n        let container = this;\n\n        do {\n            if (!container.parentElement) {\n                if (window.location !== window.parent.location) {\n                    container = window.parent.document.documentElement;\n                } else {\n                    container = window.document.documentElement;\n                }\n                break;\n            } else {\n                container = container.parentElement;\n            }\n\n            // console.log(container, isContainer(container));\n        } while (!isContainer(container));\n        return container;\n    }\n\n    /**\n     * Get nearest scroll container of an element.\n     * @function getScrollContainer\n     * @param Element\n     * @returns {Node} The spatial navigation container\n     */\n    function getScrollContainer(element) {\n        let scrollContainer = element;\n\n        do {\n            if (!scrollContainer.parentElement) {\n                if (window.location !== window.parent.location) {\n                    scrollContainer = window.parent.document.documentElement;\n                } else {\n                    scrollContainer = window.document.documentElement;\n                }\n                break;\n            } else {\n                scrollContainer = scrollContainer.parentElement;\n            }\n        } while (!isScrollContainer(scrollContainer) || !isVisible(scrollContainer));\n\n        if (scrollContainer === document || scrollContainer === document.documentElement) {\n            scrollContainer = window;\n        }\n\n        return scrollContainer;\n    }\n\n    /**\n     * Find focusable elements within the spatial navigation container.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-focusableareas}\n     * @function focusableAreas\n     * @param option {FocusableAreasOptions} - 'mode' attribute takes 'visible' or 'all' for searching the boundary of focusable elements.\n     *                                          Default value is 'visible'.\n     * @returns {sequence<Node>} All focusable elements or only visible focusable elements within the container\n     */\n    function focusableAreas(option = { mode: 'visible' }) {\n        const container = this.parentElement ? this : document.body;\n        const focusables = Array.prototype.filter.call(container.getElementsByTagName('*'), isFocusable);\n        return option.mode === 'all' ? focusables : focusables.filter(isVisible);\n    }\n\n    /**\n     * Create the NavigationEvent: navbeforefocus, navnotarget\n     * @see {@link https://drafts.csswg.org/css-nav-1/#events-navigationevent}\n     * @function createSpatNavEvents\n     * @param option {string} - Type of the navigation event (beforefocus, notarget)\n     * @param element {Node} - The target element of the event\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function createSpatNavEvents(eventType, containerElement, currentElement, direction) {\n        if (['beforefocus', 'notarget'].includes(eventType)) {\n            const data = {\n                causedTarget: currentElement,\n                dir: direction,\n            };\n            const triggeredEvent = new CustomEvent('nav' + eventType, {\n                bubbles: true,\n                cancelable: true,\n                detail: data,\n            });\n            return containerElement.dispatchEvent(triggeredEvent);\n        }\n    }\n\n    /**\n     * Get the value of the CSS custom property of the element\n     * @function readCssVar\n     * @param element {Node}\n     * @param varName {string} - The name of the css custom property without '--'\n     * @returns {string} The value of the css custom property\n     */\n    function readCssVar(element, varName) {\n        return getComputedStyle(element).getPropertyValue(`--${varName}`).trim();\n    }\n\n    /**\n     * Decide whether or not the 'contain' value is given to 'spatial-navigation-contain' css property of an element\n     * @function isCSSSpatNavContain\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isCSSSpatNavContain(element) {\n        return readCssVar(element, 'spatial-navigation-contain') === 'contain';\n    }\n\n    /**\n     * Return the value of 'spatial-navigation-action' css property of an element\n     * @function getCSSSpatNavAction\n     * @param element {Node} - would be the spatial navigation container\n     * @returns {string} auto | focus | scroll\n     */\n    function getCSSSpatNavAction(element) {\n        return 'focus';\n        //   return readCssVar(element, 'spatial-navigation-action') || 'auto';\n    }\n\n    /**\n     * Only move the focus with spatial navigation. Manually scrolling isn't available.\n     * @function navigateChain\n     * @param eventTarget {Node} - currently focused element\n     * @param container {SpatialNavigationContainer} - container\n     * @param parentContainer {SpatialNavigationContainer} - parent container\n     * @param option - visible || all\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function navigateChain(eventTarget, container, parentContainer, dir, option) {\n        let currentOption = {\n            candidates: getSpatialNavigationCandidates(container, { mode: option }),\n            container,\n        };\n        //   console.log(currentOption)\n\n        while (parentContainer) {\n            if (focusingController(eventTarget.spatialNavigationSearch(dir, currentOption), dir)) {\n                return;\n            } else {\n                if (option === 'visible' && scrollingController(container, dir)) return;\n                else {\n                    if (!createSpatNavEvents('notarget', container, eventTarget, dir)) return;\n\n                    // find the container\n                    if (container === document || container === document.documentElement) {\n                        if (window.location !== window.parent.location) {\n                            // The page is in an iframe. eventTarget needs to be reset because the position of the element in the iframe\n                            eventTarget = window.frameElement;\n                            container = eventTarget.ownerDocument.documentElement;\n                        }\n                    } else {\n                        container = parentContainer;\n                    }\n                    currentOption = {\n                        candidates: getSpatialNavigationCandidates(container, {\n                            mode: option,\n                        }),\n                        container,\n                    };\n                    let nextContainer = container.getSpatialNavigationContainer();\n\n                    if (nextContainer !== container) {\n                        parentContainer = nextContainer;\n                    } else {\n                        parentContainer = null;\n                    }\n                }\n            }\n        }\n\n        currentOption = {\n            candidates: getSpatialNavigationCandidates(container, { mode: option }),\n            container,\n        };\n\n        // Behavior after 'navnotarget' - Getting out from the current spatnav container\n        if (\n            !parentContainer &&\n            container &&\n            focusingController(eventTarget.spatialNavigationSearch(dir, currentOption), dir)\n        )\n            return;\n\n        if (!createSpatNavEvents('notarget', currentOption.container, eventTarget, dir)) return;\n\n        if (getCSSSpatNavAction(container) === 'auto' && option === 'visible') {\n            if (scrollingController(container, dir)) return;\n        }\n    }\n\n    /**\n     * Find search origin\n     * @see {@link https://drafts.csswg.org/css-nav-1/#nav}\n     * @function findSearchOrigin\n     * @returns {Node} The search origin for the spatial navigation\n     */\n    function findSearchOrigin() {\n        let searchOrigin = document.activeElement;\n\n        if (!searchOrigin || (searchOrigin === document.body && !document.querySelector(':focus'))) {\n            // When the previous search origin lost its focus by blur: (1) disable attribute (2) visibility: hidden\n            if (savedSearchOrigin.element && searchOrigin !== savedSearchOrigin.element) {\n                const elementStyle = window.getComputedStyle(savedSearchOrigin.element, null);\n                const invisibleStyle = ['hidden', 'collapse'];\n\n                if (\n                    savedSearchOrigin.element.disabled ||\n                    invisibleStyle.includes(elementStyle.getPropertyValue('visibility'))\n                ) {\n                    searchOrigin = savedSearchOrigin.element;\n                    return searchOrigin;\n                }\n            }\n            searchOrigin = document.documentElement;\n        }\n        // When the previous search origin lost its focus by blur: (1) display:none () element size turned into zero\n        if (\n            savedSearchOrigin.element &&\n            (getBoundingClientRect(savedSearchOrigin.element).height === 0 ||\n                getBoundingClientRect(savedSearchOrigin.element).width === 0)\n        ) {\n            (startingPoint = (savedSearchOrigin.left + savedSearchOrigin.right) / 2),\n                (savedSearchOrigin.top + savedSearchOrigin.bottom) / 2;\n            // searchOriginRect = savedSearchOrigin.rect;\n        }\n\n        if (!isVisibleInScroller(searchOrigin)) {\n            const scroller = getScrollContainer(searchOrigin);\n            if (scroller && (scroller === window || getCSSSpatNavAction(scroller) === 'auto')) return scroller;\n        }\n        return searchOrigin;\n    }\n\n    /**\n     * Move the scroll of an element depending on the given spatial navigation directrion\n     * (Assume that User Agent defined distance is '40px')\n     * @see {@link https://drafts.csswg.org/css-nav-1/#directionally-scroll-an-element}\n     * @function moveScroll\n     * @param element {Node} - The scrollable element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param offset {Number} - The explicit amount of offset for scrolling. Default value is 0.\n     */\n    function moveScroll(element, dir, offset = 0) {\n        if (element) {\n            switch (dir) {\n                case 'left':\n                    element.scrollLeft -= 40 + offset;\n                    break;\n                case 'right':\n                    element.scrollLeft += 40 + offset;\n                    break;\n                case 'up':\n                    element.scrollTop -= 40 + offset;\n                    break;\n                case 'down':\n                    element.scrollTop += 40 + offset;\n                    break;\n            }\n        }\n    }\n\n    /**\n     * Decide whether an element is container or not.\n     * @function isContainer\n     * @param element {Node} element\n     * @returns {boolean}\n     */\n    function isContainer(element) {\n        return (\n            !element.parentElement ||\n            element.nodeName === 'IFRAME' ||\n            isScrollContainer(element) ||\n            isCSSSpatNavContain(element)\n        );\n    }\n\n    /**\n     * Decide whether an element is delegable container or not.\n     * NOTE: THIS IS NON-NORMATIVE API.\n     * @function isDelegableContainer\n     * @param element {Node} element\n     * @returns {boolean}\n     */\n    function isDelegableContainer(element) {\n        return readCssVar(element, 'spatial-navigation-contain') === 'delegable';\n    }\n\n    /**\n     * Decide whether an element is a scrollable container or not.\n     * @see {@link https://drafts.csswg.org/css-overflow-3/#scroll-container}\n     * @function isScrollContainer\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isScrollContainer(element) {\n        const elementStyle = window.getComputedStyle(element, null);\n        const overflowX = elementStyle.getPropertyValue('overflow-x');\n        const overflowY = elementStyle.getPropertyValue('overflow-y');\n\n        return (overflowX !== 'visible' && overflowX !== 'clip' && isOverflow(element, 'left')) ||\n            (overflowY !== 'visible' && overflowY !== 'clip' && isOverflow(element, 'down'))\n            ? true\n            : false;\n    }\n\n    /**\n     * Decide whether this element is scrollable or not.\n     * NOTE: If the value of 'overflow' is given to either 'visible', 'clip', or 'hidden', the element isn't scrollable.\n     *       If the value is 'hidden', the element can be only programmically scrollable. (https://drafts.csswg.org/css-overflow-3/#valdef-overflow-hidden)\n     * @function isScrollable\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isScrollable(element, dir) {\n        // element, dir\n        if (element && typeof element === 'object') {\n            if (dir && typeof dir === 'string') {\n                // parameter: dir, element\n                if (isOverflow(element, dir)) {\n                    // style property\n                    const elementStyle = window.getComputedStyle(element, null);\n                    const overflowX = elementStyle.getPropertyValue('overflow-x');\n                    const overflowY = elementStyle.getPropertyValue('overflow-y');\n\n                    switch (dir) {\n                        case 'left':\n                        /* falls through */\n                        case 'right':\n                            return overflowX !== 'visible' && overflowX !== 'clip' && overflowX !== 'hidden';\n                        case 'up':\n                        /* falls through */\n                        case 'down':\n                            return overflowY !== 'visible' && overflowY !== 'clip' && overflowY !== 'hidden';\n                    }\n                }\n                return false;\n            } else {\n                // parameter: element\n                return (\n                    element.nodeName === 'HTML' ||\n                    element.nodeName === 'BODY' ||\n                    (isScrollContainer(element) && isOverflow(element))\n                );\n            }\n        }\n    }\n\n    /**\n     * Decide whether an element is overflow or not.\n     * @function isOverflow\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isOverflow(element, dir) {\n        if (element && typeof element === 'object') {\n            if (dir && typeof dir === 'string') {\n                // parameter: element, dir\n                switch (dir) {\n                    case 'left':\n                    /* falls through */\n                    case 'right':\n                        return element.scrollWidth > element.clientWidth;\n                    case 'up':\n                    /* falls through */\n                    case 'down':\n                        return element.scrollHeight > element.clientHeight;\n                }\n            } else {\n                // parameter: element\n                return element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight;\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Decide whether the scrollbar of the browsing context reaches to the end or not.\n     * @function isHTMLScrollBoundary\n     * @param element {Node} - The top browsing context\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isHTMLScrollBoundary(element, dir) {\n        let result = false;\n        switch (dir) {\n            case 'left':\n                result = element.scrollLeft === 0;\n                break;\n            case 'right':\n                result = element.scrollWidth - element.scrollLeft - element.clientWidth === 0;\n                break;\n            case 'up':\n                result = element.scrollTop === 0;\n                break;\n            case 'down':\n                result = element.scrollHeight - element.scrollTop - element.clientHeight === 0;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Decide whether the scrollbar of an element reaches to the end or not.\n     * @function isScrollBoundary\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isScrollBoundary(element, dir) {\n        if (isScrollable(element, dir)) {\n            const winScrollY = element.scrollTop;\n            const winScrollX = element.scrollLeft;\n\n            const height = element.scrollHeight - element.clientHeight;\n            const width = element.scrollWidth - element.clientWidth;\n\n            switch (dir) {\n                case 'left':\n                    return winScrollX === 0;\n                case 'right':\n                    return Math.abs(winScrollX - width) <= 1;\n                case 'up':\n                    return winScrollY === 0;\n                case 'down':\n                    return Math.abs(winScrollY - height) <= 1;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Decide whether an element is inside the scorller viewport or not\n     *\n     * @function isVisibleInScroller\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isVisibleInScroller(element) {\n        const elementRect = element.getBoundingClientRect();\n        let nearestScroller = getScrollContainer(element);\n\n        let scrollerRect = null;\n        if (nearestScroller !== window) {\n            scrollerRect = getBoundingClientRect(nearestScroller);\n        } else {\n            scrollerRect = new DOMRect(0, 0, window.innerWidth, window.innerHeight);\n        }\n\n        if (isInside(scrollerRect, elementRect, 'left') && isInside(scrollerRect, elementRect, 'down')) return true;\n        else return false;\n    }\n\n    /**\n     * Decide whether an element is focusable for spatial navigation.\n     * 1. If element is the browsing context (document, iframe), then it's focusable,\n     * 2. If the element is scrollable container (regardless of scrollable axis), then it's focusable,\n     * 3. The value of tabIndex >= 0, then it's focusable,\n     * 4. If the element is disabled, it isn't focusable,\n     * 5. If the element is expressly inert, it isn't focusable,\n     * 6. Whether the element is being rendered or not.\n     *\n     * @function isFocusable\n     * @param element {Node}\n     * @returns {boolean}\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/interaction.html#focusable-area}\n     */\n    function isFocusable(element) {\n        if (\n            element.tabIndex < 0 ||\n            isAtagWithoutHref(element) ||\n            isActuallyDisabled(element) ||\n            isExpresslyInert(element) ||\n            !isBeingRendered(element)\n        )\n            return false;\n        else if (!element.parentElement || (isScrollable(element) && isOverflow(element)) || element.tabIndex >= 0)\n            return true;\n    }\n\n    /**\n     * Decide whether an element is a tag without href attribute or not.\n     *\n     * @function isAtagWithoutHref\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isAtagWithoutHref(element) {\n        return (\n            element.tagName === 'A' &&\n            element.getAttribute('href') === null &&\n            element.getAttribute('tabIndex') === null\n        );\n    }\n\n    /**\n     * Decide whether an element is actually disabled or not.\n     *\n     * @function isActuallyDisabled\n     * @param element {Node}\n     * @returns {boolean}\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/semantics-other.html#concept-element-disabled}\n     */\n    function isActuallyDisabled(element) {\n        if (['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'OPTGROUP', 'OPTION', 'FIELDSET'].includes(element.tagName))\n            return element.disabled;\n        else return false;\n    }\n\n    /**\n     * Decide whether the element is expressly inert or not.\n     * @see {@link https://html.spec.whatwg.org/multipage/interaction.html#expressly-inert}\n     * @function isExpresslyInert\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isExpresslyInert(element) {\n        return element.inert && !element.ownerDocument.documentElement.inert;\n    }\n\n    /**\n     * Decide whether the element is being rendered or not.\n     * 1. If an element has the style as \"visibility: hidden | collapse\" or \"display: none\", it is not being rendered.\n     * 2. If an element has the style as \"opacity: 0\", it is not being rendered.(that is, invisible).\n     * 3. If width and height of an element are explicitly set to 0, it is not being rendered.\n     * 4. If a parent element is hidden, an element itself is not being rendered.\n     * (CSS visibility property and display property are inherited.)\n     * @see {@link https://html.spec.whatwg.org/multipage/rendering.html#being-rendered}\n     * @function isBeingRendered\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isBeingRendered(element) {\n        if (!isVisibleStyleProperty(element.parentElement)) return false;\n        if (\n            !isVisibleStyleProperty(element) ||\n            element.style.opacity === '0' ||\n            window.getComputedStyle(element).height === '0px' ||\n            window.getComputedStyle(element).width === '0px'\n        )\n            return false;\n        return true;\n    }\n\n    /**\n     * Decide whether this element is partially or completely visible to user agent.\n     * @function isVisible\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isVisible(element) {\n        return !element.parentElement || (isVisibleStyleProperty(element) && hitTest(element));\n    }\n\n    /**\n     * Decide whether this element is completely visible in this viewport for the arrow direction.\n     * @function isEntirelyVisible\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isEntirelyVisible(element, container) {\n        const rect = getBoundingClientRect(element);\n        const containerElm = container || element.getSpatialNavigationContainer();\n        const containerRect = getBoundingClientRect(containerElm);\n\n        // FIXME: when element is bigger than container?\n        const entirelyVisible = !(\n            rect.left < containerRect.left ||\n            rect.right > containerRect.right ||\n            rect.top < containerRect.top ||\n            rect.bottom > containerRect.bottom\n        );\n\n        return entirelyVisible;\n    }\n\n    /**\n     * Decide the style property of this element is specified whether it's visible or not.\n     * @function isVisibleStyleProperty\n     * @param element {CSSStyleDeclaration}\n     * @returns {boolean}\n     */\n    function isVisibleStyleProperty(element) {\n        const elementStyle = window.getComputedStyle(element, null);\n        const thisVisibility = elementStyle.getPropertyValue('visibility');\n        const thisDisplay = elementStyle.getPropertyValue('display');\n        const invisibleStyle = ['hidden', 'collapse'];\n\n        return thisDisplay !== 'none' && !invisibleStyle.includes(thisVisibility);\n    }\n\n    /**\n     * Decide whether this element is entirely or partially visible within the viewport.\n     * @function hitTest\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function hitTest(element) {\n        const elementRect = getBoundingClientRect(element);\n        if (\n            element.nodeName !== 'IFRAME' &&\n            (elementRect.top < 0 ||\n                elementRect.left < 0 ||\n                elementRect.top > element.ownerDocument.documentElement.clientHeight ||\n                elementRect.left > element.ownerDocument.documentElement.clientWidth)\n        )\n            return false;\n\n        let offsetX = parseInt(element.offsetWidth) / 10;\n        let offsetY = parseInt(element.offsetHeight) / 10;\n\n        offsetX = isNaN(offsetX) ? 1 : offsetX;\n        offsetY = isNaN(offsetY) ? 1 : offsetY;\n\n        const hitTestPoint = {\n            // For performance, just using the three point(middle, leftTop, rightBottom) of the element for hit testing\n            middle: [(elementRect.left + elementRect.right) / 2, (elementRect.top + elementRect.bottom) / 2],\n            leftTop: [elementRect.left + offsetX, elementRect.top + offsetY],\n            rightBottom: [elementRect.right - offsetX, elementRect.bottom - offsetY],\n        };\n\n        for (const point in hitTestPoint) {\n            const elemFromPoint = element.ownerDocument.elementFromPoint(...hitTestPoint[point]);\n            if (element === elemFromPoint || element.contains(elemFromPoint)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Decide whether a child element is entirely or partially Included within container visually.\n     * @function isInside\n     * @param containerRect {DOMRect}\n     * @param childRect {DOMRect}\n     * @returns {boolean}\n     */\n    function isInside(containerRect, childRect) {\n        const rightEdgeCheck = containerRect.left < childRect.right && containerRect.right >= childRect.right;\n        const leftEdgeCheck = containerRect.left <= childRect.left && containerRect.right > childRect.left;\n        const topEdgeCheck = containerRect.top <= childRect.top && containerRect.bottom > childRect.top;\n        const bottomEdgeCheck = containerRect.top < childRect.bottom && containerRect.bottom >= childRect.bottom;\n        return (rightEdgeCheck || leftEdgeCheck) && (topEdgeCheck || bottomEdgeCheck);\n    }\n\n    /**\n     * Decide whether this element is entirely or partially visible within the viewport.\n     * Note: rect1 is outside of rect2 for the dir\n     * @function isOutside\n     * @param rect1 {DOMRect}\n     * @param rect2 {DOMRect}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isOutside(rect1, rect2, dir) {\n        switch (dir) {\n            case 'left':\n                return isRightSide(rect2, rect1);\n            case 'right':\n                return isRightSide(rect1, rect2);\n            case 'up':\n                return isBelow(rect2, rect1);\n            case 'down':\n                return isBelow(rect1, rect2);\n            default:\n                return false;\n        }\n    }\n\n    /* rect1 is right of rect2 */\n    function isRightSide(rect1, rect2) {\n        return (\n            rect1.left >= rect2.right ||\n            (rect1.left >= rect2.left &&\n                rect1.right > rect2.right &&\n                rect1.bottom > rect2.top &&\n                rect1.top < rect2.bottom)\n        );\n    }\n\n    /* rect1 is below of rect2 */\n    function isBelow(rect1, rect2) {\n        return (\n            rect1.top >= rect2.bottom ||\n            (rect1.top >= rect2.top &&\n                rect1.bottom > rect2.bottom &&\n                rect1.left < rect2.right &&\n                rect1.right > rect2.left)\n        );\n    }\n\n    /* rect1 is completely aligned or partially aligned for the direction */\n    function isAligned(rect1, rect2, dir) {\n        switch (dir) {\n            case 'left':\n            /* falls through */\n            case 'right':\n                return rect1.bottom > rect2.top && rect1.top < rect2.bottom;\n            case 'up':\n            /* falls through */\n            case 'down':\n                return rect1.right > rect2.left && rect1.left < rect2.right;\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * Get distance between the search origin and a candidate element along the direction when candidate element is inside the search origin.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getDistanceFromPoint\n     * @param point {Point} - The search origin\n     * @param element {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The euclidian distance between the spatial navigation container and an element inside it\n     */\n    function getDistanceFromPoint(point, element, dir) {\n        point = startingPoint;\n        // Get exit point, entry point -> {x: '', y: ''};\n        const points = getEntryAndExitPoints(dir, point, element);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // The result is euclidian distance between P1 and P2.\n        return Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n    }\n\n    /**\n     * Get distance between the search origin and a candidate element along the direction when candidate element is inside the search origin.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getInnerDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The euclidean distance between the spatial navigation container and an element inside it\n     */\n    function getInnerDistance(rect1, rect2, dir) {\n        const baseEdgeForEachDirection = {\n            left: 'right',\n            right: 'left',\n            up: 'bottom',\n            down: 'top',\n        };\n        const baseEdge = baseEdgeForEachDirection[dir];\n\n        return Math.abs(rect1[baseEdge] - rect2[baseEdge]);\n    }\n\n    /**\n     * Get the distance between the search origin and a candidate element considering the direction.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#calculating-the-distance}\n     * @function getDistance\n     * @param searchOrigin {DOMRect | Point} - The search origin\n     * @param candidateRect {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getDistance(searchOrigin, candidateRect, dir) {\n        const kOrthogonalWeightForLeftRight = 30;\n        const kOrthogonalWeightForUpDown = 2;\n\n        let orthogonalBias = 0;\n        let alignBias = 0;\n        const alignWeight = 5.0;\n\n        // Get exit point, entry point -> {x: '', y: ''};\n        const points = getEntryAndExitPoints(dir, searchOrigin, candidateRect);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // A: The euclidean distance between P1 and P2.\n        const A = Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n        let B, C;\n\n        // B: The absolute distance in the direction which is orthogonal to dir between P1 and P2, or 0 if dir is null.\n        // C: The intersection edges between a candidate and the starting point.\n\n        // D: The square root of the area of intersection between the border boxes of candidate and starting point\n        const intersectionRect = getIntersectionRect(searchOrigin, candidateRect);\n        const D = intersectionRect.area;\n\n        switch (dir) {\n            case 'left':\n            /* falls through */\n            case 'right':\n                // If two elements are aligned, add align bias\n                // else, add orthogonal bias\n                if (isAligned(searchOrigin, candidateRect, dir))\n                    alignBias = Math.min(intersectionRect.height / searchOrigin.height, 1);\n                else orthogonalBias = searchOrigin.height / 2;\n\n                B = (P2 + orthogonalBias) * kOrthogonalWeightForLeftRight;\n                C = alignWeight * alignBias;\n                break;\n\n            case 'up':\n            /* falls through */\n            case 'down':\n                // If two elements are aligned, add align bias\n                // else, add orthogonal bias\n                if (isAligned(searchOrigin, candidateRect, dir))\n                    alignBias = Math.min(intersectionRect.width / searchOrigin.width, 1);\n                else orthogonalBias = searchOrigin.width / 2;\n\n                B = (P1 + orthogonalBias) * kOrthogonalWeightForUpDown;\n                C = alignWeight * alignBias;\n                break;\n\n            default:\n                B = 0;\n                C = 0;\n                break;\n        }\n\n        return A + B - C - D;\n    }\n\n    /**\n     * Get the euclidean distance between the search origin and a candidate element considering the direction.\n     * @function getEuclideanDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getEuclideanDistance(rect1, rect2, dir) {\n        // Get exit point, entry point\n        const points = getEntryAndExitPoints(dir, rect1, rect2);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // Return the euclidean distance between P1 and P2.\n        return Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n    }\n\n    /**\n     * Get the absolute distance between the search origin and a candidate element considering the direction.\n     * @function getAbsoluteDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getAbsoluteDistance(rect1, rect2, dir) {\n        // Get exit point, entry point\n        const points = getEntryAndExitPoints(dir, rect1, rect2);\n\n        // Return the absolute distance in the dir direction between P1 and P.\n        return dir === 'left' || dir === 'right'\n            ? Math.abs(points.entryPoint.x - points.exitPoint.x)\n            : Math.abs(points.entryPoint.y - points.exitPoint.y);\n    }\n\n    /**\n     * Get entry point and exit point of two elements considering the direction.\n     * @function getEntryAndExitPoints\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD). Default value for dir is 'down'.\n     * @param searchOrigin {DOMRect | Point} - The search origin which contains the exit point\n     * @param candidateRect {DOMRect} - One of candidates which contains the entry point\n     * @returns {Points} The exit point from the search origin and the entry point from a candidate\n     */\n    function getEntryAndExitPoints(dir = 'down', searchOrigin, candidateRect) {\n        /**\n         * User type definition for Point\n         * @typeof {Object} Points\n         * @property {Point} Points.entryPoint\n         * @property {Point} Points.exitPoint\n         */\n        const points = { entryPoint: { x: 0, y: 0 }, exitPoint: { x: 0, y: 0 } };\n\n        if (startingPoint) {\n            points.exitPoint = searchOrigin;\n\n            switch (dir) {\n                case 'left':\n                    points.entryPoint.x = candidateRect.right;\n                    break;\n                case 'up':\n                    points.entryPoint.y = candidateRect.bottom;\n                    break;\n                case 'right':\n                    points.entryPoint.x = candidateRect.left;\n                    break;\n                case 'down':\n                    points.entryPoint.y = candidateRect.top;\n                    break;\n            }\n\n            // Set orthogonal direction\n            switch (dir) {\n                case 'left':\n                case 'right':\n                    if (startingPoint.y <= candidateRect.top) {\n                        points.entryPoint.y = candidateRect.top;\n                    } else if (startingPoint.y < candidateRect.bottom) {\n                        points.entryPoint.y = startingPoint.y;\n                    } else {\n                        points.entryPoint.y = candidateRect.bottom;\n                    }\n                    break;\n\n                case 'up':\n                case 'down':\n                    if (startingPoint.x <= candidateRect.left) {\n                        points.entryPoint.x = candidateRect.left;\n                    } else if (startingPoint.x < candidateRect.right) {\n                        points.entryPoint.x = startingPoint.x;\n                    } else {\n                        points.entryPoint.x = candidateRect.right;\n                    }\n                    break;\n            }\n        } else {\n            // Set direction\n            switch (dir) {\n                case 'left':\n                    points.exitPoint.x = searchOrigin.left;\n                    points.entryPoint.x =\n                        candidateRect.right < searchOrigin.left ? candidateRect.right : searchOrigin.left;\n                    break;\n                case 'up':\n                    points.exitPoint.y = searchOrigin.top;\n                    points.entryPoint.y =\n                        candidateRect.bottom < searchOrigin.top ? candidateRect.bottom : searchOrigin.top;\n                    break;\n                case 'right':\n                    points.exitPoint.x = searchOrigin.right;\n                    points.entryPoint.x =\n                        candidateRect.left > searchOrigin.right ? candidateRect.left : searchOrigin.right;\n                    break;\n                case 'down':\n                    points.exitPoint.y = searchOrigin.bottom;\n                    points.entryPoint.y =\n                        candidateRect.top > searchOrigin.bottom ? candidateRect.top : searchOrigin.bottom;\n                    break;\n            }\n\n            // Set orthogonal direction\n            switch (dir) {\n                case 'left':\n                case 'right':\n                    if (isBelow(searchOrigin, candidateRect)) {\n                        points.exitPoint.y = searchOrigin.top;\n                        points.entryPoint.y =\n                            candidateRect.bottom < searchOrigin.top ? candidateRect.bottom : searchOrigin.top;\n                    } else if (isBelow(candidateRect, searchOrigin)) {\n                        points.exitPoint.y = searchOrigin.bottom;\n                        points.entryPoint.y =\n                            candidateRect.top > searchOrigin.bottom ? candidateRect.top : searchOrigin.bottom;\n                    } else {\n                        points.exitPoint.y = Math.max(searchOrigin.top, candidateRect.top);\n                        points.entryPoint.y = points.exitPoint.y;\n                    }\n                    break;\n\n                case 'up':\n                case 'down':\n                    if (isRightSide(searchOrigin, candidateRect)) {\n                        points.exitPoint.x = searchOrigin.left;\n                        points.entryPoint.x =\n                            candidateRect.right < searchOrigin.left ? candidateRect.right : searchOrigin.left;\n                    } else if (isRightSide(candidateRect, searchOrigin)) {\n                        points.exitPoint.x = searchOrigin.right;\n                        points.entryPoint.x =\n                            candidateRect.left > searchOrigin.right ? candidateRect.left : searchOrigin.right;\n                    } else {\n                        points.exitPoint.x = Math.max(searchOrigin.left, candidateRect.left);\n                        points.entryPoint.x = points.exitPoint.x;\n                    }\n                    break;\n            }\n        }\n\n        return points;\n    }\n\n    /**\n     * Find focusable elements within the container\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getIntersectionRect\n     * @param rect1 {DOMRect} - The search origin which contains the exit point\n     * @param rect2 {DOMRect} - One of candidates which contains the entry point\n     * @returns {IntersectionArea} The intersection area between two elements.\n     *\n     * @typeof {Object} IntersectionArea\n     * @property {Number} IntersectionArea.width\n     * @property {Number} IntersectionArea.height\n     */\n    function getIntersectionRect(rect1, rect2) {\n        const intersection_rect = { width: 0, height: 0, area: 0 };\n\n        const new_location = [Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)];\n        const new_max_point = [Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom)];\n\n        intersection_rect.width = Math.abs(new_location[0] - new_max_point[0]);\n        intersection_rect.height = Math.abs(new_location[1] - new_max_point[1]);\n\n        if (!(new_location[0] >= new_max_point[0] || new_location[1] >= new_max_point[1])) {\n            // intersecting-cases\n            intersection_rect.area = Math.sqrt(intersection_rect.width * intersection_rect.height);\n        }\n\n        return intersection_rect;\n    }\n\n    /**\n     * Handle the spatial navigation behavior for HTMLInputElement, HTMLTextAreaElement\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input|HTMLInputElement (MDN)}\n     * @function handlingEditableElement\n     * @param e {Event} - keydownEvent\n     * @returns {boolean}\n     */\n    function handlingEditableElement(e) {\n        const SPINNABLE_INPUT_TYPES = ['email', 'date', 'month', 'number', 'time', 'week'],\n            TEXT_INPUT_TYPES = ['password', 'text', 'search', 'tel', 'url', null];\n        const eventTarget = document.activeElement;\n        const startPosition = eventTarget.selectionStart;\n        const endPosition = eventTarget.selectionEnd;\n        const focusNavigableArrowKey = {\n            left: false,\n            up: false,\n            right: false,\n            down: false,\n        };\n\n        const dir = ARROW_KEY_CODE[e.keyCode];\n        if (dir === undefined) {\n            return focusNavigableArrowKey;\n        }\n\n        if (SPINNABLE_INPUT_TYPES.includes(eventTarget.getAttribute('type')) && (dir === 'up' || dir === 'down')) {\n            focusNavigableArrowKey[dir] = true;\n        } else if (TEXT_INPUT_TYPES.includes(eventTarget.getAttribute('type')) || eventTarget.nodeName === 'TEXTAREA') {\n            if (startPosition === endPosition) {\n                // if there isn't any selected text\n                if (startPosition === 0) {\n                    focusNavigableArrowKey.left = true;\n                    focusNavigableArrowKey.up = true;\n                }\n                if (endPosition === eventTarget.value.length) {\n                    focusNavigableArrowKey.right = true;\n                    focusNavigableArrowKey.down = true;\n                }\n            }\n        } else {\n            // HTMLDataListElement, HTMLSelectElement, HTMLOptGroup\n            focusNavigableArrowKey[dir] = true;\n        }\n\n        return focusNavigableArrowKey;\n    }\n\n    /**\n     * Get the DOMRect of an element\n     * @function getBoundingClientRect\n     * @param {Node} element\n     * @returns {DOMRect}\n     */\n    function getBoundingClientRect(element) {\n        // memoization\n        let rect = mapOfBoundRect && mapOfBoundRect.get(element);\n        if (!rect) {\n            const boundingClientRect = element.getBoundingClientRect();\n            rect = {\n                top: Number(boundingClientRect.top.toFixed(2)),\n                right: Number(boundingClientRect.right.toFixed(2)),\n                bottom: Number(boundingClientRect.bottom.toFixed(2)),\n                left: Number(boundingClientRect.left.toFixed(2)),\n                width: Number(boundingClientRect.width.toFixed(2)),\n                height: Number(boundingClientRect.height.toFixed(2)),\n            };\n            mapOfBoundRect && mapOfBoundRect.set(element, rect);\n        }\n        return rect;\n    }\n\n    /**\n     * Get the candidates which is fully inside the target element in visual\n     * @param {Node} targetElement\n     * @returns {sequence<Node>}  overlappedCandidates\n     */\n    function getOverlappedCandidates(targetElement) {\n        const container = targetElement.getSpatialNavigationContainer();\n        const candidates = container.focusableAreas();\n        const overlappedCandidates = [];\n\n        candidates.forEach((element) => {\n            if (targetElement !== element && isEntirelyVisible(element, targetElement)) {\n                overlappedCandidates.push(element);\n            }\n        });\n\n        return overlappedCandidates;\n    }\n\n    /**\n     * Get the list of the experimental APIs\n     * @function getExperimentalAPI\n     */\n    function getExperimentalAPI() {\n        function canScroll(container, dir) {\n            return (\n                (isScrollable(container, dir) && !isScrollBoundary(container, dir)) ||\n                (!container.parentElement && !isHTMLScrollBoundary(container, dir))\n            );\n        }\n\n        function findTarget(findCandidate, element, dir, option) {\n            let eventTarget = element;\n            let bestNextTarget = null;\n\n            // 4\n            if (eventTarget === document || eventTarget === document.documentElement) {\n                eventTarget = document.body || document.documentElement;\n            }\n\n            // 5\n            // At this point, spatialNavigationSearch can be applied.\n            // If startingPoint is either a scroll container or the document,\n            // find the best candidate within startingPoint\n            if ((isContainer(eventTarget) || eventTarget.nodeName === 'BODY') && !(eventTarget.nodeName === 'INPUT')) {\n                if (eventTarget.nodeName === 'IFRAME') eventTarget = eventTarget.contentDocument.body;\n\n                const candidates = getSpatialNavigationCandidates(eventTarget, option);\n\n                // 5-2\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    return findCandidate\n                        ? getFilteredSpatialNavigationCandidates(eventTarget, dir, candidates)\n                        : eventTarget.spatialNavigationSearch(dir, { candidates });\n                }\n                if (canScroll(eventTarget, dir)) {\n                    return findCandidate ? [] : eventTarget;\n                }\n            }\n\n            // 6\n            // Let container be the nearest ancestor of eventTarget\n            let container = eventTarget.getSpatialNavigationContainer();\n            let parentContainer = container.parentElement ? container.getSpatialNavigationContainer() : null;\n\n            // When the container is the viewport of a browsing context\n            if (!parentContainer && window.location !== window.parent.location) {\n                parentContainer = window.parent.document.documentElement;\n            }\n\n            // 7\n            while (parentContainer) {\n                const candidates = filteredCandidates(\n                    eventTarget,\n                    getSpatialNavigationCandidates(container, option),\n                    dir,\n                    container,\n                );\n\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    bestNextTarget = eventTarget.spatialNavigationSearch(dir, {\n                        candidates,\n                        container,\n                    });\n                    if (bestNextTarget) {\n                        return findCandidate ? candidates : bestNextTarget;\n                    }\n                }\n\n                // If there isn't any candidate and the best candidate among candidate:\n                // 1) Scroll or 2) Find candidates of the ancestor container\n                // 8 - if\n                else if (canScroll(container, dir)) {\n                    return findCandidate ? [] : eventTarget;\n                } else if (container === document || container === document.documentElement) {\n                    container = window.document.documentElement;\n\n                    // The page is in an iframe\n                    if (window.location !== window.parent.location) {\n                        // eventTarget needs to be reset because the position of the element in the IFRAME\n                        // is unuseful when the focus moves out of the iframe\n                        eventTarget = window.frameElement;\n                        container = window.parent.document.documentElement;\n                        if (container.parentElement) parentContainer = container.getSpatialNavigationContainer();\n                        else {\n                            parentContainer = null;\n                            break;\n                        }\n                    }\n                } else {\n                    // avoiding when spatnav container with tabindex=-1\n                    if (isFocusable(container)) {\n                        eventTarget = container;\n                    }\n\n                    container = parentContainer;\n                    if (container.parentElement) parentContainer = container.getSpatialNavigationContainer();\n                    else {\n                        parentContainer = null;\n                        break;\n                    }\n                }\n            }\n\n            if (!parentContainer && container) {\n                // Getting out from the current spatnav container\n                const candidates = filteredCandidates(\n                    eventTarget,\n                    getSpatialNavigationCandidates(container, option),\n                    dir,\n                    container,\n                );\n\n                // 9\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    bestNextTarget = eventTarget.spatialNavigationSearch(dir, {\n                        candidates,\n                        container,\n                    });\n                    if (bestNextTarget) {\n                        return findCandidate ? candidates : bestNextTarget;\n                    }\n                }\n            }\n\n            if (canScroll(container, dir)) {\n                bestNextTarget = eventTarget;\n                return bestNextTarget;\n            }\n        }\n\n        return {\n            isContainer,\n            isScrollContainer,\n            isVisibleInScroller,\n            findCandidates: findTarget.bind(null, true),\n            findNextTarget: findTarget.bind(null, false),\n            getDistanceFromTarget: (element, candidateElement, dir) => {\n                if ((isContainer(element) || element.nodeName === 'BODY') && !(element.nodeName === 'INPUT')) {\n                    if (getSpatialNavigationCandidates(element).includes(candidateElement)) {\n                        return getInnerDistance(\n                            getBoundingClientRect(element),\n                            getBoundingClientRect(candidateElement),\n                            dir,\n                        );\n                    }\n                }\n                return getDistance(getBoundingClientRect(element), getBoundingClientRect(candidateElement), dir);\n            },\n        };\n    }\n\n    /**\n     * Makes to use the experimental APIs.\n     * @function enableExperimentalAPIs\n     * @param option {boolean} - If it is true, the experimental APIs can be used or it cannot.\n     */\n    function enableExperimentalAPIs(option) {\n        const currentKeyMode = window.__spatialNavigation__ && window.__spatialNavigation__.keyMode;\n        window.__spatialNavigation__ =\n            option === false ? getInitialAPIs() : Object.assign(getInitialAPIs(), getExperimentalAPI());\n        window.__spatialNavigation__.keyMode = currentKeyMode;\n        Object.seal(window.__spatialNavigation__);\n    }\n\n    /**\n     * Set the environment for using the spatial navigation polyfill.\n     * @function getInitialAPIs\n     */\n    function getInitialAPIs() {\n        return {\n            enableExperimentalAPIs,\n            get keyMode() {\n                return this._keymode ? this._keymode : 'ARROW';\n            },\n            set keyMode(mode) {\n                this._keymode = ['SHIFTARROW', 'ARROW', 'NONE'].includes(mode) ? mode : 'ARROW';\n            },\n            setStartingPoint: function (x, y) {\n                startingPoint = x && y ? { x, y } : null;\n            },\n        };\n    }\n\n    initiateSpatialNavigation();\n    enableExperimentalAPIs(true);\n    spatialNavigationHandler();\n})();\n\nlet currentSpatialNavigationContainer = null;\n\ndocument.addEventListener('navbeforefocus', (e) => {\n    if (e.target instanceof HTMLElement) {\n        e.preventDefault();\n\n        let { target } = e;\n\n        // focus on the first element when changing spatnav container\n        // const nextSpatialNavigationContainer = target.getSpatialNavigationContainer();\n        //\n        // if (currentSpatialNavigationContainer && currentSpatialNavigationContainer !== nextSpatialNavigationContainer) {\n        //     if (nextSpatialNavigationContainer.__lastElementFocused) {\n        //         target = nextSpatialNavigationContainer.__lastElementFocused;\n        //     } else {\n        //         [target] = nextSpatialNavigationContainer.focusableAreas({ mode: 'all' });\n        //     }\n        //     // target.focus();\n        // }\n        //\n        // currentSpatialNavigationContainer = nextSpatialNavigationContainer;\n        // currentSpatialNavigationContainer.__lastElementFocused = target;\n\n        requestAnimationFrame(async () => {\n            target.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });\n            // if (isElementInViewport(target)) {\n            //     target.focus();\n            // }\n\n            await new Promise((resolve) => {\n                const intersectionObserver = new IntersectionObserver(\n                    ([entry]) => {\n                        if (entry.isIntersecting) {\n                            resolve();\n                        }\n                    },\n                    {\n                        threshold: 1,\n                    },\n                );\n                intersectionObserver.observe(target);\n            });\n\n            target.focus();\n        });\n    }\n});\n\ndocument.addEventListener('keyup', (event) => {\n    if (event.keyCode === 13) {\n        event.preventDefault();\n        if (document.activeElement && !(document.activeElement instanceof HTMLButtonElement)) {\n            document.activeElement.click();\n        }\n    }\n});\n\n// console.log('1');\n\n// let isIntersecting = false;\n// const intersectionObserver = new IntersectionObserver(([entry]) => {\n// console.log('2');\n//   isIntersecting = entry.isIntersecting;\n// }, {\n//   threshold: 1\n// });\n// intersectionObserver.observe($0)\n// console.log('3');\n\n// start observing\n// intersectionObserver.observe());\n\nfunction isElementInViewport(el) {\n    const rect = el.getBoundingClientRect();\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n}\n","export function mobileDetect() {\n    const navigator = window.navigator.userAgent || window.navigator.vendor;\n\n    /* eslint-disable */\n    return (\n        /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n            navigator,\n        ) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n            navigator.substr(0, 4),\n        )\n    );\n    /* eslint-enable */\n}\n","export function createAction<T extends string, P>(type: T, payload: P) {\n    return {\n        type,\n        payload,\n    };\n}\n\nexport function createEmptyAction<T extends string>(type: T) {\n    return {\n        type,\n    };\n}\n","import { createEmptyAction } from 'tools/create-action';\n\nexport const closeAppAction = () => createEmptyAction('CLOSE_APP');\n\nexport const applyItemsChanges = () => createEmptyAction('APPLY_ITEMS_CHANGES');\n\nexport const revertUserChanges = () => createEmptyAction('REVERT_USER_CHANGES');\n","import { AppState } from '../constants';\n\nexport const selectProductById = (state: AppState, itemId: string) => state.productsData.itemsMap[itemId];\nexport const selectProductDiffById = (state: AppState, itemId: string) => state.productsDiffData.itemsMap[itemId];\nexport const selectCartItemById = (state: AppState, itemId: string) => state.cart.itemsMap[itemId];\nexport const selectPathname = (state: AppState) => state.router.location.pathname;\nexport const selectHeader = (state: AppState) => state.layout.header;\n","import { AppState } from 'store/constants';\nimport { selectCartItemById, selectProductById, selectProductDiffById } from 'store/selectors';\n\nexport const formatPrice = (price: number) => Math.ceil(price / 100);\n\nexport const prepareCount = (state: AppState, itemId: string) => {\n    const cartItem = selectCartItemById(state, itemId);\n\n    return cartItem ? cartItem.count : 0;\n};\n\nexport const calculateButtonDisabled = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const cartItem = selectCartItemById(state, itemId);\n\n    return cartItem && cartItem.count === productItem.quantityLeft;\n};\n\nexport const getQuantityLeftById = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n\n    if (productItemDiff && typeof productItemDiff.quantityLeft !== 'undefined') {\n        return productItemDiff.quantityLeft;\n    }\n\n    return productItem.quantityLeft;\n};\n\nexport const getDisabled = (state: AppState, itemId: string) => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n\n    return quantityLeft === 0;\n};\n\nexport const getPriceById = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        return productItemDiff.price;\n    }\n\n    return productItem.price;\n};\n\nexport const preparePriceById = (state: AppState, itemId: string) => {\n    const price = getPriceById(state, itemId);\n\n    return formatPrice(price);\n};\n\nexport const getOldPriceById = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        return formatPrice(productItem.price);\n    }\n\n    return undefined;\n};\n\nexport const formatSale = (oldValue: number, newValue: number) =>\n    String(Math.ceil(((oldValue - newValue) / oldValue) * 100));\n\nexport const getCountById = (state: AppState, itemId: string) => {\n    const cartItem = selectCartItemById(state, itemId);\n    const countInCart = cartItem ? cartItem.count : 0;\n    const quantityLeft = getQuantityLeftById(state, itemId);\n\n    return Math.min(countInCart, quantityLeft);\n};\n\nexport const wantMoreThanHave = (state: AppState, itemId: string) => {\n    const cartItem = selectCartItemById(state, itemId);\n    const quantityLeft = getQuantityLeftById(state, itemId);\n\n    return cartItem && cartItem.count > quantityLeft;\n};\n\nexport const canAddMore = (state: AppState, itemId: string) => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n    const cartItem = selectCartItemById(state, itemId);\n\n    return (\n        quantityLeft !== 0 && // есть остатки\n        (!cartItem || cartItem.count < quantityLeft) // текущее кол-во меньше остатков\n    );\n};\n","import { doRequest } from 'tools/request';\n\nimport { DGApiResponse } from './common';\n\nconst apiKey = 'rukrby5549';\n\nconst apiPrefix = 'https://catalog.api.2gis.ru';\n\nexport const doDGApiRequest = async <Params, ResponseType>(\n    url: string,\n    params: Params,\n): Promise<DGApiResponse<ResponseType>> => {\n    const response = await doRequest<DGApiResponse<ResponseType>>(`${apiPrefix}${url}`, {\n        key: apiKey,\n        ...params,\n    });\n\n    return response;\n};\n","const isStatusCode4xx = (statusCode: number) => statusCode >= 400 && statusCode <= 499;\n\nexport const doRequest = async <Result = unknown>(\n    url: string,\n    params: Record<string, string | number | boolean>,\n): Promise<Result> => {\n    const paramsString = Object.keys(params)\n        .reduce<string[]>((acc, key) => {\n            acc.push(`${key}=${params[key as keyof typeof params]}`);\n\n            return acc;\n        }, [])\n        .join('&');\n\n    const response = await fetch(`${url}?${paramsString}`);\n\n    // здесь выбрасываем только сетевые и серверные ошибки\n    if (!response.ok && !isStatusCode4xx(response.status)) {\n        throw response.status;\n    }\n\n    return response.json() as Promise<Result>;\n};\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { doDGApiRequest } from './doApiRequest';\nimport { DGLocale, DGListResult, DGLatLng } from './common';\n\ntype DGGetSuggestsParams = {\n    locale: DGLocale;\n    q: string;\n    fields: string[];\n    suggestType: string;\n    type: string[];\n    polygon: string;\n    location: [string, string];\n};\n\ninterface DGApiGetSuggestsParams {\n    locale: DGLocale;\n    q: string;\n    fields: string;\n    suggest_type: string;\n    type: string;\n    polygon: string;\n    location: string;\n}\n\nexport interface DGSuggest {\n    id: string;\n    full_name: string;\n    name: string;\n    search_attributes: {\n        suggested_text: string;\n    };\n    type: string;\n    point?: DGLatLng;\n}\n\nexport interface DGStreetSuggest extends DGSuggest {\n    type: 'street';\n}\n\nexport function isStreetSuggest(suggest: DGSuggest): suggest is DGStreetSuggest {\n    return suggest.type === 'street';\n}\n\ninterface DGBuildingAddressComponent {\n    number: string;\n    street: string;\n    street_id: string;\n    type: 'street_number';\n}\n\ninterface DGBuildingAddress {\n    building_id: string;\n    components: DGBuildingAddressComponent[];\n    postcode: string;\n}\n\nexport interface DGBuildingSuggest extends DGSuggest {\n    type: 'building';\n    address_name: string; // Кутузовский проспект, 43 ст2\n    purpose_name: string; // Жилой дом с административными помещениями\n    address: DGBuildingAddress;\n    point: DGLatLng;\n}\n\nexport function isBuildingSuggest(suggest: DGSuggest): suggest is DGBuildingSuggest {\n    return suggest.type === 'building';\n}\n\ninterface DGGetSuggestsResult {\n    total: number;\n    items: DGSuggest[];\n}\n\nconst convertParams = ({\n    fields,\n    type,\n    suggestType,\n    location,\n    ...params\n}: DGGetSuggestsParams): DGApiGetSuggestsParams => ({\n    ...params,\n    fields: fields.join(','),\n    type: type.join(','),\n    suggest_type: suggestType,\n    location: location.join(','),\n});\n\nconst suggestsEndpointPath = '/3.0/suggests';\n\nexport const getSuggests = async (params: DGGetSuggestsParams) => {\n    return doDGApiRequest<DGApiGetSuggestsParams, DGListResult<DGSuggest>>(suggestsEndpointPath, convertParams(params));\n};\n","import { StoreUser } from 'store/constants/user';\nimport { DGSuggest, isBuildingSuggest, isStreetSuggest } from 'tools/twoGis/api/suggest';\nimport { AddressSimpleSuggestItemView } from 'pages/AddressSimple/SuggestItem/AddressSimpleSuggestItem';\n\nimport { AppReducer, AppState, initialState } from '../../constants';\n\nconst prepareSuggestItems = (state: AppState) => {\n    const {\n        twoGisSuggestsData: { itemsMap },\n        addressSimplePage: { inputValue },\n    } = state;\n\n    return Object.values(itemsMap)\n        .filter((item) => {\n            return isBuildingSuggest(item);\n        })\n        .map((item) => item.id);\n};\n\n// const prepareSuggestItems = (state: AppState) => {\n//     const {\n//         twoGisSuggestsData: { itemsMap },\n//         addressSimplePage: { inputValue },\n//     } = state;\n//\n//     return Object.values(itemsMap).reduce<AddressSimpleSuggestItemView[]>((result, suggestItem) => {\n//         if (isBuildingSuggest(suggestItem)) {\n//             result.push({ name: suggestItem.full_name, id: suggestItem.id });\n//         }\n//\n//         if (isStreetSuggest(suggestItem)) {\n//             // eslint-disable-next-line @typescript-eslint/camelcase\n//             const { name, full_name, id } = suggestItem;\n//\n//             // if (full_name !== inputValue) {\n//             // eslint-disable-next-line @typescript-eslint/camelcase\n//             result.push({ id, name: full_name });\n//             // }\n//         }\n//\n//         return result;\n//     }, []);\n// };\n\nexport const getHasValidAddress = (user: StoreUser) => {\n    const { street, house, city, address, addressLocationLatitude, addressLocationLongitude } = user;\n\n    return street && house && city && address && addressLocationLatitude && addressLocationLongitude;\n};\n\nconst prepareIsSubmitButtonDisabled = (state: AppState) => !getHasValidAddress(state.userModel);\n\nexport const addressSimplePageView: AppReducer = (state, action) => {\n    const { addressSimplePage, userModel } = state;\n\n    switch (action.type) {\n        // case 'address/CHANGE_INPUT_VALUE': {\n        //     addressSimplePage.selectedSuggestItemIndex = initialState.addressSimplePage.selectedSuggestItemIndex;\n        //\n        //     break;\n        // }\n\n        // case 'address/SET_SUGGESTS': {\n        //     addressSimplePage.suggestsRaw = action.payload.reduce<Record<string, DGSuggest>>((result, item) => {\n        //         result[item.id] = item;\n        //\n        //         return result;\n        //     }, {});\n        //\n        //     break;\n        // }\n\n        case 'address/SELECT_SUGGEST_ITEM': {\n            addressSimplePage.suggestsListIndex = state.addressSimplePage.suggests.findIndex(\n                (itemId) => itemId === action.payload,\n            );\n\n            break;\n        }\n\n        // case 'address/CLICK_SUGGEST_ITEM': {\n        //     const suggestItem = state.addressSimplePage.suggestsRaw[action.payload];\n        //\n        //     addressSimplePage.selectedSuggestItemIndex = initialState.addressSimplePage.selectedSuggestItemIndex;\n        //\n        //     if (isBuildingSuggest(suggestItem)) {\n        //         addressSimplePage.submitButtonFocusHash = Math.random();\n        //     } else {\n        //         addressSimplePage.inputFocusHash = Math.random();\n        //     }\n        //\n        //     break;\n        // }\n\n        // case 'ADDRESS_INPUT': {\n        // addressSimplePage.inputFocusHash = Math.random();\n        //\n        // break;\n        // }\n\n        default:\n            break;\n    }\n\n    addressSimplePage.inputValue = userModel.address;\n    addressSimplePage.suggests = prepareSuggestItems(state);\n    // addressSimplePage.isSubmitButtonDisabled = prepareIsSubmitButtonDisabled(state);\n};\n","import { createAction, createEmptyAction } from 'tools/create-action';\n\nimport {\n    ShowItemsCommandPayload,\n    AddItemCommandPayload,\n    RemoveItemCommandPayload,\n    GoToCatalogCommandPayload,\n    ValidationOkCommandPayload,\n    AddressInputPayload,\n    AddressInputAddPayload,\n    AddressFullInputAddPayload,\n    AddressFullInputCommandPayload,\n    OrderErrorPayload,\n    ItemsChangesCommandPayload,\n    AddressFullCommentCommandPayload,\n    GoToPromoCommandPayload,\n    AddressInputDeclinePayload,\n} from '../constants/native';\n\nexport const showItemsAction = (payload: ShowItemsCommandPayload) => createAction('SHOW_ITEMS', payload);\n\nexport const itemsChangesAction = (payload: ItemsChangesCommandPayload) => createAction('ITEMS_CHANGES', payload);\n\nexport const addItemAction = (payload: AddItemCommandPayload) => createAction('ADD_ITEM', payload);\n\ninterface RemoveItemCommandPayloadExtended extends RemoveItemCommandPayload {\n    shouldRemoveMention?: boolean;\n}\nexport const removeItemAction = (payload: RemoveItemCommandPayloadExtended) => createAction('REMOVE_ITEM', payload);\n\nexport const removeAllAction = () => createEmptyAction('REMOVE_ALL');\n\nexport const goToCatalogAction = (payload: GoToCatalogCommandPayload) => createAction('GO_TO_CATALOG', payload);\n\nexport const goToPromo = (payload: GoToPromoCommandPayload) => createAction('GO_TO_PROMO', payload);\n\nexport const goBackAction = () => createEmptyAction('GO_BACK');\n\nexport const goToWaitAction = () => createEmptyAction('GO_TO_WAIT');\n\nexport const validationOkAction = (payload: ValidationOkCommandPayload) => createAction('VALIDATION_OK', payload);\n\nexport const orderErrorAction = (payload: OrderErrorPayload) => createAction('ORDER_ERROR', payload);\n\nexport const addressInputAction = (payload: AddressInputPayload) => createAction('ADDRESS_INPUT', payload);\n\nexport const addressInputAddAction = (payload: AddressInputAddPayload) => createAction('ADDRESS_INPUT_ADD', payload);\n\nexport const addressInputDeclineAction = () => createEmptyAction('ADDRESS_INPUT_DECLINE');\n\nexport const addressInputClearAction = () => createEmptyAction('ADDRESS_INPUT_CLEAR');\n\nexport const addressFullInputAction = (payload: AddressFullInputCommandPayload) =>\n    createAction('ADDRESS_FULL_INPUT', payload);\n\nexport const addressFullInputAddAction = (payload: AddressFullInputAddPayload) =>\n    createAction('ADDRESS_FULL_INPUT_ADD', payload);\n\nexport const addressFullInputClearAction = () => createEmptyAction('ADDRESS_FULL_INPUT_CLEAR');\n\nexport const addressFullCommentAction = (payload: AddressFullCommentCommandPayload) =>\n    createAction('ADDRESS_FULL_COMMENT', payload);\n\nexport const addressFullValidationErrorAction = () => createEmptyAction('ADDRESS_FULL_VALIDATION_ERROR');\n\nexport const addressFullSuccessAction = () => createEmptyAction('ADDRESS_FULL_SUCCESS');\n\nexport const askAgainForOrderStatusAction = () => createEmptyAction('ASK_AGAIN_FOR_ORDER_STATUS');\n\nexport const askAgainForOrderStatusFinalAction = () => createEmptyAction('ASK_AGAIN_FOR_ORDER_STATUS_FINAL');\n","export enum ROUTES {\n    CATALOG = '/catalog',\n    CART = '/cart',\n    STATUS = '/status',\n    ADDRESS_SIMPLE = '/address-simple',\n    ADDRESS_SIMPLE_GUIDE = '/address-simple-guide',\n    ADDRESS_SIMPLE_QUESTION = '/address-simple-question',\n    ADDRESS_FULL = '/address-full',\n    ADDRESS_FULL_ALL = '/address-full/all',\n    ADDRESS_FULL_PHONE = '/address-full/phone',\n    ADDRESS_FULL_APARTMENT = '/address-full/apartment',\n    ADDRESS_FULL_ENTRANCE = '/address-full/entrance',\n    ADDRESS_FULL_FLOOR = '/address-full/floor',\n    ADDRESS_FULL_DOORCODE = '/address-full/door-code',\n    PROMO = '/promo',\n    NO_AREA = '/no-area',\n    ERROR = '/error',\n    WAIT = '/wait',\n}\n","import { addressFullSuccessAction } from 'store/actions/native';\nimport { AppThunkAction } from 'store/constants';\nimport { goBack, replace } from 'connected-react-router';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\n\nexport const addressFullValidationOkThunk = (): AppThunkAction => (dispatch, getState) => {\n    const state = getState();\n    const {\n        addressFullPage: { nextFocus },\n    } = state;\n    const currentRoute = selectPathname(state);\n\n    if (nextFocus === ROUTES.ADDRESS_FULL_ALL || nextFocus === currentRoute) {\n        dispatch(goBack());\n    } else {\n        dispatch(replace(nextFocus));\n    }\n};\n\nexport const addressFullSuccessThunk = (): AppThunkAction => (dispatch) => {\n    dispatch(addressFullSuccessAction());\n\n    dispatch(goBack());\n};\n","import { go } from 'connected-react-router';\n\nexport const goBackToStart = () => go(-1 * window.history.length);\n","import { push, replace } from 'connected-react-router';\nimport {\n    addressInputAction,\n    addressInputAddAction,\n    addressInputDeclineAction,\n    goToCatalogAction,\n    goToPromo,\n    validationOkAction,\n} from 'store/actions/native';\nimport { goBackToStart } from 'store/actions/router';\nimport { AppThunkAction } from 'store/constants';\nimport {\n    AddressInputAddPayload,\n    AddressInputPayload,\n    GoToCatalogCommandPayload,\n    GoToPromoCommandPayload,\n    ValidationOkCommandPayload,\n} from 'store/constants/native';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\nimport { addressFullSuccessThunk } from 'store/thunks/addressFullPage';\n\nexport const goToCatalogThunk = (payload: GoToCatalogCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(goToCatalogAction(payload));\n\n    // чтобы при перезагрузке страницы постоянно не переходить в каталог\n    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n        return;\n    }\n\n    dispatch(goBackToStart());\n    dispatch(replace(ROUTES.CATALOG));\n};\n\nexport const goToPromoThunk = (payload: GoToPromoCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(goToPromo(payload));\n    dispatch(replace(ROUTES.PROMO));\n};\n\nexport const validationOkThunk = (payload: ValidationOkCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(validationOkAction(payload));\n\n    dispatch(goBackToStart());\n    dispatch(replace(ROUTES.STATUS));\n};\n\nexport const addressInputThunk = (payload: AddressInputPayload): AppThunkAction => (dispatch) => {\n    dispatch(addressInputAction(payload));\n    dispatch(push(ROUTES.ADDRESS_SIMPLE_QUESTION));\n};\n\nexport const addressInputDeclineThunk = (): AppThunkAction => (dispatch) => {\n    dispatch(addressInputDeclineAction());\n\n    dispatch(push(ROUTES.ADDRESS_SIMPLE));\n};\n\nexport const addressInputAddThunk = (payload: AddressInputAddPayload): AppThunkAction => (dispatch) => {\n    dispatch(addressInputAddAction(payload));\n\n    dispatch(push(ROUTES.ADDRESS_SIMPLE_QUESTION));\n};\n\nexport const goToValidationThunk = (): AppThunkAction => (dispatch, getState) => {\n    const state = getState();\n    const currentPathname = selectPathname(state);\n\n    switch (currentPathname) {\n        // это значит что ввод доп. адреса сохранился успешно\n        case ROUTES.ADDRESS_FULL_ALL: {\n            dispatch(addressFullSuccessThunk());\n            break;\n        }\n\n        default: {\n            dispatch(push(ROUTES.CART));\n            break;\n        }\n    }\n};\n","import React from 'react';\n\nexport function useFocusOnMount<T>(forwardRef?: React.RefObject<T>) {\n    const ref = React.useRef<T>(null);\n\n    const onMountRef = forwardRef || ref;\n\n    React.useEffect(() => {\n        if (onMountRef.current instanceof HTMLElement) {\n            onMountRef.current.focus();\n        }\n    }, [onMountRef]);\n\n    return onMountRef;\n}\n","// TODO: FRNTND-1 mv to npm package\n\nexport const color = {\n    text: {\n        white: '#ffffff',\n        primary: '#ffffff',\n        secondary: 'rgba(255, 255, 255, 0.56)',\n        tertiary: 'rgba(255, 255, 255, 0.28)',\n        active: '#2ac673',\n        warning: '#f6650a',\n    },\n    button: {\n        secondary1: 'rgba(255, 255, 255, 0.12)',\n        secondary2: 'rgba(0, 0, 0, 0.56)',\n        primary: '#12a557',\n        warning: '#f6650a',\n        critical: '#dc283a',\n        inactive: '#3b3f44',\n    },\n    background: {\n        default: '#080808',\n    },\n    surface: {\n        liquid1: 'rgba(255, 255, 255, 0.06)',\n        liquid2: 'rgba(255, 255, 255, 0.12)',\n        liquid3: 'rgba(255, 255, 255, 0.20)',\n        card: 'rgba(255, 255, 255, 0.12)',\n        solidWhite: '#fff',\n        solidBlack: '#080808',\n        solidTransparent: 'transparent',\n    },\n};\n","// TODO: FRNTND-1 mv to npm package\n\nconst duration = {\n    defaultMs: 200,\n};\n\nconst timingFnEaseInOut = 'ease-in-out';\n\nconst timingFn = {\n    easeInOut: timingFnEaseInOut,\n    default: timingFnEaseInOut,\n};\n\nexport const transition = {\n    duration,\n    timingFn,\n    default: `${duration.defaultMs}ms ${timingFn.default}`,\n};\n","import { transition } from './transition';\nimport { color } from './color';\n\n// TODO: FRNTND-1 mv to npm package\n\nexport const focus = {\n    paddingPx: 4,\n    borderSizePx: 4,\n    color: color.text.active,\n    transition: transition.default,\n};\n","import { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { focus } from 'style/const/focus';\n\nexport const syntheticFocus = (ruleset: FlattenSimpleInterpolation, isFocused?: boolean) => {\n    if (isFocused === undefined) {\n        return css`\n            &:focus {\n                ${ruleset}\n            }\n        `;\n    }\n\n    return isFocused && ruleset;\n};\n\ninterface FocusMixinOptions {\n    isFocused?: boolean;\n    borderRadius?: number;\n}\n\nconst positionPx = -1 * (focus.paddingPx + focus.borderSizePx);\n\nexport const focusBorderMixin = ({ isFocused, borderRadius }: FocusMixinOptions) => css`\n    &::after {\n        content: '';\n\n        position: absolute;\n        top: ${positionPx}px;\n        bottom: ${positionPx}px;\n        left: ${positionPx}px;\n        right: ${positionPx}px;\n\n        display: block;\n        box-sizing: border-box;\n\n        border-width: ${focus.borderSizePx}px;\n        border-color: ${focus.color};\n        border-style: solid;\n        border-radius: ${borderRadius ? borderRadius + focus.paddingPx * 2 : 0}px;\n\n        opacity: 0;\n\n        transition: opacity ${focus.transition};\n\n        z-index: 2;\n        pointer-events: none;\n    }\n\n    ${syntheticFocus(\n        css`\n            &::after {\n                opacity: 1;\n            }\n        `,\n        isFocused,\n    )}\n`;\n","// TODO: FRNTND-1 mv to npm package\n\nexport const font = {\n    weight: {\n        light: 300,\n        normal: 400,\n        regular: 400,\n        medium: 500,\n        semibold: 600,\n        bold: 700,\n        extrabold: 800,\n    },\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport { color } from 'style/const/color';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport { font } from 'style/const/font';\n\nexport enum ButtonViews {\n    primary = 'primary',\n    secondary = 'secondary',\n}\n\nexport enum ButtonSize {\n    l = 'l',\n    m = 'm',\n    s = 's',\n}\n\ninterface ButtonParams {\n    borderRadiusPx: number;\n    paddingXPx: number;\n    paddingYPx: number;\n    fontSizePx: number;\n    lineHeightPx: number;\n}\n\nconst mapSizeToButtonParams: Record<ButtonSize, ButtonParams> = {\n    [ButtonSize.l]: {\n        borderRadiusPx: 32,\n        paddingXPx: 56,\n        paddingYPx: 32,\n        fontSizePx: 32,\n        lineHeightPx: 40,\n    },\n    [ButtonSize.m]: {\n        borderRadiusPx: 24,\n        paddingXPx: 48,\n        paddingYPx: 24,\n        fontSizePx: 32,\n        lineHeightPx: 40,\n    },\n    [ButtonSize.s]: {\n        borderRadiusPx: 24,\n        paddingXPx: 28,\n        paddingYPx: 16,\n        fontSizePx: 28,\n        lineHeightPx: 32,\n    },\n};\n\nconst buttonViewBackgroundMap: Record<ButtonViews, string> = {\n    primary: color.button.primary,\n    secondary: color.button.secondary1,\n};\n\ninterface StyledButtonProps {\n    view: ButtonViews;\n    size: ButtonSize;\n}\nconst StyledButton = styled.div<StyledButtonProps>`\n    position: relative;\n\n    ${({ size }) => {\n        const { borderRadiusPx, paddingXPx, paddingYPx, fontSizePx, lineHeightPx } = mapSizeToButtonParams[size];\n\n        return css`\n            padding: ${paddingYPx}px ${paddingXPx}px;\n            font-size: ${fontSizePx}px;\n            line-height: ${lineHeightPx}px;\n            border-radius: ${borderRadiusPx}px;\n        `;\n    }}\n\n    border: none;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    transition: background-color 0.3s ease-in-out;\n\n    background-color: ${({ view }) => buttonViewBackgroundMap[view]};\n\n    font-family: inherit;\n    font-weight: ${font.weight.semibold};\n    color: ${color.text.primary};\n\n    ${({ size }) => focusBorderMixin({ borderRadius: mapSizeToButtonParams[size].borderRadiusPx })}\n\n    &[disabled] {\n        opacity: 0.5;\n    }\n`;\n\nexport interface ButtonProps {\n    className?: string;\n    shouldFocusOnMount?: boolean;\n    forwardRef?: React.RefObject<HTMLButtonElement>;\n    view: ButtonViews;\n    disabled?: boolean;\n    size?: ButtonSize;\n    shouldLockAfterClick?: boolean;\n    lockTimeout?: number;\n    onClick?: (event: React.SyntheticEvent<HTMLButtonElement>) => void;\n    onFocus?: (event: React.FocusEvent<HTMLButtonElement>) => void;\n}\n\nconst pressedStateTimeoutMs = 8000;\n\nconst usePressedState = ({\n    disabled,\n    shouldLockAfterClick,\n    lockTimeout = pressedStateTimeoutMs,\n    onClick,\n}: Pick<ButtonProps, 'disabled' | 'shouldLockAfterClick' | 'lockTimeout' | 'onClick'>) => {\n    const [timeoutId, setTimeoutId] = React.useState(0);\n\n    // если таймаут установлен - кнопка заблокирована\n    const isBlocked = Boolean(timeoutId);\n\n    const handleClick = React.useCallback(\n        (event: React.SyntheticEvent<HTMLButtonElement>) => {\n            if (shouldLockAfterClick && !timeoutId) {\n                setTimeoutId(setTimeout(() => setTimeoutId(0), lockTimeout));\n            }\n            onClick?.(event);\n        },\n        [shouldLockAfterClick, lockTimeout, timeoutId, onClick],\n    );\n\n    React.useEffect(() => {\n        const id = timeoutId;\n        return () => {\n            if (id) {\n                clearTimeout(id);\n            }\n        };\n    }, [timeoutId]);\n\n    return {\n        isDisabled: disabled || isBlocked,\n        handleClick,\n    };\n};\n\nexport const Button: React.FC<ButtonProps> = ({\n    shouldFocusOnMount,\n    forwardRef,\n    shouldLockAfterClick,\n    lockTimeout,\n    onClick,\n    disabled,\n    size = ButtonSize.m,\n    ...props\n}) => {\n    const mountFocusRef = useFocusOnMount<HTMLButtonElement>();\n    const ref = forwardRef || (shouldFocusOnMount ? mountFocusRef : null);\n    const { isDisabled, handleClick } = usePressedState({\n        disabled,\n        shouldLockAfterClick,\n        lockTimeout,\n        onClick,\n    });\n\n    return (\n        <StyledButton\n            as=\"button\"\n            type=\"button\"\n            size={size}\n            ref={ref}\n            disabled={isDisabled}\n            onClick={handleClick}\n            {...props}\n        />\n    );\n};\n","import { ButtonViews } from 'components/Button/Button';\nimport { LocationState } from 'history';\nimport { ThunkAction } from 'redux-thunk';\nimport { AppActionTypes } from 'types/app-actions';\nimport { DGSuggest } from 'tools/twoGis/api/suggest';\nimport { RouterState, RouterAction } from 'connected-react-router';\nimport { CatalogListItemViewProps } from 'pages/Catalog/ListItem/CatalogListItem';\nimport { CatalogListItemTouchViewProps } from 'pages/Catalog/ListItem/CatalogListItem@touch';\nimport { CartListItemViewProps } from 'pages/Cart/ListItem/CartListItem';\nimport { CartListItemTouchViewProps } from 'pages/Cart/ListItem/CartListItem@touch';\nimport { AddressSimpleSuggestItemView } from 'pages/AddressSimple/SuggestItem/AddressSimpleSuggestItem';\n\nimport { StoreProductItem, StoreProductItemDiff } from './products';\nimport { StoreUser } from './user';\nimport { ROUTES } from './router';\nimport { ErrorPageProps } from './error';\n\nexport const initialState = {\n    delivery: {\n        minimalPrice: 0,\n        deliveryTime: 0,\n    },\n    cart: {\n        itemsMap: {} as Record<string, CartItem>,\n        order: [] as string[],\n        totalCount: 0,\n        // discount value?\n        totalPrice: 0, // в копейках\n        orderId: '',\n    },\n    twoGisSuggestsData: {\n        itemsMap: {} as Record<string, DGSuggest>,\n    },\n    productsData: {\n        itemsMap: {} as Record<string, StoreProductItem>,\n    },\n    productsDiffData: {\n        itemsMap: {} as Record<string, StoreProductItemDiff>,\n    },\n    // здесь важно поставить undefined, подробности смотри в редюсере роутера\n    router: (undefined as unknown) as RouterState<LocationState>,\n    userData: {\n        customerName: '',\n        phoneNumber: '',\n        addressLocationLatitude: '',\n        addressLocationLongitude: '',\n        // addressLocationLatitude: '55.737209', // Москва, Кутузовский проспект\n        // addressLocationLongitude: '37.538145', // Москва, Кутузовский проспект\n        // addressLocationLatitude: '59.84112819369227', // Питер, Дачный проспект\n        // addressLocationLongitude: '30.25827884674072', // Питер, Дачный проспект\n        // addressLocationLatitude: '59.940184', // Питер, Дворцовая набережная\n        // addressLocationLongitude: '30.315266', // Питер, Дворцовая набережная\n        deviceLocationLatitude: '',\n        deviceLocationLongitude: '',\n        address: '',\n        city: '',\n        street: '',\n        house: '',\n        building: '',\n        floor: '',\n        entrance: '',\n        apartment: '',\n        doorCode: '',\n    } as StoreUser,\n    userModel: {\n        customerName: '',\n        phoneNumber: '',\n        addressLocationLatitude: '',\n        addressLocationLongitude: '',\n        deviceLocationLatitude: '',\n        deviceLocationLongitude: '',\n        address: '',\n        city: '',\n        street: '',\n        house: '',\n        building: '',\n        floor: '',\n        entrance: '',\n        apartment: '',\n        doorCode: '',\n    } as StoreUser,\n    catalogPage: {\n        selectedItemId: '',\n        order: [] as string[],\n        itemsMap: {} as Record<string, CatalogListItemViewProps>,\n        itemsFocusHashMap: {} as Record<string, number>,\n        screenIndexMap: {} as Record<string, number>,\n        wrapperXShift: 0,\n        listIndexOffset: 0,\n    },\n    catalogPageTouch: {\n        order: [] as string[],\n        itemsMap: {} as Record<string, CatalogListItemTouchViewProps>,\n        screenIndexMap: {} as Record<string, number>,\n    },\n    cartPage: {\n        wrapperYShift: 0,\n        selectedItemIndex: 0,\n        topGradientVisible: true,\n        bottomGradientVisible: true,\n        order: [] as string[],\n        itemsMap: {} as Record<string, CartListItemViewProps>,\n        totalPrice: '',\n        toMinimumPrice: 0,\n        hasRequiredData: false,\n        /**\n         * Здесь не объект пропсов для кнопки из-за того что иммер не может нормально прожевать React.refObject и,\n         * соответственно, тайпинги написаны так, чтобы такого не допустить\n         * */\n        makePurchaseButtonView: ButtonViews.primary,\n        isMakePurchaseButtonDisabled: false,\n        phoneNumber: '',\n        personalAddress: '',\n        deliveryTime: 0,\n    },\n    cartPageTouch: {\n        order: [] as string[],\n        itemsMap: {} as Record<string, CartListItemTouchViewProps>,\n        totalPrice: '',\n        toMinimumPrice: 0,\n        hasRequiredData: false,\n        phoneNumber: '',\n        personalAddress: '',\n        deliveryTime: 0,\n    },\n    errorPage: {\n        title: '',\n        subtitle: '',\n    } as ErrorPageProps,\n    layout: {\n        header: {\n            title: '',\n            isVisible: false,\n            address: {\n                text: '',\n                isVisible: false,\n            },\n            cart: {\n                isVisible: false,\n                count: 0,\n                price: '0',\n            },\n            isBackButtonVisible: false,\n        },\n    },\n    addressSimplePage: {\n        inputValue: '',\n        suggestsRaw: {} as Record<string, DGSuggest>,\n        suggestsListIndex: 0,\n        // suggestsRaw: JSON.parse(\n        // eslint-disable-next-line\n        //     '{\"5348660212702261\":{\"address\":{\"building_id\":\"5348660212702261\",\"components\":[{\"number\":\"32\",\"street\":\"Набережная Кутузова\",\"street_id\":\"5348763291878852\",\"type\":\"street_number\"}],\"postcode\":\"191187\"},\"address_name\":\"Набережная Кутузова, 32\",\"full_name\":\"Санкт-Петербург, Набережная Кутузова, 32\",\"id\":\"5348660212702261\",\"name\":\"Набережная Кутузова, 32\",\"point\":{\"lat\":59.948288,\"lon\":30.338815},\"purpose_name\":\"Жилой дом с административными помещениями\",\"search_attributes\":{\"handling_type\":0,\"suggest_parts\":[{\"is_suggested\":false,\"text\":\"Кутузовск\"},{\"is_suggested\":true,\"text\":\"ая набережная, \"},{\"is_suggested\":false,\"text\":\"32\"}],\"suggested_text\":\"Кутузовская набережная, 32\"},\"type\":\"building\"},\"4504235282797771\":{\"address\":{\"building_id\":\"4504235282797771\",\"components\":[{\"number\":\"32 к1\",\"street\":\"Кутузовский проспект\",\"street_id\":\"4504338361748330\",\"type\":\"street_number\"}],\"postcode\":\"121170\"},\"address_name\":\"Кутузовский проспект, 32 к1\",\"building_name\":\"Президент Плаза, бизнес-центр\",\"full_name\":\"Москва, Президент Плаза, бизнес-центр\",\"id\":\"4504235282797771\",\"name\":\"Президент Плаза, бизнес-центр\",\"point\":{\"lat\":55.741439,\"lon\":37.531343},\"purpose_name\":\"Бизнес-центр\",\"search_attributes\":{\"handling_type\":0,\"suggest_parts\":[{\"is_suggested\":false,\"text\":\"Кутузовский\"},{\"is_suggested\":true,\"text\":\" проспект, \"},{\"is_suggested\":false,\"text\":\"32\"},{\"is_suggested\":true,\"text\":\" к1\"}],\"suggested_text\":\"Кутузовский проспект, 32 к1\"},\"type\":\"building\"},\"4504235282797775\":{\"address\":{\"building_id\":\"4504235282797775\",\"components\":[{\"number\":\"32\",\"street\":\"Кутузовский проспект\",\"street_id\":\"4504338361748330\",\"type\":\"street_number\"}],\"postcode\":\"121170\"},\"address_name\":\"Кутузовский проспект, 32\",\"full_name\":\"Москва, Кутузовский проспект, 32\",\"id\":\"4504235282797775\",\"name\":\"Кутузовский проспект, 32\",\"point\":{\"lat\":55.740486,\"lon\":37.532083},\"purpose_name\":\"Административное здание\",\"search_attributes\":{\"handling_type\":0,\"suggest_parts\":[{\"is_suggested\":false,\"text\":\"Кутузовский\"},{\"is_suggested\":true,\"text\":\" проспект, \"},{\"is_suggested\":false,\"text\":\"32\"}],\"suggested_text\":\"Кутузовский проспект, 32\"},\"type\":\"building\"},\"4504235282797739\":{\"address\":{\"building_id\":\"4504235282797739\",\"components\":[{\"number\":\"32 к2\",\"street\":\"Кутузовский проспект\",\"street_id\":\"4504338361748330\",\"type\":\"street_number\"}],\"postcode\":\"121170\"},\"address_name\":\"Кутузовский проспект, 32 к2\",\"building_name\":\"Сбербанк-Сити, многофункциональный комплекс\",\"full_name\":\"Москва, Сбербанк-Сити, многофункциональный комплекс\",\"id\":\"4504235282797739\",\"name\":\"Сбербанк-Сити, многофункциональный комплекс\",\"point\":{\"lat\":55.742473,\"lon\":37.531239},\"purpose_name\":\"Строящееся административное здание\",\"search_attributes\":{\"handling_type\":0,\"suggest_parts\":[{\"is_suggested\":false,\"text\":\"Кутузовский\"},{\"is_suggested\":true,\"text\":\" проспект, \"},{\"is_suggested\":false,\"text\":\"32\"},{\"is_suggested\":true,\"text\":\" к2\"}],\"suggested_text\":\"Кутузовский проспект, 32 к2\"},\"type\":\"building\"},\"4504235283017707\":{\"address\":{\"building_id\":\"4504235283017707\",\"components\":[{\"number\":\"32 к3\",\"street\":\"Кутузовский проспект\",\"street_id\":\"4504338361748330\",\"type\":\"street_number\"}],\"postcode\":\"121170\"},\"address_name\":\"Кутузовский проспект, 32 к3\",\"building_name\":\"Сбербанк-Сити, многофункциональный комплекс\",\"full_name\":\"Москва, Сбербанк-Сити, многофункциональный комплекс\",\"id\":\"4504235283017707\",\"name\":\"Сбербанк-Сити, многофункциональный комплекс\",\"point\":{\"lat\":55.742655,\"lon\":37.530596},\"purpose_name\":\"Строящееся административное здание\",\"search_attributes\":{\"handling_type\":0,\"suggest_parts\":[{\"is_suggested\":false,\"text\":\"Кутузовский\"},{\"is_suggested\":true,\"text\":\" проспект, \"},{\"is_suggested\":false,\"text\":\"32\"},{\"is_suggested\":true,\"text\":\" к3\"}],\"suggested_text\":\"Кутузовский проспект, 32 к3\"},\"type\":\"building\"}}',\n        // ) as Record<string, DGSuggest>,\n        // suggests: [] as AddressSimpleSuggestItemView[],\n        suggests: [] as string[],\n    },\n    addressFullPage: {\n        addressInputValue: '',\n        phoneNumberInputValue: '',\n        apartmentInputValue: '',\n        entranceInputValue: '',\n        floorInputValue: '',\n        doorCodeInputValue: '',\n        isSubmitButtonDisabled: false,\n        nextFocus: ROUTES.ADDRESS_FULL_ALL as string,\n    },\n    waitPage: {\n        text: '',\n    },\n};\n\nexport type AppState = typeof initialState;\n\nexport type AppCommonAction = ReturnType<AppActionTypes[keyof AppActionTypes]>;\nexport type AppBaseAction = AppCommonAction | RouterAction<LocationState>;\nexport type AppThunkAction = ThunkAction<void, AppState, {}, AppBaseAction>;\nexport type AppAction = AppThunkAction | AppBaseAction;\nexport type AppDispatch = (action: AppAction) => AppBaseAction;\nexport type AppReducer = (state: AppState, action: AppBaseAction) => void;\nexport interface AppMiddleware {\n    (api: AppMiddlewareAPI): (next: AppDispatch) => (action: AppBaseAction) => AppBaseAction;\n}\n\nexport interface AppMiddlewareAPI {\n    dispatch: AppDispatch;\n    getState(): AppState;\n}\n\nexport interface CartItem {\n    itemId: string;\n    count: number;\n}\n","import { AppReducer, AppState } from 'store/constants';\n\nexport const twoGisSuggestsData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'SET_TWO_GIS_SUGGESTS': {\n            console.log('some set suggests', action.payload);\n            type TwoGisSuggestsItemsMap = AppState['twoGisSuggestsData']['itemsMap'];\n\n            state.twoGisSuggestsData.itemsMap = action.payload.reduce<TwoGisSuggestsItemsMap>((result, item) => {\n                result[item.id] = item;\n\n                return result;\n            }, {});\n\n            break;\n        }\n\n        default: {\n            break;\n        }\n    }\n};\n","import { AppReducer, AppState } from 'store/constants';\nimport { StoreProductItem, ProductItem } from 'store/constants/products';\nimport { selectProductById, selectProductDiffById } from 'store/selectors';\n\nconst normalizeProductItem = (productItem: ProductItem): StoreProductItem => ({\n    name: productItem.name,\n    id: productItem.guid,\n    price: Number(productItem.price),\n    quantityLeft: Number(productItem.quantity_left),\n    imageUrl: productItem.images_urls[0] || '',\n});\n\nexport const normalizeProducts = (productsMaps: Record<string, ProductItem>): Record<string, StoreProductItem> =>\n    Object.keys(productsMaps).reduce<Record<string, StoreProductItem>>((acc, itemId) => {\n        acc[itemId] = normalizeProductItem(productsMaps[itemId]);\n\n        return acc;\n    }, {});\n\nexport const computeProductItemsMapBasedOnChanges = (state: AppState) => {\n    return Object.keys(state.productsData.itemsMap).reduce<AppState['productsData']['itemsMap']>((result, itemId) => {\n        const productItem = selectProductById(state, itemId);\n        const productItemDiff = selectProductDiffById(state, itemId);\n\n        result[itemId] = Object.assign(productItem, productItemDiff);\n\n        return result;\n    }, {});\n};\n\nexport const productsData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'SHOW_ITEMS': {\n            state.productsData.itemsMap = normalizeProducts(action.payload.stock);\n            break;\n        }\n\n        case 'APPLY_ITEMS_CHANGES': {\n            state.productsData.itemsMap = computeProductItemsMapBasedOnChanges(state);\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { AppReducer } from 'store/constants';\nimport { ProductItemDiff, StoreProductItemDiff } from 'store/constants/products';\n\nconst normalizeProductItemsDiffMap = (productsDiffMap: Record<string, ProductItemDiff>) =>\n    Object.entries(productsDiffMap).reduce((result, [itemId, productItemDiff]) => {\n        const { quantity_left: quantityLeftString, price: priceString } = productItemDiff;\n\n        if (!quantityLeftString && !priceString) {\n            return result;\n        }\n\n        result[itemId] = {};\n\n        if (quantityLeftString) {\n            result[itemId].quantityLeft = Number(quantityLeftString);\n        }\n\n        if (priceString) {\n            result[itemId].price = Number(priceString);\n        }\n\n        return result;\n    }, {} as Record<string, StoreProductItemDiff>);\n\nexport const productsDiffData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'ITEMS_CHANGES': {\n            state.productsDiffData.itemsMap = normalizeProductItemsDiffMap(action.payload.changes);\n\n            break;\n        }\n\n        case 'APPLY_ITEMS_CHANGES': {\n            state.productsDiffData.itemsMap = {};\n\n            break;\n        }\n\n        default: {\n            break;\n        }\n    }\n};\n","import { AppReducer } from 'store/constants';\nimport { GoToCatalogCommandPayload } from 'store/constants/native';\nimport { StoreUser } from 'store/constants/user';\n\nconst normalizeUserData = (payload: GoToCatalogCommandPayload): StoreUser => {\n    return {\n        customerName: payload.address.customer_name,\n        phoneNumber: payload.address.phone_num,\n        addressLocationLatitude: payload.address.address.location.latitude,\n        addressLocationLongitude: payload.address.address.location.longitude,\n        // TODO: Выпилить проверку device_location'a, он будет приходить всегда\n        // https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-178\n        deviceLocationLatitude: payload.device_location\n            ? payload.device_location.latitude\n            : payload.address.address.location.latitude,\n        deviceLocationLongitude: payload.device_location\n            ? payload.device_location.longitude\n            : payload.address.address.location.longitude,\n        address: payload.address.address.address_string,\n        city: payload.address.address.city,\n        street: payload.address.address.street,\n        house: payload.address.address.house,\n        building: payload.address.address.building,\n        floor: payload.address.address.floor,\n        entrance: payload.address.address.entrance,\n        apartment: payload.address.address.apartment,\n        doorCode: payload.address.address.door_code,\n    };\n};\n\nexport const userData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'GO_TO_PROMO': {\n            // TODO: выпилить этот ифа, device_location всегда будет здесь\n            // https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-178\n            if (action.payload.device_location) {\n                const { latitude, longitude } = action.payload.device_location;\n                state.userData.deviceLocationLatitude = latitude;\n                state.userData.deviceLocationLongitude = longitude;\n            }\n            break;\n        }\n\n        case 'GO_TO_CATALOG': {\n            state.userData = normalizeUserData(action.payload);\n            break;\n        }\n\n        case 'ADDRESS_INPUT': {\n            // TODO: выпилить этот кйес, device_location больше здесь не будет\n            // https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-178\n            if (action.payload.device_location) {\n                const { latitude, longitude } = action.payload.device_location;\n                state.userData.deviceLocationLatitude = latitude;\n                state.userData.deviceLocationLongitude = longitude;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_SUCCESS': {\n            state.userData.phoneNumber = state.userModel.phoneNumber;\n            state.userData.apartment = state.userModel.apartment;\n            state.userData.entrance = state.userModel.entrance;\n            state.userData.floor = state.userModel.floor;\n\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { AppReducer } from '../../constants';\n\nexport const deliveryData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'GO_TO_CATALOG': {\n            state.delivery.deliveryTime = action.payload.time;\n            state.delivery.minimalPrice = action.payload.minimal_amount;\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { getCountById, getPriceById, getQuantityLeftById } from 'store/reducers/helpers/catalogPage';\nimport { selectCartItemById, selectProductById } from 'store/selectors';\nimport { AppReducer, AppState, initialState } from 'store/constants';\n\nconst getTotalCount = (state: AppState) =>\n    Object.values(state.cart.itemsMap).reduce((acc, { itemId }) => {\n        acc += getCountById(state, itemId);\n\n        return acc;\n    }, 0);\n\nconst getTotalPrice = (state: AppState) =>\n    state.cart.order.reduce((acc, itemId) => {\n        const count = getCountById(state, itemId);\n        const price = getPriceById(state, itemId);\n\n        acc += count * price;\n\n        return acc;\n    }, 0);\n\nexport const cartModel: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_ITEM': {\n            const { count: countString, item: itemId } = action.payload;\n            const count = Number(countString);\n            const productItem = selectProductById(state, itemId);\n            const quantityLeft = getQuantityLeftById(state, itemId);\n\n            if (!productItem) {\n                return;\n            }\n\n            const cartItem = selectCartItemById(state, itemId);\n\n            if (cartItem) {\n                cartItem.count = Math.min(quantityLeft, cartItem.count + count);\n            } else if (count <= quantityLeft) {\n                state.cart.itemsMap[itemId] = {\n                    itemId,\n                    count,\n                };\n\n                state.cart.order.push(itemId);\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ITEM': {\n            const { item: itemId, count: countString, shouldRemoveMention } = action.payload;\n            const count = Number(countString);\n\n            const cartItem = selectCartItemById(state, itemId);\n            const productItem = selectProductById(state, itemId);\n            const actualCount = getCountById(state, itemId);\n\n            if (!cartItem || !productItem) {\n                return;\n            }\n\n            cartItem.count = Math.max(0, actualCount - count);\n\n            if (!cartItem.count && shouldRemoveMention) {\n                delete state.cart.itemsMap[itemId];\n                state.cart.order = state.cart.order.filter((cartItemId) => cartItemId !== itemId);\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ALL': {\n            state.cart = { ...initialState.cart };\n\n            break;\n        }\n\n        case 'GO_TO_CATALOG': {\n            if (action.payload.clear) {\n                state.cart = { ...initialState.cart };\n            }\n\n            break;\n        }\n\n        case 'VALIDATION_OK': {\n            state.cart = { ...initialState.cart };\n            state.cart.orderId = action.payload.order_id;\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    state.cart.totalCount = getTotalCount(state);\n    state.cart.totalPrice = getTotalPrice(state);\n};\n","import { AppState, initialState, AppReducer } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\nimport { isStreetSuggest, isBuildingSuggest, DGBuildingSuggest } from 'tools/twoGis/api/suggest';\n\nconst MAX_PHONE_NUMBER_SYMBOLS_COUNT = 12;\n\nconst updateUserAddressBasedOnBuilding = ({ userModel }: AppState, building: DGBuildingSuggest) => {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    const { point, address, address_name, full_name } = building;\n    const [addressComponent] = address.components;\n    const { street, number } = addressComponent;\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    const [city] = full_name.split(', ');\n\n    userModel.city = city;\n    userModel.street = street;\n    userModel.house = number;\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    userModel.address = address_name;\n    userModel.addressLocationLatitude = String(point.lat);\n    userModel.addressLocationLongitude = String(point.lon);\n};\n\nconst normalizePhone = (phoneNumber: string) => {\n    let result = Array.from(phoneNumber).filter((symbol, index) => {\n        return /[0-9]/.test(symbol) || (index === 0 && symbol === '+');\n    });\n    const [firstSymbol, ...otherSymbols] = result;\n\n    if (firstSymbol === '8' || firstSymbol === '7') {\n        result = ['+', '7', ...otherSymbols];\n    }\n\n    return result.slice(0, MAX_PHONE_NUMBER_SYMBOLS_COUNT).join('');\n};\n\nexport const userModel: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'address/CHANGE_INPUT_VALUE': {\n            state.userModel = { ...initialState.userModel };\n            state.userModel.address = action.payload;\n\n            break;\n        }\n\n        case 'address/CLICK_SUGGEST_ITEM': {\n            const suggestItem = state.addressSimplePage.suggestsRaw[action.payload];\n\n            if (isStreetSuggest(suggestItem)) {\n                state.userModel = { ...initialState.userModel };\n                state.userModel.address = suggestItem.name;\n            } else if (isBuildingSuggest(suggestItem)) {\n                updateUserAddressBasedOnBuilding(state, suggestItem);\n            }\n\n            break;\n        }\n\n        case 'REVERT_USER_CHANGES': {\n            state.userModel = { ...state.userData };\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT': {\n            state.userModel = { ...initialState.userModel };\n            state.userModel.address = action.payload.input;\n\n            break;\n        }\n\n        case 'SET_TWO_GIS_SUGGESTS': {\n            const suggestItem = Object.values(state.twoGisSuggestsData.itemsMap).find((item) =>\n                isBuildingSuggest(item),\n            );\n\n            if (suggestItem && isBuildingSuggest(suggestItem)) {\n                updateUserAddressBasedOnBuilding(state, suggestItem);\n            }\n\n            break;\n        }\n\n        case 'address/SELECT_SUGGEST_ITEM': {\n            const suggestItem = state.twoGisSuggestsData.itemsMap[action.payload];\n\n            if (suggestItem && isBuildingSuggest(suggestItem)) {\n                updateUserAddressBasedOnBuilding(state, suggestItem);\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT_ADD': {\n            state.userModel = { ...initialState.userModel };\n            state.userModel.address = action.payload.input;\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT_CLEAR': {\n            state.userModel = { ...initialState.userModel };\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_INPUT': {\n            if (action.payload.input.apartment) {\n                state.userModel.apartment = action.payload.input.apartment;\n            }\n\n            if (action.payload.input.floor) {\n                state.userModel.floor = action.payload.input.floor;\n            }\n\n            if (action.payload.input.entrance) {\n                state.userModel.entrance = action.payload.input.entrance;\n            }\n\n            if (action.payload.input.phone_num) {\n                state.userModel.phoneNumber = normalizePhone(action.payload.input.phone_num);\n            }\n\n            if (action.payload.input.door_code) {\n                state.userModel.doorCode = action.payload.input.door_code;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_INPUT_ADD': {\n            const pathname = selectPathname(state);\n\n            switch (pathname) {\n                case ROUTES.ADDRESS_FULL_PHONE: {\n                    state.userModel.phoneNumber = normalizePhone(action.payload.input);\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_APARTMENT: {\n                    state.userModel.apartment = action.payload.input;\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_ENTRANCE: {\n                    state.userModel.entrance = action.payload.input;\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_FLOOR: {\n                    state.userModel.floor = action.payload.input;\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_DOORCODE: {\n                    state.userModel.doorCode = action.payload.input;\n\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_INPUT_CLEAR': {\n            const pathname = selectPathname(state);\n\n            switch (pathname) {\n                case ROUTES.ADDRESS_FULL_PHONE: {\n                    state.userModel.phoneNumber = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_APARTMENT: {\n                    state.userModel.apartment = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_ENTRANCE: {\n                    state.userModel.entrance = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_FLOOR: {\n                    state.userModel.floor = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_DOORCODE: {\n                    state.userModel.doorCode = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_ALL: {\n                    state.userModel.phoneNumber = '';\n                    state.userModel.apartment = '';\n                    state.userModel.entrance = '';\n                    state.userModel.floor = '';\n                    state.userModel.doorCode = '';\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_COMMENT': {\n            state.userModel.doorCode = action.payload.input;\n\n            break;\n        }\n\n        case 'addressFull/PHONE_NUMBER_INPUT_CHANGE': {\n            const { inputType, data } = action.payload;\n\n            if (inputType === 'insertText') {\n                state.userModel.phoneNumber = normalizePhone(state.userModel.phoneNumber + data);\n            } else {\n                state.userModel.phoneNumber = state.userModel.phoneNumber.slice(0, -1);\n            }\n\n            break;\n        }\n\n        case 'addressFull/APARTMENT_INPUT_CHANGE': {\n            state.userModel.apartment = action.payload;\n\n            break;\n        }\n\n        case 'addressFull/ENTRANCE_INPUT_CHANGE': {\n            state.userModel.entrance = action.payload;\n\n            break;\n        }\n\n        case 'addressFull/FLOOR_INPUT_CHANGE': {\n            state.userModel.floor = action.payload;\n\n            break;\n        }\n\n        case 'addressFull/DOORCODE_INPUT_CHANGE': {\n            state.userModel.doorCode = action.payload;\n\n            break;\n        }\n\n        case 'GO_TO_CATALOG': {\n            state.userModel = { ...state.userData };\n\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { CatalogListItemViewProps } from 'pages/Catalog/ListItem/CatalogListItem';\nimport { AppState, AppReducer, initialState } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport {\n    canAddMore,\n    getCountById,\n    getDisabled,\n    getOldPriceById,\n    preparePriceById,\n    getQuantityLeftById,\n    formatSale,\n    wantMoreThanHave,\n} from 'store/reducers/helpers/catalogPage';\nimport { selectProductById, selectPathname, selectProductDiffById } from 'store/selectors';\n\nconst screenWidth = 1920;\nconst cardWidth = 392;\nconst cardGap = 32;\n\nconst screenItemCount = Math.floor(screenWidth / (cardWidth + cardGap));\n\nconst listOffset = (-1 * (screenWidth % (cardWidth + cardGap))) / 2;\n\nconst itemWidth = cardWidth + cardGap;\n\nconst getListIndexOffset = ({ catalogPage: { selectedItemId, order, listIndexOffset } }: AppState) => {\n    const selectedItemIndex = order.indexOf(selectedItemId);\n\n    if (selectedItemIndex === -1) {\n        return 0;\n    }\n\n    const scrollPageSize = 1;\n\n    if (selectedItemIndex <= listIndexOffset) {\n        return Math.max(0, listIndexOffset - scrollPageSize);\n    }\n\n    if (selectedItemIndex >= listIndexOffset + screenItemCount - 1) {\n        return Math.min(listIndexOffset + scrollPageSize, order.length - screenItemCount);\n    }\n\n    return listIndexOffset;\n};\n\nconst getWrapperXShift = ({ catalogPage: { listIndexOffset } }: AppState) =>\n    listOffset + listIndexOffset * itemWidth - cardGap / 2;\n\nconst getScreenIndexMap = ({ catalogPage: { listIndexOffset, order } }: AppState): Record<string, number> =>\n    new Array(screenItemCount).fill(0).reduce(\n        (result, _, index) => ({\n            ...result,\n            [order[index + listIndexOffset]]: index + 1,\n        }),\n        {} as Record<string, number>,\n    );\n\nconst prepareBadge = (state: AppState, itemId: string): CatalogListItemViewProps['badge'] => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n    const count = getCountById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n    const productItem = selectProductById(state, itemId);\n\n    // раскупили\n    if (quantityLeft === 0) {\n        return { type: 'sold-out' };\n    }\n\n    // больше не осталось\n    if (count === quantityLeft) {\n        return { type: 'few-left' };\n    }\n\n    // изменение цены\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        // подорожание\n        if (productItemDiff.price > productItem.price) {\n            return { type: 'price-changed' };\n        }\n\n        // скидка\n        if (productItemDiff.price < productItem.price) {\n            const content = formatSale(productItem.price, productItemDiff.price);\n            return { type: 'sale', content };\n        }\n    }\n\n    return undefined;\n};\n\nconst prepareIndex = ({ catalogPage: { screenIndexMap } }: AppState, itemId: string) => screenIndexMap[itemId];\n\nconst prepareCatalogItemsMap = (state: AppState) => {\n    const { productsData } = state;\n\n    return Object.keys(productsData.itemsMap).reduce<AppState['catalogPage']['itemsMap']>((acc, itemId) => {\n        const { name, imageUrl } = selectProductById(state, itemId);\n\n        acc[itemId] = {\n            imageUrl,\n            name,\n            price: preparePriceById(state, itemId),\n            oldPrice: getOldPriceById(state, itemId),\n            isWantMoreThanHave: wantMoreThanHave(state, itemId),\n            count: getCountById(state, itemId),\n            index: prepareIndex(state, itemId),\n            badge: prepareBadge(state, itemId),\n            isButtonDisabled: !canAddMore(state, itemId),\n            disabled: getDisabled(state, itemId),\n        };\n\n        return acc;\n    }, {});\n};\n\nconst prepareItemsFocusHashMap = (state: AppState) => {\n    const {\n        catalogPage: { itemsFocusHashMap, order },\n    } = state;\n\n    const isEmpty = Object.keys(itemsFocusHashMap).length === 0;\n    const [firstItem] = order;\n\n    return isEmpty && firstItem ? { [firstItem]: Math.random() } : itemsFocusHashMap;\n};\n\nexport const catalogPageView: AppReducer = (state, action) => {\n    const { productsData, catalogPage } = state;\n\n    switch (action.type) {\n        case 'ADD_ITEM': {\n            if (selectPathname(state) === ROUTES.CATALOG) {\n                catalogPage.selectedItemId = action.payload.item;\n                catalogPage.itemsFocusHashMap[action.payload.item] = Math.random();\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ITEM': {\n            if (selectPathname(state) === ROUTES.CATALOG) {\n                catalogPage.selectedItemId = action.payload.item;\n                catalogPage.itemsFocusHashMap[action.payload.item] = Math.random();\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ALL': {\n            catalogPage.selectedItemId = initialState.catalogPage.selectedItemId;\n            catalogPage.itemsFocusHashMap = initialState.catalogPage.itemsFocusHashMap;\n\n            break;\n        }\n\n        case 'catalog/SELECT_ITEM': {\n            catalogPage.selectedItemId = action.payload;\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    catalogPage.order = Object.keys(productsData.itemsMap);\n    catalogPage.listIndexOffset = getListIndexOffset(state);\n    catalogPage.wrapperXShift = getWrapperXShift(state);\n    catalogPage.screenIndexMap = getScreenIndexMap(state);\n    catalogPage.itemsMap = prepareCatalogItemsMap(state);\n    catalogPage.itemsFocusHashMap = prepareItemsFocusHashMap(state);\n};\n","import { CatalogListItemTouchViewProps } from 'pages/Catalog/ListItem/CatalogListItem@touch';\nimport { AppState, AppReducer } from 'store/constants';\nimport { selectCartItemById, selectProductById } from 'store/selectors';\nimport { calculateButtonDisabled, formatPrice, prepareCount } from 'store/reducers/helpers/catalogPage';\n\nconst prepareBadge = (state: AppState, itemId: string): CatalogListItemTouchViewProps['badge'] => {\n    const cartItem = selectCartItemById(state, itemId);\n    const productItem = selectProductById(state, itemId);\n\n    if (productItem.quantityLeft === 0) {\n        return 'sold-out';\n    }\n\n    if (cartItem && cartItem.count === productItem.quantityLeft) {\n        return 'few-left';\n    }\n\n    return undefined;\n};\n\nconst prepareIndex = ({ catalogPageTouch: { order } }: AppState, itemId: string) => order.indexOf(itemId) + 1;\n\nconst prepareCatalogItemsMap = (state: AppState) => {\n    const { productsData } = state;\n\n    return Object.keys(productsData.itemsMap).reduce<AppState['catalogPageTouch']['itemsMap']>((acc, itemId) => {\n        const productItem = selectProductById(state, itemId);\n\n        acc[itemId] = {\n            imageUrl: productItem.imageUrl,\n            name: productItem.name,\n            price: formatPrice(productItem.price),\n            count: prepareCount(state, itemId),\n            index: prepareIndex(state, itemId),\n            badge: prepareBadge(state, itemId),\n            buttonDisabled: calculateButtonDisabled(state, itemId),\n            disabled: productItem.quantityLeft === 0,\n        };\n\n        return acc;\n    }, {});\n};\n\nexport const catalogPageTouchView: AppReducer = (state) => {\n    const { productsData, catalogPageTouch } = state;\n\n    catalogPageTouch.order = Object.keys(productsData.itemsMap);\n    catalogPageTouch.itemsMap = prepareCatalogItemsMap(state);\n};\n","// 1. (?=(\\d{3})+$) - матчит подстроки нулевой длины, после которых идет три цифры подряд\n// 2. (?=...) - positive lookahead, конструкция, которая матчит позицию, после которой срабатывает указанный паттерн\n// 3. (?:\\d{3})+ - повторяющаяся незахватывающая группа, которая матчит подстроки из трех цифр\n// 4. $ - EOL - чтобы выровнять [3] по концу строки\nexport const splitByThousands = (n: number) => n.toString().replace(/(?=(?:\\d{3})+$)/g, ' ');\n","import { AppState } from 'store/constants';\nimport { splitByThousands } from 'tools/split-by-thousands';\n\nimport { formatPrice } from './catalogPage';\n\nexport const prepareTotalPrice = ({ cart: { totalPrice } }: AppState) => splitByThousands(formatPrice(totalPrice));\n\nexport const prepareToMinimumPrice = ({ cart: { totalPrice }, delivery: { minimalPrice } }: AppState) =>\n    Math.max(0, Math.ceil((minimalPrice - totalPrice) / 100));\n\nexport const getFormattedPersonalAddress = ({ userData: { apartment, entrance, floor } }: AppState) =>\n    [\n        apartment && `квартира ${apartment}`, //\n        entrance && `подъезд ${entrance}`,\n        floor && `этаж ${floor}`,\n    ]\n        .filter(Boolean)\n        .join(', ');\n\nexport const prepareHasRequiredData = ({ userData: { phoneNumber, address } }: AppState) =>\n    Boolean(address && phoneNumber);\n","const renderSpace = (index: number) => ([1, 4, 7, 9].includes(index) ? ' ' : '');\n\nexport const formatPhoneNumber = (phoneNumber: string) =>\n    phoneNumber\n        .split('')\n        .map((digit, index) => `${digit}${renderSpace(index)}`)\n        .join('');\n","import { ButtonViews } from 'components/Button/Button';\nimport { CartListItemViewProps } from 'pages/Cart/ListItem/CartListItem';\nimport {\n    canAddMore,\n    getCountById,\n    getDisabled,\n    getOldPriceById,\n    preparePriceById,\n    getQuantityLeftById,\n    formatSale,\n    wantMoreThanHave,\n} from 'store/reducers/helpers/catalogPage';\nimport {\n    getFormattedPersonalAddress,\n    prepareHasRequiredData,\n    prepareToMinimumPrice,\n    prepareTotalPrice,\n} from 'store/reducers/helpers/cartPage';\nimport { selectProductById, selectCartItemById, selectProductDiffById } from 'store/selectors';\nimport { AppReducer, AppState } from 'store/constants';\nimport { formatPhoneNumber } from 'tools/format-phone-number';\n\nconst prepareLabel = (state: AppState, itemId: string): CartListItemViewProps['label'] => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n    const cartItem = selectCartItemById(state, itemId);\n    const isWantMoreThanHave = wantMoreThanHave(state, itemId);\n\n    // раскупили\n    if (quantityLeft === 0) {\n        return { type: 'sold-out' };\n    }\n\n    // больше не осталось\n    if (cartItem && cartItem.count === quantityLeft) {\n        return { type: 'few-left' };\n    }\n\n    // есть меньше чем добавили\n    if (isWantMoreThanHave) {\n        return {\n            type: 'you-want',\n            content: String(cartItem.count),\n        };\n    }\n\n    // изменение цены\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        // подорожание\n        if (productItemDiff.price > productItem.price) {\n            return { type: 'price-changed' };\n        }\n\n        // скидка\n        if (productItemDiff.price < productItem.price) {\n            const content = formatSale(productItem.price, productItemDiff.price);\n            return { type: 'sale', content };\n        }\n    }\n\n    return undefined;\n};\n\nconst prepareItemsMap = (state: AppState) => {\n    const { cartPage } = state;\n\n    return cartPage.order.reduce<AppState['cartPage']['itemsMap']>((result, itemId) => {\n        const cartItem = selectCartItemById(state, itemId);\n        const { imageUrl, name } = selectProductById(state, itemId);\n\n        if (cartItem) {\n            result[itemId] = {\n                imageUrl,\n                name,\n                price: preparePriceById(state, itemId),\n                oldPrice: getOldPriceById(state, itemId),\n                count: getCountById(state, itemId),\n                isWantMoreThanHave: wantMoreThanHave(state, itemId),\n                disabled: getDisabled(state, itemId),\n                label: prepareLabel(state, itemId),\n                isMoreButtonDisabled: !canAddMore(state, itemId),\n            };\n        }\n\n        return result;\n    }, {});\n};\n\nconst itemHeight = 152;\n\nconst getWrapperYShift = ({ cartPage: { selectedItemIndex, order } }: AppState) => {\n    if (selectedItemIndex === -1) {\n        return 0;\n    }\n\n    // так как индекс начинается с 0, то расчеты бы имели смысл начиная\n    // со второго элемента (индекс = 1), но нам нужно начинать скролл с\n    // 3-го элемента, поэтому сдвигаем значение на 1\n    let relatedIndex = Math.max(0, selectedItemIndex - 1);\n\n    // ограничиваем максимальное значение индекса\n    relatedIndex = Math.min(Math.max(0, order.length - 4), relatedIndex);\n\n    // домножаем отступ на коэффициент высоты айтема\n    return relatedIndex * itemHeight;\n};\n\nconst calculateMakePurchaseDisabled = (state: AppState) => {\n    const {\n        cart: { totalPrice },\n        delivery: { minimalPrice },\n    } = state;\n\n    return totalPrice < minimalPrice;\n};\n\nconst calculateMakePurchaseButtonView = (state: AppState): AppState['cartPage']['makePurchaseButtonView'] => {\n    return state.cartPage.isMakePurchaseButtonDisabled ? ButtonViews.secondary : ButtonViews.primary;\n};\n\nconst prepareTopGradientVisible = ({ cartPage: { wrapperYShift } }: AppState) => wrapperYShift !== 0;\n\nconst prepareBottomGradientVisible = ({ cartPage: { wrapperYShift, order } }: AppState) =>\n    order.length > 4 && wrapperYShift !== (order.length - 4) * itemHeight;\n\nconst getFormattedPhoneNumber = ({ userData }: AppState) =>\n    userData.phoneNumber && formatPhoneNumber(userData.phoneNumber);\n\nexport const cartPageView: AppReducer = (state, action) => {\n    const { cart, delivery, cartPage } = state;\n\n    switch (action.type) {\n        case 'cart/SELECT_ITEM': {\n            cartPage.selectedItemIndex = cartPage.order.indexOf(action.payload);\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    cartPage.order = cart.order;\n    cartPage.deliveryTime = delivery.deliveryTime;\n    cartPage.itemsMap = prepareItemsMap(state);\n    cartPage.totalPrice = prepareTotalPrice(state);\n    cartPage.toMinimumPrice = prepareToMinimumPrice(state);\n    cartPage.wrapperYShift = getWrapperYShift(state);\n    cartPage.isMakePurchaseButtonDisabled = calculateMakePurchaseDisabled(state);\n\n    cartPage.makePurchaseButtonView = calculateMakePurchaseButtonView(state);\n    cartPage.topGradientVisible = prepareTopGradientVisible(state);\n    cartPage.bottomGradientVisible = prepareBottomGradientVisible(state);\n    cartPage.hasRequiredData = prepareHasRequiredData(state);\n    cartPage.phoneNumber = getFormattedPhoneNumber(state);\n    cartPage.personalAddress = getFormattedPersonalAddress(state);\n};\n","import { selectCartItemById, selectProductById } from 'store/selectors';\nimport { AppReducer, AppState } from 'store/constants';\nimport { canAddMore, getCountById, getDisabled, preparePriceById } from 'store/reducers/helpers/catalogPage';\nimport {\n    getFormattedPersonalAddress,\n    prepareHasRequiredData,\n    prepareToMinimumPrice,\n    prepareTotalPrice,\n} from 'store/reducers/helpers/cartPage';\n\nconst prepareItemsMap = (state: AppState) => {\n    const { cartPageTouch } = state;\n\n    return cartPageTouch.order.reduce<AppState['cartPageTouch']['itemsMap']>((result, itemId) => {\n        const cartItem = selectCartItemById(state, itemId);\n        const { imageUrl, name } = selectProductById(state, itemId);\n\n        if (cartItem) {\n            result[itemId] = {\n                imageUrl,\n                name,\n                price: preparePriceById(state, itemId),\n                count: getCountById(state, itemId),\n                disabled: getDisabled(state, itemId),\n                isMoreButtonDisabled: !canAddMore(state, itemId),\n            };\n        }\n\n        return result;\n    }, {});\n};\n\nexport const cartPageTouchView: AppReducer = (state) => {\n    const { cart, delivery, cartPageTouch } = state;\n\n    cartPageTouch.order = cart.order;\n    cartPageTouch.deliveryTime = delivery.deliveryTime;\n    cartPageTouch.itemsMap = prepareItemsMap(state);\n    cartPageTouch.totalPrice = prepareTotalPrice(state);\n    cartPageTouch.toMinimumPrice = prepareToMinimumPrice(state);\n    cartPageTouch.hasRequiredData = prepareHasRequiredData(state);\n    cartPageTouch.personalAddress = getFormattedPersonalAddress(state);\n};\n","import { AppState, AppReducer } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport { formatPhoneNumber } from 'tools/format-phone-number';\n\nconst computeNextFocus = (state: AppState) => {\n    const { phoneNumber, apartment, entrance, floor, doorCode } = state.userModel;\n\n    const options = {\n        [ROUTES.ADDRESS_FULL_PHONE]: phoneNumber,\n        [ROUTES.ADDRESS_FULL_APARTMENT]: apartment,\n        [ROUTES.ADDRESS_FULL_ENTRANCE]: entrance,\n        [ROUTES.ADDRESS_FULL_FLOOR]: floor,\n        [ROUTES.ADDRESS_FULL_DOORCODE]: doorCode,\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const result = Object.entries(options).find(([_, value]) => !value);\n\n    return result ? result[0] : ROUTES.ADDRESS_FULL_ALL;\n};\n\nexport const addressFullPageView: AppReducer = (state) => {\n    state.addressFullPage.nextFocus = computeNextFocus(state);\n    state.addressFullPage.addressInputValue = state.userModel.address;\n    state.addressFullPage.phoneNumberInputValue = formatPhoneNumber(state.userModel.phoneNumber);\n    state.addressFullPage.apartmentInputValue = state.userModel.apartment;\n    state.addressFullPage.entranceInputValue = state.userModel.entrance;\n    state.addressFullPage.floorInputValue = state.userModel.floor;\n    state.addressFullPage.doorCodeInputValue = state.userModel.doorCode;\n    state.addressFullPage.isSubmitButtonDisabled =\n        !state.userModel.phoneNumber || state.userModel.phoneNumber.length !== 12;\n};\n","import { splitByThousands } from 'tools/split-by-thousands';\nimport { AppState, AppReducer } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\n\nconst routeToTitleMap: Record<string, string> = {\n    [ROUTES.CATALOG]: 'Самокат',\n    [ROUTES.CART]: 'Корзина',\n    [ROUTES.STATUS]: 'Самокат',\n    [ROUTES.ERROR]: 'Самокат',\n    [ROUTES.NO_AREA]: 'Адрес доставки',\n    [ROUTES.ADDRESS_SIMPLE]: 'Адрес доставки',\n    [ROUTES.ADDRESS_SIMPLE_GUIDE]: 'Адрес доставки',\n    [ROUTES.ADDRESS_SIMPLE_QUESTION]: 'Адрес доставки',\n    [ROUTES.ADDRESS_FULL_ALL]: 'Адрес доставки и телефон',\n};\n\nconst getTitle = (state: AppState) => routeToTitleMap[selectPathname(state)] || '';\n\nconst getAddress = (state: AppState) => ({\n    text: state.userData.address,\n    isVisible: selectPathname(state) === ROUTES.CATALOG,\n});\n\nconst getCart = (state: AppState) => ({\n    isVisible: state.cart.totalCount > 0 && selectPathname(state) === ROUTES.CATALOG,\n    count: state.cart.totalCount,\n    price: splitByThousands(Math.ceil(state.cart.totalPrice / 100)),\n});\n\nconst routeToVisibilityMap: Record<string, boolean> = {\n    [ROUTES.CATALOG]: true,\n    [ROUTES.CART]: true,\n    [ROUTES.STATUS]: true,\n    [ROUTES.ERROR]: true,\n    [ROUTES.NO_AREA]: true,\n    [ROUTES.ADDRESS_SIMPLE]: true,\n    [ROUTES.ADDRESS_SIMPLE_GUIDE]: true,\n    [ROUTES.ADDRESS_SIMPLE_QUESTION]: true,\n    [ROUTES.ADDRESS_FULL_ALL]: true,\n};\n\nconst isVisible = ({ router }: AppState) => routeToVisibilityMap[router.location.pathname] || false;\n\nexport const headerView: AppReducer = (state) => {\n    const { header } = state.layout;\n\n    header.title = getTitle(state);\n    header.address = getAddress(state);\n    header.cart = getCart(state);\n    header.isVisible = isVisible(state);\n    header.isBackButtonVisible = Boolean(window.history.length);\n};\n","import { AppReducer, AppState } from 'store/constants';\nimport { OrderErrorPayload } from 'store/constants/native';\n\nconst mapOrderErrorTypeToProps: Record<OrderErrorPayload['type'], AppState['errorPage']> = {\n    partner: {\n        title: 'Не получилось оформить заказ',\n        subtitle: 'Пожалуйста, попробуйте ещё раз',\n        retryButtonText: 'Повторить',\n        closeButtonText: 'Очень жаль',\n    },\n    payment: {\n        title: 'Не получилось оформить заказ',\n        subtitle: 'Пожалуйста, попробуйте ещё раз',\n        retryButtonText: 'Повторить',\n        closeButtonText: 'Очень жаль',\n    },\n    timing: {\n        title: 'Закрыто',\n        subtitle: 'Часы работы с 8:00 до 23:00, \\nбез обеда и выходных',\n        retryButtonText: 'Повторить',\n        closeButtonText: 'Зайду позже',\n    },\n};\n\nexport const errorPageView: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'ORDER_ERROR': {\n            state.errorPage = mapOrderErrorTypeToProps[action.payload.type];\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n};\n","import { AppReducer } from 'store/constants';\n\nexport const waitPageView: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'MAKE_PURCHASE': {\n            state.waitPage.text = 'Оформляем заказ...';\n            break;\n        }\n        case 'VALIDATION_OK': {\n            state.waitPage.text = '';\n            break;\n        }\n        case 'ORDER_ERROR': {\n            state.waitPage.text = '';\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n};\n","import { createEmptyAction } from 'tools/create-action';\n\nexport const askForStockAction = () => createEmptyAction('ASK_FOR_STOCK');\n\nexport const askForItemsChangesAction = () => createEmptyAction('ASK_FOR_ITEMS_CHANGES');\n\nexport const makePurchaseAction = () => createEmptyAction('MAKE_PURCHASE');\n\nexport const pageChangeAction = () => createEmptyAction('PAGE_CHANGE');\n\nexport const askForOrderStatusAction = () => createEmptyAction('ASK_FOR_ORDER_STATUS');\n\nexport const askForOrderStatusFinalAction = () => createEmptyAction('ASK_FOR_ORDER_STATUS_FINAL');\n\nexport const addressSubmitAction = () => createEmptyAction('ADDRESS_SUBMIT');\n\nexport const addressFullSubmitAction = () => createEmptyAction('ADDRESS_FULL_SUBMIT');\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable @typescript-eslint/camelcase */\nimport { GO_TO_CATALOG } from 'mocks/goToCatalog';\nimport { ITEMS_CHANGES_MOCK } from 'mocks/itemsChanges';\nimport { SHOW_ITEMS_MOCK } from 'mocks/showItems';\nimport { createStore as createReduxStore, Middleware, applyMiddleware, compose, StoreEnhancer } from 'redux';\nimport { routerMiddleware, push, replace, goBack, LOCATION_CHANGE } from 'connected-react-router';\nimport thunk from 'redux-thunk';\nimport { createHashHistory } from 'history';\nimport { applyItemsChanges, revertUserChanges } from 'store/actions/app';\nimport { getCountById } from 'store/reducers/helpers/catalogPage';\nimport { getHasValidAddress } from 'store/reducers/view/addressSimplePage';\nimport { addressFullSuccessThunk, addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport {\n    addressInputAddThunk,\n    addressInputDeclineThunk,\n    addressInputThunk,\n    goToCatalogThunk,\n    goToPromoThunk,\n    goToValidationThunk,\n    validationOkThunk,\n} from 'store/thunks/native';\nimport { AppStateInterface } from 'types/app-state';\n\nimport { AssistantSdkCommand } from './constants/native';\nimport { AssistantSdkServerAction } from './constants/server';\nimport { ROUTES } from './constants/router';\nimport { AppState, AppBaseAction, AppMiddleware, AppDispatch } from './constants';\nimport { getRootReducer } from './reducers';\nimport {\n    showItemsAction,\n    addItemAction,\n    removeAllAction,\n    removeItemAction,\n    addressInputAction,\n    addressInputAddAction,\n    addressInputClearAction,\n    addressFullInputAddAction,\n    addressFullInputClearAction,\n    addressFullValidationErrorAction,\n    askAgainForOrderStatusFinalAction,\n    goBackAction,\n    askAgainForOrderStatusAction,\n    addressFullInputAction,\n    orderErrorAction,\n    itemsChangesAction,\n    goToWaitAction,\n    addressFullCommentAction,\n} from './actions/native';\nimport {\n    askForOrderStatusFinalAction,\n    askForOrderStatusAction,\n    askForStockAction,\n    askForItemsChangesAction,\n    pageChangeAction,\n} from './actions/server';\nimport { selectPathname } from './selectors';\nimport { ScenarioUser, ScenarioUserAddress, StoreUser } from './constants/user';\n\nconst serverActionMiddleware: AppMiddleware = ({ dispatch, getState }) => (next) => (action) => {\n    switch (action.type) {\n        case 'CLOSE_APP': {\n            window.AssistantClient.close();\n            break;\n        }\n        case 'ASK_FOR_STOCK': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: SHOW_ITEMS_MOCK,\n                    });\n                }, 500);\n\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'ADD_ITEM',\n                            item: '21ff407a-fa98-11e8-80c5-0cc47a817925',\n                            count: '5',\n                        },\n                    });\n                }, 1000);\n\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'ADD_ITEM',\n                            item: '21ff407c-fa98-11e8-80c5-0cc47a817925',\n                            count: '2',\n                        },\n                    });\n                }, 1500);\n            }\n\n            break;\n        }\n        case 'ASK_FOR_ITEMS_CHANGES': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line\n                        smart_app_data: ITEMS_CHANGES_MOCK,\n                    });\n                }, 500);\n            }\n\n            break;\n        }\n        case 'ADDRESS_SUBMIT': {\n            window.AssistantClient.sendData({ action_id: action.type });\n            break;\n        }\n        case 'ADDRESS_FULL_SUBMIT': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                window.AssistantClient.onData({\n                    type: 'smart_app_data',\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    smart_app_data: {\n                        command: 'GO_TO_VALIDATION',\n                    },\n                });\n            }\n\n            break;\n        }\n        case 'ASK_FOR_ORDER_STATUS': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                window.AssistantClient.onData({\n                    type: 'smart_app_data',\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    smart_app_data: {\n                        command: 'ASK_AGAIN_FOR_ORDER_STATUS_FINAL',\n                    },\n                });\n            }\n\n            break;\n        }\n        case 'ASK_FOR_ORDER_STATUS_FINAL': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                window.AssistantClient.onData({\n                    type: 'smart_app_data',\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    smart_app_data: {\n                        command: 'VALIDATION_OK',\n                        status: true,\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        order_id: '364528',\n                    },\n                });\n            }\n\n            break;\n        }\n        case 'MAKE_PURCHASE': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'GO_TO_WAIT',\n                        },\n                    });\n                }, 500);\n            }\n\n            break;\n        }\n        case 'PAGE_CHANGE': {\n            window.AssistantClient.sendData({ action_id: action.type });\n            break;\n        }\n        /**\n         * tldr; В кейсе LOCATION_CHANGE все dispatch'и нужно ОБЯЗАТЕЛЬНО оборачивать в setTimeout.\n         * Нельзя влазить и диспатчить action'ы перед LOCATION_CHANGE, от этого ломается\n         * взаимодействие connected-react-router и history.\n         *\n         * Внимание! Перед прочтением этого коммента лучше пойти взять бутылку чего нибудь покрепче,\n         * потому что без нее не разобраться.\n         *\n         * Так вот, для понимания того, почему это нужно делать. Сперва, нужно понять то,\n         * как работает навигация в кишках connected-react-router и history.\n         * Предположим, мы хотим перейти на другую страницу. Для этого\n         * dispatch'им push action react-connected-router'a с типом @@router/CALL_HISTORY_METHOD\n         * который подхватывает router middleware и вызывает\n         * соответствующий метод (push) у библиотеки history.\n         * В результате чего history меняет урл через History API браузера\n         * и обновляет свой стейт. После оповещает слушателей, подписанных на это.\n         * Внутри connected-react-router'а вызывается обработчик, который подписан\n         * на изменение стейта (локального, внутри библиотеки) history.\n         * Он dispatch'ит action, с типом @@router/LOCATION_CHANGE, который должен долететь\n         * до редюсера connected-react-router’а и актуализировать (синкнуть со стейтом в history) стейт router'a.\n         * После чего на изменение стейта срабатывает обработчик который обычно триггерит рендер react'а,\n         * но у connected-react-router’a есть свой такой, который нужен для того,\n         * чтобы синкать стейт router'a в сторе и стейт пакета history.\n         * То есть в обратную сторону. Вот в этом то месте и происходит рассинхрон.\n         *\n         * Из-за того что этот обработчик в connected-react-router'е не смотрит на action,\n         * который к нему прилетает (redux его не прокидывает), он пытается синкать\n         * состояния на каждый чих. Валидно убеждается в том, что состояния разные из-за того что history\n         * уже внесла в свой стейт изменения, а редюсер router'a еще не отработал, потому что\n         * до него влез другой action.\n         * После чего вызывает соответствующий метод у history, который снова меняет ее состояние\n         * и снова триггерит об этом экшен и все это еще больше запутывается.\n         **/\n        case LOCATION_CHANGE: {\n            const state = getState();\n\n            const currentPathname = selectPathname(state);\n            const nextPathname = action.payload.location.pathname;\n\n            switch (currentPathname) {\n                case ROUTES.CATALOG:\n                case ROUTES.CART: {\n                    setTimeout(() => {\n                        dispatch(applyItemsChanges());\n                    });\n\n                    break;\n                }\n                case ROUTES.ADDRESS_SIMPLE: {\n                    /**\n                     * Если мы возвращаемся обратно на страницу ввода\n                     * полного адреса со страницы ввода базового адреса,\n                     * без сохранения, то нужно вернуть все поля в исходное\n                     * положение, но есть нюанс ;)\n                     */\n                    if (nextPathname === ROUTES.ADDRESS_FULL_ALL) {\n                        /**\n                         *  Если удалить один символ в инпуте, а потом ввести его,\n                         *  то адрес не поменяется (строковое значение), но все остальные поля\n                         *  (дом, улица, город) будут сброшены (потому что они сбрасываются при\n                         *  изменении значения инпуте).\n                         *  Поэтому здесь так же есть проверка на заполненность.\n                         */\n                        const isAddressChanged = state.userData.address !== state.userModel.address;\n                        const hasValidAddress = getHasValidAddress(state.userModel);\n                        if (!hasValidAddress || isAddressChanged) {\n                            dispatch(revertUserChanges());\n                        }\n                    }\n\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            switch (nextPathname) {\n                case ROUTES.CATALOG: {\n                    if (Object.keys(state.productsData.itemsMap).length) {\n                        setTimeout(() => {\n                            dispatch(askForItemsChangesAction());\n                        });\n                    } else {\n                        setTimeout(() => {\n                            dispatch(askForStockAction());\n                        });\n                    }\n\n                    break;\n                }\n                case ROUTES.CART: {\n                    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                        if (!Object.keys(state.productsData.itemsMap).length) {\n                            setTimeout(() => {\n                                dispatch(askForStockAction());\n                            });\n                        }\n                    }\n\n                    setTimeout(() => {\n                        dispatch(askForItemsChangesAction());\n                    });\n\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            // при ините приложения прилетает LOCATION_CHANGE,\n            // это проверка нужна чтобы не слать лишний сервер экшен\n            if (currentPathname !== nextPathname) {\n                setTimeout(() => {\n                    dispatch(pageChangeAction());\n                });\n            }\n\n            break;\n        }\n        default:\n            break;\n    }\n\n    return next(action);\n};\n\nexport const history = createHashHistory();\nconst enhancers: StoreEnhancer[] = [];\nconst middlewares: Middleware[] = [thunk, routerMiddleware(history), serverActionMiddleware as Middleware];\n\nif (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION__) {\n        enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());\n    }\n}\n\nexport const store = createReduxStore<AppState, AppBaseAction, {}, {}>(\n    /**\n     * TODO: прикрутить валидацию recoveryStat'a\n     * @see https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-200\n     */\n    getRootReducer(history, window.appRecoveryState as AppState),\n    compose(applyMiddleware(...middlewares), ...enhancers),\n);\nconst dispatch = store.dispatch as AppDispatch;\n\nif (process.env.NODE_ENV !== 'production') {\n    window.__store = store;\n}\n\nexport const dispatchToReduxStore = ({ smart_app_data, type }: AssistantSdkCommand) => {\n    if (type !== 'smart_app_data') {\n        return;\n    }\n\n    switch (smart_app_data.command) {\n        case 'SHOW_ITEMS':\n            dispatch(showItemsAction(smart_app_data));\n            break;\n        case 'ITEMS_CHANGES': {\n            dispatch(itemsChangesAction(smart_app_data));\n            break;\n        }\n        case 'ADD_ITEM': {\n            dispatch(addItemAction(smart_app_data));\n            break;\n        }\n        case 'REMOVE_ALL': {\n            dispatch(removeAllAction());\n            break;\n        }\n        case 'REMOVE_ITEM': {\n            dispatch(removeItemAction({ ...smart_app_data, shouldRemoveMention: true }));\n            break;\n        }\n        case 'GO_TO_CATALOG': {\n            dispatch(goToCatalogThunk(smart_app_data));\n            break;\n        }\n        case 'GO_TO_NO_AREA': {\n            dispatch(push(ROUTES.NO_AREA));\n            break;\n        }\n        case 'GO_TO_VALIDATION': {\n            dispatch(goToValidationThunk());\n            break;\n        }\n        case 'GO_TO_PROMO': {\n            dispatch(goToPromoThunk(smart_app_data));\n            break;\n        }\n        case 'GO_TO_ADDRESS_SIMPLE': {\n            dispatch(push(ROUTES.ADDRESS_SIMPLE));\n            break;\n        }\n        case 'GO_TO_ADDRESS_FULL': {\n            dispatch(push(ROUTES.ADDRESS_FULL_ALL));\n            break;\n        }\n        case 'VALIDATION_OK': {\n            dispatch(validationOkThunk(smart_app_data));\n            break;\n        }\n        case 'ORDER_ERROR': {\n            dispatch(orderErrorAction(smart_app_data));\n            dispatch(replace(ROUTES.ERROR));\n            break;\n        }\n        case 'ADDRESS_INPUT': {\n            dispatch(addressInputThunk(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_INPUT_ADD': {\n            dispatch(addressInputAddThunk(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_INPUT_DECLINE': {\n            dispatch(addressInputDeclineThunk());\n            break;\n        }\n        case 'ADDRESS_INPUT_CLEAR': {\n            dispatch(addressInputClearAction());\n            break;\n        }\n        case 'ADDRESS_FULL_SUCCESS': {\n            dispatch(addressFullSuccessThunk());\n            break;\n        }\n        case 'ADDRESS_FULL_INPUT': {\n            dispatch(addressFullInputAction(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_INPUT_ADD': {\n            dispatch(addressFullInputAddAction(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_INPUT_CLEAR': {\n            dispatch(addressFullInputClearAction());\n            break;\n        }\n        case 'ADDRESS_FULL_COMMENT': {\n            dispatch(addressFullCommentAction(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_VALIDATION_OK': {\n            dispatch(addressFullValidationOkThunk());\n            break;\n        }\n        case 'ADDRESS_FULL_VALIDATION_ERROR': {\n            dispatch(addressFullValidationErrorAction());\n            break;\n        }\n        case 'ASK_AGAIN_FOR_ORDER_STATUS_FINAL': {\n            dispatch(askAgainForOrderStatusFinalAction());\n            setTimeout(() => dispatch(askForOrderStatusFinalAction()), 500);\n            break;\n        }\n        case 'GO_TO_WAIT': {\n            dispatch(push(ROUTES.WAIT));\n            dispatch(goToWaitAction());\n            dispatch(askForOrderStatusAction());\n            break;\n        }\n        case 'GO_BACK': {\n            dispatch(goBackAction());\n            dispatch(goBack());\n            break;\n        }\n        case 'ASK_AGAIN_FOR_ORDER_STATUS': {\n            dispatch(askAgainForOrderStatusAction());\n            setTimeout(() => dispatch(askForOrderStatusAction()), 500);\n            break;\n        }\n        default:\n            break;\n    }\n};\n\nif (process.env.REACT_APP_ENVIRONMENT !== 'production' && module.hot) {\n    module.hot.accept('./reducers', () => {\n        // eslint-disable-next-line\n        const { getRootReducer } = require('./reducers');\n        const rootReducer = getRootReducer(history);\n\n        store.replaceReducer(rootReducer);\n    });\n}\n\nconst castCatalogItemSelectorFromStore = (state: AppState): AppStateInterface['item_selector'] => {\n    const {\n        catalogPage: { screenIndexMap },\n        productsData: { itemsMap },\n    } = state;\n\n    return {\n        ignored_words: ['добавь', 'удали'],\n        items: Object.values(itemsMap)\n            .filter(({ id }) => screenIndexMap[id])\n            .map(({ id, name: title }) => {\n                const number = screenIndexMap[id];\n\n                return {\n                    id,\n                    title,\n                    visible: true,\n                    number,\n                };\n            }),\n    };\n};\n\nconst castItemSelectorFromStore = (state: AppState): AppStateInterface['item_selector'] => {\n    const pathname = selectPathname(state);\n\n    switch (pathname) {\n        case ROUTES.CATALOG:\n            return castCatalogItemSelectorFromStore(state);\n\n        default:\n            return {\n                ignored_words: [],\n                items: [],\n            };\n    }\n};\n\nconst serializeAddress = (storeUser: StoreUser): ScenarioUserAddress => {\n    const {\n        address,\n        city,\n        street,\n        house,\n        building,\n        floor,\n        entrance,\n        apartment,\n        doorCode,\n        addressLocationLatitude,\n        addressLocationLongitude,\n    } = storeUser;\n\n    return {\n        location: {\n            latitude: addressLocationLatitude,\n            longitude: addressLocationLongitude,\n        },\n        address_string: address,\n        city,\n        street,\n        house,\n        building,\n        floor,\n        entrance,\n        apartment,\n        door_code: doorCode,\n        confirmed: 'true',\n    };\n};\n\nconst prepareAddress = (state: AppState): ScenarioUser => {\n    let source;\n\n    switch (selectPathname(state)) {\n        case ROUTES.ADDRESS_SIMPLE:\n        case ROUTES.ADDRESS_SIMPLE_QUESTION:\n        case ROUTES.ADDRESS_FULL_ALL: {\n            source = state.userModel;\n\n            break;\n        }\n\n        default: {\n            source = state.userData;\n\n            break;\n        }\n    }\n\n    return {\n        phone_num: source.phoneNumber,\n        customer_name: source.customerName,\n        address: serializeAddress(source),\n    };\n};\n\nconst castFromStore = (): AppStateInterface => {\n    const state = store.getState();\n    const { cart } = state;\n    const pathname = selectPathname(state);\n\n    return {\n        item_selector: castItemSelectorFromStore(state),\n        foodtech: {\n            currentScreen: pathname.substring(1),\n            products: Object.keys(cart.itemsMap)\n                .map((id) => {\n                    const quantity = getCountById(state, id);\n\n                    return { id, quantity };\n                })\n                .filter(({ quantity }) => Boolean(quantity)),\n            totalPrice: {\n                value: cart.totalPrice,\n                discountValue: cart.totalPrice,\n            },\n            ...prepareAddress(state),\n        },\n    };\n};\n\nif (window.appInitialData) {\n    if (Array.isArray(window.appInitialData)) {\n        window.appInitialData.forEach(dispatchToReduxStore);\n    } else {\n        dispatchToReduxStore(window.appInitialData);\n    }\n}\n\n/* eslint-disable no-console */\nwindow.AssistantClient = window.AssistantClient || {};\n\nif (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n    // eslint-disable-next-line no-underscore-dangle\n    window.__inbox = window.__inbox || [];\n    // eslint-disable-next-line no-underscore-dangle\n    window.__outbox = window.__outbox || [];\n}\n\n/**\n * Assistand SDK API implementation:\n */\nwindow.AssistantClient.onStart = () => {\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log('invoke onStart callback');\n    }\n};\n\nwindow.AssistantClient.onData = (command: AssistantSdkCommand) => {\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        // eslint-disable-next-line no-underscore-dangle\n        window.__inbox.push(command);\n    }\n\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log(`server command: ${JSON.stringify(command)}`);\n    }\n\n    dispatchToReduxStore(command);\n};\n\nwindow.AssistantClient.sendData = (message: AssistantSdkServerAction) => {\n    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n        window.AssistantClient.onRequestState();\n    }\n\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log(`sendData: ${JSON.stringify(message)}`);\n    }\n\n    if (window.AssistantHost && typeof window.AssistantHost.sendData === 'function') {\n        window.AssistantHost.sendData(JSON.stringify(message), null);\n    }\n};\n\nwindow.AssistantClient.onRequestState = () => {\n    const state = castFromStore();\n    const stateString = JSON.stringify(state);\n\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log('invoke request state callback', stateString);\n    }\n\n    if (window.AssistantHost && typeof window.AssistantHost.updateState === 'function') {\n        window.AssistantHost.updateState(stateString);\n    }\n\n    return state;\n};\n\nwindow.AssistantClient.onRequestRecoveryState = () => {\n    const state = store.getState();\n\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log('invoke request recovery state callback', JSON.stringify(state, null, 2));\n    }\n\n    return state;\n};\n\nwindow.AssistantClient.close = () => {\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log('call close native method');\n    }\n\n    if (window.AssistantHost && typeof window.AssistantHost.close === 'function') {\n        window.AssistantHost.close();\n    }\n};\n\nif (window.AssistantHost && typeof window.AssistantHost.ready === 'function') {\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') {\n        console.log('call ready native method');\n    }\n\n    window.AssistantHost.ready();\n}\n\n// эмуляция первой команды от бэка\nif (process.env.REACT_APP_ENVIRONMENT === 'development') {\n    setTimeout(() => {\n        window.AssistantClient.onData({\n            type: 'smart_app_data',\n            // eslint-disable-next-line @typescript-eslint/camelcase\n            smart_app_data: GO_TO_CATALOG,\n        });\n    }, 100);\n}\n","import { produce } from 'immer';\nimport { History } from 'history';\nimport { mobileDetect } from 'tools/browser';\nimport { AppReducer, initialState, AppBaseAction, AppState } from 'store/constants';\nimport { twoGisSuggestsData } from 'store/reducers/data/twoGisSuggestsData';\nimport { productsData } from 'store/reducers/data/products';\nimport { productsDiffData } from 'store/reducers/data/productsDiff';\nimport { userData } from 'store/reducers/data/user';\nimport { deliveryData } from 'store/reducers/data/delivery';\nimport { getRouterModel } from 'store/reducers/model/router';\nimport { cartModel } from 'store/reducers/model/cart';\nimport { userModel } from 'store/reducers/model/user';\nimport { catalogPageView } from 'store/reducers/view/catalogPage';\nimport { catalogPageTouchView } from 'store/reducers/view/catalogPage@touch';\nimport { cartPageView } from 'store/reducers/view/cartPage';\nimport { cartPageTouchView } from 'store/reducers/view/cartPage@touch';\nimport { addressSimplePageView } from 'store/reducers/view/addressSimplePage';\nimport { addressFullPageView } from 'store/reducers/view/addressFullPage';\nimport { headerView } from 'store/reducers/view/header';\nimport { errorPageView } from 'store/reducers/view/errorPage';\nimport { waitPageView } from 'store/reducers/view/waitPage';\n\nexport const getRootReducer = (history: History, recoveryState?: AppState) => {\n    const routerModel = getRouterModel(history);\n    const isMobile = mobileDetect();\n\n    return (state = recoveryState || initialState, action: AppBaseAction) =>\n        produce(state, (draft) => {\n            const applyReducer = (reducer: AppReducer) => reducer(draft, action);\n\n            [\n                // уровень данных\n                twoGisSuggestsData,\n                productsData,\n                productsDiffData,\n                userData,\n                deliveryData,\n            ].forEach(applyReducer);\n\n            [\n                // уровень бизнес логики\n                routerModel,\n                cartModel,\n                userModel,\n            ].forEach(applyReducer);\n\n            // уровень пропсов для для отрисовки компонентов\n            if (isMobile) {\n                [\n                    // мобильная версия\n                    cartPageTouchView,\n                    catalogPageTouchView,\n                    headerView,\n                ].forEach(applyReducer);\n            } else {\n                [\n                    // десктопная версия\n                    catalogPageView,\n                    cartPageView,\n                    addressSimplePageView,\n                    addressFullPageView,\n                    waitPageView,\n                    errorPageView,\n                    headerView,\n                ].forEach(applyReducer);\n            }\n        });\n};\n","import { History, LocationState } from 'history';\nimport { connectRouter, LocationChangeAction } from 'connected-react-router';\n\nimport { AppReducer } from '../../constants';\n\nexport const getRouterModel = (history: History): AppReducer => {\n    const changeRouter = connectRouter<LocationState>(history);\n\n    return (state, action) => {\n        /**\n         * @see https://github.com/supasate/connected-react-router/blob/master/src/reducer.js#L58\n         * Здесь костылим тип экшена, потому что в библиотеке\n         * криво написаны тайпинги. На самом деле, метод принимает любые экшены,\n         * но работает только LocationChangeAction (там стоит ифак на него).\n         *\n         * Проблема в том, что если не вызывать этот метод с другими экшенами,\n         * то по экшену @@INIT этот метод не вернет изначальное состояние router.\n         */\n        state.router = changeRouter(state.router, action as LocationChangeAction);\n    };\n};\n","import { useSelector as useReduxSelector } from 'react-redux';\nimport { AppState } from 'store/constants';\n\nexport function useSelector<T = unknown>(mapStateToProps: (state: AppState) => T) {\n    return useReduxSelector<AppState, T>(mapStateToProps);\n}\n","// TODO: FRNTND-1 mv to npm package\n\nexport const icon = {\n    xs: {\n        sizePx: 24,\n    },\n    m: {\n        sizePx: 48,\n    },\n    s: {\n        sizePx: 32,\n    },\n};\n","// TODO: FRNTND-1 mv to npm package\n\nconst widthPx = 1920;\nconst heightPx = 1080;\nconst headerHeightPx = 160;\nconst footerHeightPx = 128;\nconst contentHeightPx = heightPx - headerHeightPx - footerHeightPx;\n\nexport const layout = {\n    widthPx,\n    heightPx,\n    headerHeightPx,\n    footerHeightPx,\n    contentHeightPx,\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const HeadlineText1 = styled.div`\n    font-weight: ${font.weight.bold};\n    font-size: 64px;\n    line-height: 72px;\n    letter-spacing: -0.011em;\n`;\n\nexport const HeadlineText2 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 48px;\n    line-height: 56px;\n    letter-spacing: -0.022em;\n`;\n\nexport const HeadlineText3 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 40px;\n    line-height: 48px;\n    letter-spacing: -0.025em;\n`;\n\nexport const HeadlineText4 = styled.div`\n    font-weight: ${font.weight.bold};\n    font-size: 40px;\n    line-height: 48px;\n    letter-spacing: -0.025em;\n`;\n","import { useDispatch as useReduxDispatch } from 'react-redux';\nimport { AppDispatch } from 'store/constants';\n\nexport const useDispatch = () => useReduxDispatch<AppDispatch>();\n","import { useThrottledFn as _useThrottledFn, ThrottleOrDebounceOpts } from 'beautiful-react-hooks';\n\nconst defaultOptions: ThrottleOrDebounceOpts = {\n    leading: false,\n    trailing: true,\n};\n\nexport const useThrottledFn: typeof _useThrottledFn = (fn, timeout, options = defaultOptions, dependencies) =>\n    _useThrottledFn(fn, timeout, options, dependencies);\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const ButtonText1 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 32px;\n    line-height: 40px;\n`;\n\nexport const ButtonText2 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 28px;\n    line-height: 32px;\n`;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport { ButtonText1 } from 'components/Text/Button';\nimport { color } from 'style/const/color';\nimport { icon } from 'style/const/icon';\n\nconst containerBorderRadiusPx = 24;\n\ninterface StyledHeaderButtonProps {\n    isVisible?: boolean;\n}\n\nconst StyledHeaderButton = styled.div<StyledHeaderButtonProps>`\n    position: relative;\n\n    display: flex;\n    align-items: center;\n\n    margin-left: 24px;\n\n    box-sizing: border-box;\n    height: 80px;\n    padding: 16px 36px;\n    border-radius: ${containerBorderRadiusPx}px;\n\n    transition: background-color ${transition.default};\n    will-change: background-color;\n\n    ${focusBorderMixin({ borderRadius: containerBorderRadiusPx })}\n\n    &:focus {\n        background: ${color.button.secondary1};\n    }\n\n    &:first-of-type {\n        margin-left: 0;\n    }\n\n    ${({ isVisible }) =>\n        !isVisible &&\n        css`\n            display: none;\n        `}\n`;\n\nconst textHeightPx = icon.m.sizePx;\n\nconst StyledText = styled(ButtonText1)`\n    margin-left: 8px;\n\n    height: ${textHeightPx}px;\n    padding: 0 4px;\n\n    line-height: ${textHeightPx}px;\n\n    color: ${color.text.white};\n\n    opacity: 0.88;\n`;\n\ninterface HeaderButtonProps {\n    text: string;\n    isVisible?: boolean;\n    onClick?: () => void;\n}\n\nexport const HeaderButton: React.FC<HeaderButtonProps> = ({ text, isVisible, onClick: handleClick, children }) => {\n    return (\n        <StyledHeaderButton tabIndex={0} onClick={handleClick} isVisible={isVisible}>\n            {children}\n            <StyledText>{text}</StyledText>\n        </StyledHeaderButton>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButton } from 'components/HeaderButton/HeaderButton';\nimport { icon } from 'style/const/icon';\n\nimport addressIcon from './address.svg';\n\nconst addressIconSizePx = icon.m.sizePx;\n\nconst StyledIcon = styled.div`\n    width: ${addressIconSizePx}px;\n    height: ${addressIconSizePx}px;\n\n    background-image: url('${addressIcon}');\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst throttleTimeoutMs = 200;\n\nexport const HeaderAddress: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const { text, isVisible } = useSelector((state) => selectHeader(state).address);\n\n    const handleClick = useThrottledFn(() => dispatch(push(ROUTES.ADDRESS_SIMPLE)), throttleTimeoutMs, undefined, [\n        dispatch,\n    ]);\n\n    return (\n        <HeaderButton isVisible={isVisible} onClick={handleClick} text={text}>\n            <StyledIcon />\n        </HeaderButton>\n    );\n};\n","import React from 'react';\nimport { push } from 'connected-react-router';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButton } from 'components/HeaderButton/HeaderButton';\nimport { icon } from 'style/const/icon';\nimport { color } from 'style/const/color';\n\nimport cartIcon from './HeaderCart.assets/cart.svg';\n\nconst cartIconSizePx = icon.m.sizePx;\n\nconst StyledIcon = styled.div`\n    position: relative;\n\n    width: ${cartIconSizePx}px;\n    height: ${cartIconSizePx}px;\n\n    background-image: url('${cartIcon}');\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst badgeSizePx = 32;\nconst badgeOffsetPx = cartIconSizePx / 2;\n\nconst StyledBadge = styled.span`\n    position: absolute;\n    left: ${badgeOffsetPx}px;\n    bottom: ${badgeOffsetPx}px;\n\n    width: ${badgeSizePx}px;\n    height: ${badgeSizePx}px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    line-height: 24px;\n    font-size: 20px;\n    letter-spacing: -0.019em;\n\n    box-sizing: border-box;\n\n    color: ${color.text.primary};\n    background: ${color.button.primary};\n`;\n\nconst throttleTimeoutMs = 200;\n\nexport const HeaderCart: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const { count, price, isVisible } = useSelector((state) => selectHeader(state).cart);\n\n    const handleClick = useThrottledFn(\n        () => {\n            dispatch(push(ROUTES.CART));\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch],\n    );\n\n    const text = `${price} ₽`;\n\n    return (\n        <HeaderButton isVisible={isVisible} onClick={handleClick} text={text}>\n            <StyledIcon>\n                <StyledBadge>{count}</StyledBadge>\n            </StyledIcon>\n        </HeaderButton>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { icon } from 'style/const/icon';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout';\nimport { transition } from 'style/const/transition';\nimport { HeadlineText4 } from 'components/Text/Headline';\n\nimport { HeaderAddress } from '../HeaderAddress/HeaderAddress';\nimport { HeaderCart } from '../HeaderCart/HeaderCart';\n\nimport backButtonIcon from './Header.assets/chevron-left.svg';\nimport logoIcon from './Header.assets/logo.svg';\n\nconst headerPaddingTopPx = 32;\n\ninterface StyledHeaderProps {\n    isVisible: boolean;\n}\n\nconst StyledHeader = styled.div<StyledHeaderProps>`\n    position: relative;\n\n    height: ${layout.headerHeightPx}px;\n\n    box-sizing: border-box;\n    padding: ${headerPaddingTopPx}px 88px 0 128px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    --spatial-navigation-contain: contain;\n\n    opacity: ${({ isVisible }) => Number(isVisible)};\n\n    transition: opacity ${transition.default};\n`;\n\nconst backButtonTopPx = 24 + headerPaddingTopPx;\n\nconst backButtonIconSizePx = icon.m.sizePx;\n\nconst StyledBackButton = styled.span`\n    position: absolute;\n    top: ${backButtonTopPx}px;\n    left: 24px;\n\n    width: 80px;\n    height: 80px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &::before {\n        content: '';\n\n        display: block;\n        width: ${backButtonIconSizePx}px;\n        height: ${backButtonIconSizePx}px;\n\n        background-image: url(${backButtonIcon});\n        background-repeat: no-repeat;\n        background-size: contain;\n    }\n`;\n\nconst StyledSection = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst logoSizePx = 72;\n\nconst StyledLogo = styled.div`\n    width: ${logoSizePx}px;\n    height: ${logoSizePx}px;\n    border-radius: 16px;\n\n    background-image: url(${logoIcon});\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst StyledTitle = styled(HeadlineText4)`\n    margin-left: 24px;\n\n    display: inline-block;\n\n    color: ${color.text.white};\n`;\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const Header: React.FC = ({ children, ...props }) => {\n    const { title, isBackButtonVisible, isVisible } = useSelector(selectHeader);\n\n    return (\n        <StyledHeader isVisible={isVisible} {...props}>\n            {isBackButtonVisible && <StyledBackButton />}\n            <StyledSection>\n                <StyledLogo />\n                <StyledTitle>{title}</StyledTitle>\n            </StyledSection>\n            <StyledSection>\n                <HeaderAddress />\n                <HeaderCart />\n            </StyledSection>\n        </StyledHeader>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Header } from 'components/Header/Header';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout';\nimport gradientBackground from 'assets/images/background-tv-sber.jpg';\n\nconst StyledContainer = styled.div`\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    overflow: hidden;\n\n    background-color: ${color.background.default};\n    background-image: url('${gradientBackground}');\n    background-position: center;\n    background-size: cover;\n`;\n\nconst AppContent = styled.div`\n    position: relative;\n    z-index: 2;\n\n    height: ${layout.contentHeightPx}px;\n`;\n\nconst StyledHeader = styled(Header)`\n    z-index: 2;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const AppLayout: React.FC = ({ children }) => {\n    return (\n        <StyledContainer onScroll={preventScroll}>\n            <StyledHeader />\n            <AppContent>{children}</AppContent>\n            {/* <MapBackground isVisible={isMapVisible} maskType={maskType} /> */}\n        </StyledContainer>\n    );\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const captionLineHeightPx = 32;\n\ntype CaptionTextProps = {\n    size?: number;\n    lineHeight?: number;\n};\n\nexport const CaptionText = styled.div<CaptionTextProps>`\n    font-weight: ${font.weight.medium};\n    font-size: ${({ size }) => size || 24}px;\n    line-height: ${({ lineHeight }) => lineHeight || captionLineHeightPx}px;\n    letter-spacing: -0.022em;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { color } from 'style/const/color';\nimport { CaptionText, captionLineHeightPx } from 'components/Text/Caption';\n\nexport type BadgeType = 'sold-out' | 'few-left' | 'sale' | 'price-changed';\n\nconst contentMap: Record<BadgeType, (s?: string) => string> = {\n    'sold-out': () => 'Раскупили',\n    'few-left': () => 'Осталось мало',\n    'price-changed': () => 'Изменилась цена',\n    sale: (value) => `Скидка ${value}%`,\n};\n\nconst backgroundColorMap: Record<BadgeType, string> = {\n    'sold-out': color.background.default,\n    'few-left': color.button.warning,\n    'price-changed': color.button.warning,\n    sale: color.button.primary,\n};\n\nconst badgePaddingYPx = 8;\nconst badgeHeightPx = captionLineHeightPx + badgePaddingYPx * 2;\nconst badgeBorderRadiusPx = badgeHeightPx / 2;\n\ninterface StyledBadgeProps {\n    type: BadgeType;\n}\nconst StyledBadge = styled(CaptionText)<StyledBadgeProps>`\n    padding: ${badgePaddingYPx}px 16px;\n    border-radius: ${badgeBorderRadiusPx}px;\n\n    color: ${color.text.primary};\n    background-color: ${({ type }) => backgroundColorMap[type]};\n`;\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement> {\n    className?: string;\n    type: BadgeType;\n    content?: string;\n}\nexport const Badge: React.FC<BadgeProps> = ({ type, content, className }) => {\n    const contentProvider = contentMap[type];\n\n    return (\n        <StyledBadge className={className} type={type}>\n            {contentProvider(content)}\n        </StyledBadge>\n    );\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const FootnoteText1 = styled.div`\n    font-size: 28px;\n    line-height: 36px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.medium};\n`;\n\nexport const FootnoteText2 = styled.div`\n    font-size: 28px;\n    line-height: 36px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.semibold};\n`;\n","import React from 'react';\nimport styled, { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { color } from 'style/const/color';\nimport { transition } from 'style/const/transition';\nimport { CaptionText } from 'components/Text/Caption';\nimport { FootnoteText2 } from 'components/Text/Footnote';\n\ntype IndexBadgeSize = 'xxs' | 'xs' | 's' | 'm';\n\ninterface StyledIndexBadgeProps {\n    visible: boolean;\n    size: IndexBadgeSize;\n}\n\nconst mapSizeToPx: Record<IndexBadgeSize, number> = {\n    xxs: 22,\n    xs: 32,\n    s: 44,\n    m: 64,\n};\n\nconst mapSizeToParams: Record<IndexBadgeSize, FlattenSimpleInterpolation> = {\n    xxs: css`\n        width: ${mapSizeToPx.xxs}px;\n        height: ${mapSizeToPx.xxs}px;\n    `,\n    xs: css`\n        width: ${mapSizeToPx.xs}px;\n        height: ${mapSizeToPx.xs}px;\n    `,\n    s: css`\n        width: ${mapSizeToPx.s}px;\n        height: ${mapSizeToPx.s}px;\n    `,\n    m: css`\n        width: ${mapSizeToPx.m}px;\n        height: ${mapSizeToPx.m}px;\n    `,\n};\n\nconst StyledIndexBadge = styled.div<StyledIndexBadgeProps>`\n    position: absolute;\n\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ${({ size }) => mapSizeToParams[size]};\n\n    color: ${color.text.secondary};\n\n    transition: transform ${transition.default}, opacity ${transition.default};\n\n    background: ${color.button.secondary2};\n\n    ${({ visible }) => css`\n        transform: scale(${Number(visible)});\n        opacity: ${Number(visible)};\n    `}\n`;\n\ninterface IndexBadgeProps {\n    size: IndexBadgeSize;\n    index?: number;\n}\n\nexport const IndexBadge: React.FC<IndexBadgeProps> = ({ index, size, ...props }) => {\n    return (\n        <StyledIndexBadge visible={index !== undefined && index > 0} size={size} {...props}>\n            {size === 'xxs' && (\n                <CaptionText size={10} lineHeight={12}>\n                    {index}\n                </CaptionText>\n            )}\n            {size === 'xs' && (\n                <CaptionText size={14} lineHeight={18}>\n                    {index}\n                </CaptionText>\n            )}\n            {size === 's' && <CaptionText>{index}</CaptionText>}\n            {size === 'm' && <FootnoteText2>{index}</FootnoteText2>}\n        </StyledIndexBadge>\n    );\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const BodyText1 = styled.div`\n    font-weight: ${font.weight.medium};\n    font-size: 32px;\n    line-height: 40px;\n    letter-spacing: -0.019em;\n`;\n\nexport const BodyText2 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 32px;\n    line-height: 40px;\n    letter-spacing: -0.019em;\n`;\n\nexport const BodyText3 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 48px;\n    line-height: 60px;\n    letter-spacing: -0.025em;\n`;\n\nexport const BodyTextDev = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 48px;\n    line-height: 60px;\n    letter-spacing: -0.025em;\n`;\n","import React from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useFocusOnChange } from 'hooks/useFocusOnChange';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { catalogSelectItemAction } from 'store/actions/catalogPage';\nimport { addItemAction } from 'store/actions/native';\nimport { Badge, BadgeProps } from 'components/Badge/Badge';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { BodyText1, BodyText2 } from 'components/Text/Body';\nimport { icon } from 'style/const/icon';\nimport { color } from 'style/const/color';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport plusIcon from 'assets/icons/plus.svg';\nimport doneIcon from 'assets/icons/done.svg';\n\nexport const cardWidthPx = 392;\nexport const cardHeightPx = 592;\nexport const cardBorderRadiusPx = 40;\n\nconst thumbSizePx = cardWidthPx;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\nconst StyledThumb = styled.div<StyledThumbProps>`\n    display: block;\n    height: ${thumbSizePx}px;\n    width: ${thumbSizePx}px;\n\n    background: rgba(255, 255, 255, .04);\n    background-image: url('${(props) => props.imageUrl}');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    border-top-left-radius: ${cardBorderRadiusPx}px;\n    border-top-right-radius: ${cardBorderRadiusPx}px;\n`;\n\nconst descriptionHeightPx = cardHeightPx - thumbSizePx;\nconst descriptionPaddingPx = 32;\n\nconst StyledDescription = styled.div`\n    position: relative;\n\n    height: ${descriptionHeightPx}px;\n\n    box-sizing: border-box;\n    padding: ${descriptionPaddingPx}px;\n\n    border-bottom-left-radius: ${cardBorderRadiusPx}px;\n    border-bottom-right-radius: ${cardBorderRadiusPx}px;\n`;\n\nconst nameLineCount = 2;\n\nconst StyledName = styled(BodyText1)`\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: ${nameLineCount};\n    overflow: hidden;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPriceContainer = styled.div`\n    position: absolute;\n    bottom: 36px;\n\n    display: flex;\n`;\n\nconst StyledPrice = styled(BodyText2)`\n    color: ${color.text.primary};\n`;\n\nconst StyledOldPrice = styled(BodyText2)`\n    position: relative;\n    opacity: 0.24;\n    color: ${color.text.primary};\n    margin-left: 8px;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: calc(50% - 2px);\n        border-top: 4px solid ${color.text.primary};\n        left: 2px;\n        right: 2px;\n    }\n`;\n\ninterface StyledCountProps {\n    isWarning?: boolean;\n}\nconst StyledCount = styled(BodyText2)<StyledCountProps>`\n    margin-left: 8px;\n\n    color: ${({ isWarning }) => (isWarning ? color.text.warning : color.text.active)};\n`;\n\nconst buttonIconSizePx = icon.m.sizePx;\nconst buttonSizePx = 72;\nconst buttonOffsetXPx = 12;\nconst buttonOffsetYPx = -52;\n\ninterface StyledButtonProps {\n    isActive: boolean;\n    isDisabled?: boolean;\n}\nconst StyledButton = styled.div<StyledButtonProps>`\n    position: absolute;\n    top: ${buttonOffsetYPx}px;\n    right: ${buttonOffsetXPx}px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: ${buttonSizePx}px;\n    height: ${buttonSizePx}px;\n\n    border-radius: 50%;\n\n    background-color: ${({ isDisabled }) => (isDisabled ? '#3b3f44' : color.text.active)};\n\n    opacity: 0;\n\n    transition: opacity ${transition.default}, background-color ${transition.default};\n\n    &::before {\n        content: '';\n\n        display: block;\n\n        height: ${buttonIconSizePx}px;\n        width: ${buttonIconSizePx}px;\n\n        background-repeat: no-repeat;\n        background-size: contain;\n        background-position: center;\n\n        transition: opacity ${transition.default};\n\n        opacity: ${({ isDisabled }) => (isDisabled ? '0.56' : '1')};\n\n        background-image: url('${({ isActive }) => (isActive ? doneIcon : plusIcon)}');\n    }\n`;\n\nconst badgePositionPx = 16;\n\nconst CatalogListItemBadge = styled(Badge)`\n    position: absolute;\n    top: ${badgePositionPx}px;\n    left: ${badgePositionPx}px;\n    z-index: 1;\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: 8px;\n    right: 8px;\n`;\n\nconst cardScaleFactor = 1 / 1.04;\nconst addActiveDurationMs = 200;\n\nconst AddAnimation = css`\n    animation-name: ${keyframes`\n        0% {\n            transform: scale(1);\n        }\n        100% {\n            transform: scale(${cardScaleFactor});\n        }\n    `};\n    animation-duration: ${addActiveDurationMs / 2}ms;\n    animation-iteration-count: 2;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n    animation-direction: alternate;\n`;\n\nconst shakeDurationMs = 200;\nconst shakeAmplitudePx = 10;\n\nconst ShakeAnimation = css`\n    animation-name: ${keyframes`\n        0% {\n            transform: translateX(0);\n        }\n        25% {\n            transform: translateX(${-1 * shakeAmplitudePx}px);\n        }\n        75% {\n            transform: translateX(${shakeAmplitudePx}px);\n        }\n        100% {\n            transform: translateX(0);\n        }\n    `};\n    animation-duration: ${shakeDurationMs}ms;\n    animation-iteration-count: 1;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n`;\n\ninterface StyledCatalogListItemProps {\n    disabled?: boolean;\n    isActive: boolean;\n    isShaking: boolean;\n}\nconst StyledCatalogListItem = styled.div<StyledCatalogListItemProps>`\n    position: relative;\n    width: ${cardWidthPx}px;\n    height: ${cardHeightPx}px;\n\n    display: flex;\n    flex-direction: column;\n    grid-row: 1;\n\n    border-radius: ${cardBorderRadiusPx}px;\n    box-shadow: 0 16px 48px rgba(0, 0, 0, 0.1);\n    background: ${color.surface.liquid1};\n\n    transition: ${addActiveDurationMs / 2}ms ${transition.timingFn.default};\n    will-change: transform;\n    will-change: background-color;\n\n    ${focusBorderMixin({ borderRadius: cardBorderRadiusPx })}\n\n    ${({ disabled }) =>\n        !disabled &&\n        css`\n            &:focus {\n                ${StyledButton} {\n                    opacity: 1;\n                }\n            }\n        `}\n\n    ${({ disabled }) =>\n        disabled &&\n        css`\n            ${StyledDescription},\n            ${StyledThumb} {\n                opacity: 0.5;\n            }\n        `}\n\n    ${({ isActive }) =>\n        isActive &&\n        css`\n            ${AddAnimation}\n        `}\n\n    ${({ isShaking }) =>\n        isShaking &&\n        css`\n            ${ShakeAnimation}\n        `}\n`;\n\nconst throttleTimeoutMs = 200;\n\nconst useActive = (count: number) => {\n    const [isCardActive, setCardActive] = React.useState(false);\n    const [isButtonActive, setButtonActive] = React.useState(false);\n    const [displayCount, setDisplayCount] = React.useState(count);\n    const prevCountRef = React.useRef(0);\n\n    // проставление стейта нужно делать обязательно в эффекте,\n    // иначе происходит слишком много перерисовок из-за того что,\n    // мы во время рендера вызываем проставление стейта и так по кругу\n    // реакту такое не нравится\n    React.useEffect(() => {\n        if (count > prevCountRef.current) {\n            const nextCount = count;\n\n            setCardActive(true);\n\n            setTimeout(() => {\n                setButtonActive(true);\n                setDisplayCount(nextCount);\n            }, addActiveDurationMs * 0.5);\n\n            setTimeout(() => {\n                setCardActive(false);\n            }, addActiveDurationMs);\n\n            setTimeout(() => {\n                setButtonActive(false);\n            }, addActiveDurationMs * 1.5);\n        } else {\n            setDisplayCount(count);\n        }\n\n        prevCountRef.current = count;\n    }, [count]);\n\n    return {\n        isCardActive,\n        isButtonActive,\n        displayCount,\n    };\n};\n\nconst useShake = () => {\n    const [isShaking, setShaking] = React.useState(false);\n\n    const doShake = React.useCallback(() => {\n        if (!isShaking) {\n            setShaking(true);\n        }\n\n        setTimeout(() => setShaking(false), shakeDurationMs);\n    }, [isShaking, setShaking]);\n\n    return { isShaking, doShake };\n};\n\nexport interface CatalogListItemProps {\n    id: string;\n}\n\nexport interface CatalogListItemViewProps {\n    imageUrl: string;\n    count: number;\n    isWantMoreThanHave?: boolean;\n    name: string;\n    index: number;\n    price: number;\n    oldPrice?: number;\n    badge?: BadgeProps;\n    disabled?: boolean;\n    isButtonDisabled?: boolean;\n}\n\nexport const CatalogListItem: React.FC<CatalogListItemProps> = ({ id }) => {\n    const dispatch = useDispatch();\n    const itemFocusHash = useSelector(({ catalogPage }) => catalogPage.itemsFocusHashMap[id] || 0);\n    const {\n        imageUrl,\n        count,\n        isWantMoreThanHave,\n        index,\n        name,\n        price,\n        oldPrice,\n        badge,\n        disabled,\n        isButtonDisabled,\n    } = useSelector(({ catalogPage }) => catalogPage.itemsMap[id]);\n    const { isCardActive, isButtonActive, displayCount } = useActive(count);\n    const { isShaking, doShake } = useShake();\n    const handleFocus = React.useCallback(() => dispatch(catalogSelectItemAction(id)), [dispatch, id]);\n\n    const handleClick = useThrottledFn(\n        () => {\n            if (!disabled) {\n                if (isButtonDisabled) {\n                    doShake();\n                } else {\n                    dispatch(addItemAction({ item: id, count: '1' }));\n                }\n            }\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id, disabled, isButtonDisabled],\n    );\n\n    const ref = useFocusOnChange<HTMLDivElement>(undefined, itemFocusHash);\n\n    return (\n        <StyledCatalogListItem\n            ref={ref}\n            tabIndex={0}\n            disabled={disabled}\n            isActive={isCardActive}\n            isShaking={isShaking}\n            onFocus={handleFocus}\n            onClick={handleClick}\n        >\n            {badge ? <CatalogListItemBadge {...badge} /> : null}\n            <StyledIndexBadge size=\"m\" index={index} />\n            <StyledThumb imageUrl={imageUrl} />\n            <StyledDescription>\n                <StyledButton isActive={isButtonActive} isDisabled={isButtonDisabled} />\n                <StyledName>{name}</StyledName>\n                <StyledPriceContainer>\n                    <StyledPrice>{price} ₽</StyledPrice>\n                    {oldPrice ? <StyledOldPrice>{oldPrice} ₽</StyledOldPrice> : null}\n                    {displayCount ? <StyledCount isWarning={isWantMoreThanHave}>×{displayCount}</StyledCount> : null}\n                </StyledPriceContainer>\n            </StyledDescription>\n        </StyledCatalogListItem>\n    );\n};\n","import { createAction } from 'tools/create-action';\n\nexport const catalogSelectItemAction = (payload: string) => createAction('catalog/SELECT_ITEM', payload);\n","import React from 'react';\n\nexport const useFocusOnChange = <T = HTMLElement>(forwardRef: React.RefObject<T> | undefined, hash: unknown) => {\n    const ref = React.useRef<T>(null);\n\n    const onChangeFocusRef = forwardRef || ref;\n\n    React.useEffect(() => {\n        if (hash && onChangeFocusRef.current instanceof HTMLElement) {\n            onChangeFocusRef.current.focus();\n        }\n    }, [onChangeFocusRef, hash]);\n\n    return onChangeFocusRef;\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { layout } from 'style/const/layout';\n\nimport { CatalogListItem, cardHeightPx } from '../ListItem/CatalogListItem';\n\nconst preventScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    e.currentTarget.scrollLeft = 0;\n};\n\nconst StyledCatalogList = styled.div`\n    position: relative;\n\n    height: ${layout.contentHeightPx}px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    overflow: hidden;\n    --spatial-navigation-contain: contain;\n`;\n\nexport const cardGapPx = 32;\n\nconst StyledWrapper = styled.div`\n    box-sizing: border-box;\n    width: max-content;\n    height: ${cardHeightPx}px;\n    min-width: 100%;\n\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 392px);\n    grid-auto-flow: row;\n    grid-gap: ${cardGapPx}px;\n\n    will-change: transform;\n\n    transition: transform 0.4s ease-in-out;\n`;\n\nexport const CatalogList: React.FC = () => {\n    const order = useSelector(({ catalogPage }) => catalogPage.order);\n    const wrapperXShift = useSelector(({ catalogPage }) => catalogPage.wrapperXShift);\n\n    const wrapperStyle = React.useMemo(\n        () => ({\n            transform: `translateX(${-1 * wrapperXShift}px)`,\n        }),\n        [wrapperXShift],\n    );\n\n    return (\n        <StyledCatalogList onScroll={preventScroll}>\n            <StyledWrapper style={wrapperStyle}>\n                {order.map((itemId) => (\n                    <CatalogListItem key={itemId} id={itemId} />\n                ))}\n            </StyledWrapper>\n        </StyledCatalogList>\n    );\n};\n","import React from 'react';\nimport ContentLoader, { IContentLoaderProps } from 'react-content-loader';\n\ninterface SkeletonProps extends IContentLoaderProps {\n    itemWidth: number;\n    itemHeight: number;\n    borderRadius: number;\n    rowCount: number;\n    columnCount: number;\n    paddingBetweenColumns: number;\n    paddingBetweenRows: number;\n}\n\nexport const Skeleton: React.FC<SkeletonProps> = ({\n    itemWidth,\n    itemHeight,\n    borderRadius,\n    rowCount,\n    columnCount,\n    paddingBetweenColumns,\n    paddingBetweenRows,\n    ...props\n}) => {\n    const list = Array.from(Array(columnCount)).map((_, columnIndex) =>\n        // eslint-disable-next-line no-shadow\n        Array.from(Array(rowCount)).map((_, rowIndex) => (\n            <rect\n                key={`${columnIndex} ${rowIndex}`}\n                x={columnIndex * (itemWidth + paddingBetweenColumns)}\n                y={rowIndex * (itemHeight + paddingBetweenRows)}\n                width={itemWidth}\n                height={itemHeight}\n                rx={borderRadius}\n                ry={borderRadius}\n            />\n        )),\n    );\n\n    return <ContentLoader {...props}>{list}</ContentLoader>;\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Skeleton } from 'components/Skeleton/Skeleton';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout';\n\nimport { cardWidthPx, cardHeightPx } from '../ListItem/CatalogListItem';\nimport { cardGapPx } from '../List/CatalogList';\n\nconst columnCount = Math.floor((layout.widthPx + cardGapPx) / (cardWidthPx + cardGapPx)) + 1;\n\nconst getWidthByCount = (count: number) => cardWidthPx * count + cardGapPx * (count - 1);\n\nconst skeletonWidthPx = getWidthByCount(columnCount);\n\nconst skeletonPaddingXPx = (layout.widthPx - getWidthByCount(columnCount - 1)) / 2;\nconst skeletonPaddingYPx = (layout.contentHeightPx - cardHeightPx) / 2;\n\nconst backgroundColor = color.surface.liquid1;\nconst foregroundColor = color.surface.liquid2;\n\nconst StyledRoot = styled.div`\n    box-sizing: border-box;\n    height: ${layout.contentHeightPx}px;\n    padding-left: ${skeletonPaddingXPx}px;\n    padding-top: ${skeletonPaddingYPx}px;\n`;\n\nexport const CatalogSkeleton: React.FC = () => (\n    <StyledRoot>\n        <Skeleton\n            width={skeletonWidthPx}\n            height={cardHeightPx}\n            backgroundColor={backgroundColor}\n            foregroundColor={foregroundColor}\n            itemWidth={cardWidthPx}\n            itemHeight={cardHeightPx}\n            borderRadius={40}\n            rowCount={1}\n            columnCount={columnCount}\n            paddingBetweenRows={cardGapPx}\n            paddingBetweenColumns={cardGapPx}\n            speed={2}\n        />\n    </StyledRoot>\n);\n","import React from 'react';\nimport { useSelector } from 'hooks/useSelector';\n\nimport { CatalogList } from './List/CatalogList';\nimport { CatalogSkeleton } from './Skeleton/CatalogSkeleton';\n\nexport const Catalog: React.FC = () => {\n    const order = useSelector(({ catalogPage }) => catalogPage.order);\n\n    return order.length ? <CatalogList /> : <CatalogSkeleton />;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport shadowImage from './shadow.svg';\n\nconst badgeHeightPx = 86;\n\nconst StyledBody = styled.div`\n    position: relative;\n\n    height: ${badgeHeightPx}px;\n    min-width: ${badgeHeightPx}px;\n    padding: 6px;\n    border-radius: ${badgeHeightPx / 2}px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    text-align: center;\n`;\n\nconst kernelWidthPx = 4;\nconst kernelBorderRadiusPx = kernelWidthPx / 2;\n\nconst StyledKernel = styled.div`\n    height: 34px;\n    width: ${kernelWidthPx}px;\n\n    border-bottom-left-radius: ${kernelBorderRadiusPx}px;\n    border-bottom-right-radius: ${kernelBorderRadiusPx}px;\n`;\n\nconst StyledShadow = styled.div`\n    margin-top: -8px;\n\n    width: 86px;\n    height: 18px;\n\n    background-image: url('${shadowImage}');\n`;\n\ninterface PinInterface {\n    pinColor: string;\n}\n\nconst StyledPin = styled.div<PinInterface>`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    ${StyledBody}, ${StyledKernel} {\n        background-color: ${({ pinColor }) => pinColor};\n    }\n`;\n\nexport const Pin: React.FC<PinInterface> = ({ pinColor, children }) => {\n    return (\n        <StyledPin pinColor={pinColor}>\n            <StyledBody>{children}</StyledBody>\n            <StyledKernel />\n            <StyledShadow />\n        </StyledPin>\n    );\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const ParagraphText1 = styled.div`\n    font-size: 32px;\n    line-height: 44px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.regular};\n`;\n\nexport const ParagraphText2 = styled.div`\n    font-size: 32px;\n    line-height: 44px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.semibold};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { ROUTES } from 'store/constants/router';\nimport { makePurchaseAction } from 'store/actions/server';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { Pin } from 'components/Pin/Pin';\nimport { ParagraphText2, ParagraphText1 } from 'components/Text/Paragraph';\nimport { CaptionText } from 'components/Text/Caption';\nimport { HeadlineText2 } from 'components/Text/Headline';\nimport { BodyText1 } from 'components/Text/Body';\nimport { color } from 'style/const/color';\n\nconst StyledCartInfo = styled.div`\n    position: relative;\n\n    width: 744px;\n    padding-top: 48px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst StyledTime = styled(ParagraphText2)`\n    color: ${color.text.primary};\n`;\n\nconst StyledUnit = styled(CaptionText)`\n    margin-top: -10px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledAddress = styled(HeadlineText2)`\n    margin-top: 48px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    -webkit-line-clamp: 2;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPersonal = styled.div`\n    margin-top: 8px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst StyledPersonalLocation = styled(BodyText1)`\n    -webkit-line-clamp: 2;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPersonalPhoneNumber = styled(HeadlineText2)`\n    margin-top: 60px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPersonalName = styled(BodyText1)`\n    margin-top: 8px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledAskPersonal = styled(ParagraphText1)`\n    margin-top: 14px;\n\n    text-align: center;\n\n    color: ${color.text.secondary};\n`;\n\nconst CartInfoButton = styled(Button)`\n    margin-top: 60px;\n    padding: 20px 32px;\n\n    &[disabled] {\n        opacity: 0.3;\n    }\n`;\n\nconst throttleTimeoutMs = 200;\n\nexport const CartInfo: React.FC = () => {\n    const dispatch = useDispatch();\n    const { address, customerName } = useSelector(({ userData }) => userData);\n    const {\n        deliveryTime,\n        isMakePurchaseButtonDisabled,\n        makePurchaseButtonView,\n        hasRequiredData,\n        phoneNumber,\n        personalAddress,\n    } = useSelector(({ cartPage }) => cartPage);\n    const handlePurchaseClick = useThrottledFn(() => dispatch(makePurchaseAction()), throttleTimeoutMs, undefined, [\n        dispatch,\n    ]);\n\n    const handleSetAddressClick = useThrottledFn(\n        () => dispatch(push(ROUTES.ADDRESS_FULL_ALL)),\n        throttleTimeoutMs,\n        undefined,\n        [dispatch],\n    );\n\n    return (\n        <StyledCartInfo>\n            <Pin pinColor={color.button.critical}>\n                <StyledTime>{deliveryTime}</StyledTime>\n                <StyledUnit>мин</StyledUnit>\n            </Pin>\n            <StyledAddress>{address}</StyledAddress>\n            {hasRequiredData ? (\n                <>\n                    <StyledPersonal>\n                        <StyledPersonalLocation>{personalAddress}</StyledPersonalLocation>\n                        <StyledPersonalPhoneNumber>{phoneNumber}</StyledPersonalPhoneNumber>\n                        <StyledPersonalName>{customerName}</StyledPersonalName>\n                    </StyledPersonal>\n                    <CartInfoButton\n                        view={makePurchaseButtonView}\n                        disabled={isMakePurchaseButtonDisabled}\n                        shouldFocusOnMount\n                        shouldLockAfterClick\n                        onClick={handlePurchaseClick}\n                    >\n                        Перейти к оплате\n                    </CartInfoButton>\n                </>\n            ) : (\n                <>\n                    <StyledAskPersonal>\n                        Чтобы сделать заказ, укажите квартиру, подъезд и другую дополнительную информацию\n                    </StyledAskPersonal>\n                    <CartInfoButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleSetAddressClick}>\n                        Дополнить адрес\n                    </CartInfoButton>\n                </>\n            )}\n        </StyledCartInfo>\n    );\n};\n","import styled, { css } from 'styled-components';\nimport { transition } from 'style/const/transition';\n\ninterface GradientFadeProps {\n    sizePx: number;\n    kind: 'top' | 'bottom' | 'left' | 'right';\n    isVisible: boolean;\n}\n\nexport const GradientFade = styled.div<GradientFadeProps>`\n    ${({ kind, sizePx }) => css`\n        mask-image: linear-gradient(to ${kind}, #000 calc(100% - ${sizePx}px), transparent 100%);\n        mask-size: calc(100% + ${sizePx}px) calc(100% + ${sizePx}px);\n    `}\n\n    mask-position: ${({ kind, isVisible, sizePx }) => {\n        switch (kind) {\n            case 'top':\n                return `0 ${-1 * Number(!isVisible) * sizePx}px`;\n            case 'bottom':\n                return `0 ${-1 * Number(isVisible) * sizePx}px`;\n            case 'left':\n                return `${-1 * Number(!isVisible) * sizePx}px 0`;\n            case 'right':\n                return `${-1 * Number(isVisible) * sizePx}px 0`;\n            default:\n                return '0 0';\n        }\n    }};\n\n    mask-repeat: no-repeat;\n    transition: mask-position ${transition.default}, -webkit-mask-position ${transition.default};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { color } from 'style/const/color';\nimport { FootnoteText1 } from 'components/Text/Footnote';\n\nexport type LabelType = 'sold-out' | 'few-left' | 'sale' | 'price-changed' | 'you-want';\n\nconst contentMap: Record<LabelType, (s?: string) => string> = {\n    'sold-out': () => 'Раскупили',\n    'few-left': () => 'Осталось мало',\n    'price-changed': () => 'Изменилась цена',\n    sale: (value) => `Скидка ${value}%`,\n    'you-want': (value) => `Вы хотели ${value} товара`,\n};\n\nconst textColorMap: Record<LabelType, string> = {\n    'sold-out': color.text.warning,\n    'few-left': color.text.warning,\n    'price-changed': color.text.warning,\n    sale: color.text.active,\n    'you-want': color.text.warning,\n};\n\ninterface StyledLabelProps {\n    type: LabelType;\n}\nconst StyledLabel = styled(FootnoteText1)<StyledLabelProps>`\n    color: ${({ type }) => textColorMap[type]};\n`;\n\nexport interface LabelProps extends React.HTMLAttributes<HTMLDivElement> {\n    className?: string;\n    type: LabelType;\n    content?: string;\n}\nexport const Label: React.FC<LabelProps> = ({ type, content, className }) => {\n    const contentProvider = contentMap[type];\n\n    return (\n        <StyledLabel className={className} type={type}>\n            {contentProvider(content)}\n        </StyledLabel>\n    );\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { removeItemAction, addItemAction } from 'store/actions/native';\nimport { cartSelectItemAction } from 'store/actions/cartPage';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { Label, LabelProps } from 'components/Label/Label';\nimport { BodyText1, BodyText2 } from 'components/Text/Body';\nimport { FootnoteText1 } from 'components/Text/Footnote';\nimport { icon } from 'style/const/icon';\nimport { color } from 'style/const/color';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport addIcon from 'assets/icons/add.svg';\nimport removeIcon from 'assets/icons/remove.svg';\n\nconst thumbSizePx = 120;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\n\nconst StyledThumb = styled.div<StyledThumbProps>`\n    position: relative;\n\n    margin-right: 32px;\n\n    height: ${thumbSizePx}px;\n    width: ${thumbSizePx}px;\n\n    border-radius: 24px;\n\n    background-image: url('${({ imageUrl }) => imageUrl}');\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n`;\n\nconst StyledInfo = styled.div`\n    margin-right: 48px;\n\n    width: 384px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\n\ninterface StyledNameProps {\n    isOneLine?: boolean;\n}\nconst StyledName = styled(BodyText1)<StyledNameProps>`\n    overflow: hidden;\n\n    ${({ isOneLine }) =>\n        isOneLine\n            ? css`\n                  white-space: nowrap;\n                  text-overflow: ellipsis;\n              `\n            : css`\n                  display: -webkit-box;\n                  -webkit-box-orient: vertical;\n                  -webkit-line-clamp: 2;\n              `}\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPriceContainer = styled.div`\n    display: flex;\n`;\n\nconst StyledPrice = styled(FootnoteText1)`\n    margin-top: 4px;\n\n    color: ${color.text.secondary};\n`;\n\nconst StyledOldPrice = styled(FootnoteText1)`\n    position: relative;\n    opacity: 0.24;\n    color: ${color.text.primary};\n    margin-top: 4px;\n    margin-left: 8px;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: calc(50% - 2px);\n        border-top: 4px solid ${color.text.primary};\n        left: 2px;\n        right: 2px;\n    }\n`;\n\nconst StyledLabel = styled(Label)`\n    margin-top: 4px;\n`;\n\nconst StyledSelector = styled.div`\n    box-sizing: border-box;\n    padding: 8px;\n    width: 216px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\n\ninterface StyledSelectorValue {\n    isWarning?: boolean;\n}\nconst StyledSelectorValue = styled(BodyText2)<StyledSelectorValue>`\n    color: ${({ isWarning }) => (isWarning ? color.text.warning : color.text.primary)};\n`;\n\ntype SelectorButtonIconType = 'less' | 'more' | 'remove';\n\nconst iconTypeIconMap: Record<SelectorButtonIconType, string> = {\n    less: removeIcon,\n    more: addIcon,\n    remove: addIcon,\n};\n\nconst selectorButtonSizePx = 64;\nconst selectorBorderRadiusPx = selectorButtonSizePx / 2;\nconst selectorIconSizePx = icon.s.sizePx;\n\ninterface StyledSelectorButtonProps {\n    iconType: SelectorButtonIconType;\n}\nconst StyledSelectorButton = styled.button<StyledSelectorButtonProps>`\n    position: relative;\n\n    height: ${selectorButtonSizePx}px;\n    width: ${selectorButtonSizePx}px;\n    border: none;\n    border-radius: ${selectorBorderRadiusPx}px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background: ${color.button.secondary1};\n\n    will-change: background-color, transform, opacity;\n    transition: ${transition.default};\n\n    &::before {\n        content: '';\n\n        height: ${selectorIconSizePx}px;\n        width: ${selectorIconSizePx}px;\n\n        background-repeat: no-repeat;\n        background-size: contain;\n        background-position: center;\n    }\n\n    &[disabled] {\n        opacity: 0.3;\n    }\n\n    ${focusBorderMixin({ borderRadius: selectorBorderRadiusPx })}\n\n    &::before {\n        background-image: url('${({ iconType }) => iconTypeIconMap[iconType]}');\n    }\n\n    ${({ iconType }) =>\n        iconType === 'remove' &&\n        css`\n            transform: rotate(45deg);\n            background: ${color.button.critical};\n        `}\n`;\n\ninterface StyledCartListItemProps {\n    disabled?: boolean;\n}\n\nconst StyledCartListItem = styled.div<StyledCartListItemProps>`\n    position: relative;\n\n    box-sizing: border-box;\n    height: 152px;\n    width: 832px;\n    padding: 16px;\n\n    display: flex;\n    align-items: center;\n\n    ${({ disabled }) =>\n        disabled &&\n        css`\n            ${StyledThumb},\n            ${StyledName},\n            ${StyledPrice} {\n                opacity: .24;\n            }\n\n            ${StyledPrice} {\n                color: ${color.text.primary};\n            }\n        `}\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: 4px;\n    right: 4px;\n`;\n\nconst StyledDeleteButton = styled(Button)`\n    padding: 20px 32px;\n`;\n\nexport interface CartListItemProps {\n    id: string;\n    index: number;\n}\n\nexport interface CartListItemViewProps {\n    imageUrl: string;\n    name: string;\n    price: number;\n    oldPrice?: number;\n    count: number;\n    isWantMoreThanHave?: boolean;\n    disabled?: boolean;\n    label?: LabelProps;\n    isMoreButtonDisabled?: boolean;\n}\n\nconst throttleTimeoutMs = 100;\n\nexport const CartListItem: React.FC<CartListItemProps> = ({ index, id }) => {\n    const {\n        imageUrl,\n        name,\n        price,\n        oldPrice,\n        label,\n        count,\n        isWantMoreThanHave,\n        disabled,\n        isMoreButtonDisabled,\n    } = useSelector(({ cartPage: { itemsMap } }) => itemsMap[id]);\n    const dispatch = useDispatch();\n\n    const handleLessClick = useThrottledFn(\n        () => {\n            dispatch(\n                removeItemAction({\n                    item: id,\n                    count: '1',\n                    shouldRemoveMention: !count,\n                }),\n            );\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id, count],\n    );\n\n    const handleMoreClick = useThrottledFn(\n        () => {\n            dispatch(\n                addItemAction({\n                    item: id,\n                    count: '1',\n                }),\n            );\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id],\n    );\n\n    const handleRemoveClick = useThrottledFn(\n        () => {\n            dispatch(\n                removeItemAction({\n                    item: id,\n                    count: String(Infinity),\n                    shouldRemoveMention: true,\n                }),\n            );\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id, count],\n    );\n\n    const handleFocus = React.useCallback(() => dispatch(cartSelectItemAction(id)), [dispatch, id]);\n\n    return (\n        <StyledCartListItem disabled={disabled}>\n            <StyledThumb imageUrl={imageUrl}>\n                <StyledIndexBadge size=\"s\" index={index} />\n            </StyledThumb>\n            <StyledInfo>\n                <StyledName isOneLine={disabled || Boolean(label)}>{name}</StyledName>\n                <StyledPriceContainer>\n                    <StyledPrice>{price} ₽</StyledPrice>\n                    {oldPrice ? <StyledOldPrice>{oldPrice} ₽</StyledOldPrice> : null}\n                </StyledPriceContainer>\n                {label ? <StyledLabel {...label} /> : null}\n            </StyledInfo>\n            {disabled ? (\n                <StyledDeleteButton view={ButtonViews.secondary} onFocus={handleFocus} onClick={handleRemoveClick}>\n                    Удалить\n                </StyledDeleteButton>\n            ) : (\n                <StyledSelector>\n                    <StyledSelectorButton\n                        type=\"button\"\n                        aria-label=\"less\"\n                        iconType={count ? 'less' : 'remove'}\n                        onFocus={handleFocus}\n                        onClick={handleLessClick}\n                    />\n                    <StyledSelectorValue isWarning={isWantMoreThanHave}>{count}</StyledSelectorValue>\n                    <StyledSelectorButton\n                        type=\"button\"\n                        aria-label=\"more\"\n                        iconType=\"more\"\n                        disabled={isMoreButtonDisabled}\n                        onFocus={handleFocus}\n                        onClick={handleMoreClick}\n                    />\n                </StyledSelector>\n            )}\n        </StyledCartListItem>\n    );\n};\n","import { createAction } from 'tools/create-action';\n\nexport const cartSelectItemAction = (payload: string) => createAction('cart/SELECT_ITEM', payload);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { HeadlineText2 } from 'components/Text/Headline';\nimport { BodyText1 } from 'components/Text/Body';\nimport { GradientFade } from 'components/GradientFade/GradientFade';\nimport { color } from 'style/const/color';\n\nimport { CartListItem } from '../ListItem/CartListItem';\n\nconst preventScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    e.currentTarget.scrollTop = 0;\n};\n\nconst StyledCartList = styled.div`\n    position: relative;\n\n    height: 792px;\n    width: 832px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\n\ninterface StyledContainerProps {\n    topGradientVisible?: boolean;\n    bottomGradientVisible?: boolean;\n}\nconst StyledContainer = styled.div<StyledContainerProps>`\n    position: relative;\n\n    margin-bottom: 56px;\n\n    max-height: 600px;\n    overflow: hidden;\n\n    --spatial-navigation-contain: contain;\n`;\n\nconst StyledWrapper = styled.div`\n    overflow-x: hidden;\n\n    will-change: transform;\n    transition: transform 0.5s ease-in-out;\n`;\n\nconst StyledTotalPrice = styled(HeadlineText2)`\n    padding-left: 16px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledMinimalPrice = styled(BodyText1)`\n    margin-top: 8px;\n\n    padding-left: 16px;\n\n    color: ${color.text.warning};\n`;\n\n// const gradientSizePx = 160;\n\nexport const CartList: React.FC = () => {\n    const { order, totalPrice, toMinimumPrice, wrapperYShift, topGradientVisible, bottomGradientVisible } = useSelector(\n        ({ cartPage }) => cartPage,\n    );\n\n    const wrapperStyle = React.useMemo(\n        () => ({\n            transform: `translateY(${-1 * wrapperYShift}px)`,\n        }),\n        [wrapperYShift],\n    );\n\n    return (\n        <StyledCartList>\n            {order.length > 0 && (\n                <GradientFade sizePx={160} kind=\"top\" isVisible={topGradientVisible}>\n                    <GradientFade sizePx={160} kind=\"bottom\" isVisible={bottomGradientVisible}>\n                        <StyledContainer onScroll={preventScroll}>\n                            <StyledWrapper style={wrapperStyle}>\n                                {order.map((itemId, index) => (\n                                    <CartListItem key={itemId} index={index + 1} id={itemId} />\n                                ))}\n                            </StyledWrapper>\n                        </StyledContainer>\n                    </GradientFade>\n                </GradientFade>\n            )}\n            <StyledTotalPrice>Сумма заказа {totalPrice} ₽</StyledTotalPrice>\n            {Boolean(toMinimumPrice) && (\n                <StyledMinimalPrice>До минимального заказа еще {toMinimumPrice} ₽</StyledMinimalPrice>\n            )}\n        </StyledCartList>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { CartInfo } from './Info/CartInfo';\nimport { CartList } from './List/CartList';\nimport bgImage from './Cart.assets/bg.jpg';\n\nconst StyledContainer = styled.div`\n    position: relative;\n    z-index: 2;\n\n    padding-left: 112px;\n    padding-right: 128px;\n\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst StyledBackground = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n\n    background-image: url('${bgImage}');\n`;\n\nexport const Cart: React.FC = () => (\n    <>\n        <StyledContainer>\n            <CartList />\n            <CartInfo />\n        </StyledContainer>\n        <StyledBackground />\n    </>\n);\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { closeAppAction } from 'store/actions/app';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { BodyText2 } from 'components/Text/Body';\nimport { HeadlineText1 } from 'components/Text/Headline';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout';\n\nimport figureIcon1 from './Status.assets/figure-1.svg';\nimport figureIcon2 from './Status.assets/figure-2.svg';\nimport figureIcon3 from './Status.assets/figure-3.svg';\nimport figureIcon4 from './Status.assets/figure-4.svg';\nimport figureIcon5 from './Status.assets/figure-5.svg';\nimport figureIcon6 from './Status.assets/figure-6.svg';\nimport figureIcon7 from './Status.assets/figure-7.svg';\nimport figureIcon8 from './Status.assets/figure-8.svg';\nimport figureIcon9 from './Status.assets/figure-9.svg';\n\nconst StatusButton = styled(Button)`\n    margin-top: 64px;\n`;\n\nconst StatusContainer = styled.div`\n    position: relative;\n\n    height: ${layout.contentHeightPx}px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StatusOrderNumber = styled(BodyText2)`\n    color: ${color.text.secondary};\n`;\n\nconst StatusOrderTime = styled(HeadlineText1)`\n    margin-top: 16px;\n\n    text-align: center;\n\n    color: ${color.text.primary};\n`;\n\ninterface FigureProps {\n    params: [string, number, number, number];\n}\n\nconst StatusFigure = styled.div<FigureProps>`\n    position: absolute;\n\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n\n    ${({ params: [bgUrl, topPx, leftPx, sizePx] }) => css`\n        top: ${topPx}px;\n        left: ${leftPx}px;\n\n        height: ${sizePx}px;\n        width: ${sizePx}px;\n\n        background-image: url('${bgUrl}');\n    `}\n`;\n\nconst figureList: FigureProps['params'][] = [\n    [figureIcon1, 92, 834, 61],\n    [figureIcon2, 0, 482, 61],\n    [figureIcon3, 280, 236, 46],\n    [figureIcon4, 158, 1487, 53],\n    [figureIcon5, 594, 340, 53],\n    [figureIcon6, 500, 652, 60],\n    [figureIcon7, 705, 1044, 40],\n    [figureIcon8, 492, 1268, 40],\n    [figureIcon9, 590, 1604, 90],\n];\n\nexport const Status: React.FC = () => {\n    const dispatch = useDispatch();\n    const { deliveryTime } = useSelector(({ delivery }) => delivery);\n    const { orderId } = useSelector(({ cart }) => cart);\n    const handleButtonClick = React.useCallback(() => {\n        dispatch(closeAppAction());\n    }, [dispatch]);\n\n    return (\n        <StatusContainer>\n            <StatusOrderNumber>Заказ #{orderId} оформлен</StatusOrderNumber>\n            <StatusOrderTime>\n                Спасибо за заказ!\n                <br />\n                Будем у вас через {deliveryTime} минут.\n            </StatusOrderTime>\n            <StatusButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleButtonClick}>\n                Очень жду\n            </StatusButton>\n            {figureList.map((params, index) => (\n                <StatusFigure key={index} params={params} />\n            ))}\n        </StatusContainer>\n    );\n};\n","import React from 'react';\nimport { push } from 'connected-react-router';\nimport styled, { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\n// import { useInterval } from 'hooks/useInterval';\nimport { ROUTES } from 'store/constants/router';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { HeadlineText3 } from 'components/Text/Headline';\nimport { font } from 'style/const/font';\nimport { color } from 'style/const/color';\nimport { transition } from 'style/const/transition';\n\nimport popcornBites from './Promo.assets/popcorn-bites.png';\nimport popcorn1 from './Promo.assets/popcorn-box_1.png';\nimport popcorn2 from './Promo.assets/popcorn-box_2.png';\nimport popcorn3 from './Promo.assets/popcorn-box_3.png';\nimport popcorn4 from './Promo.assets/popcorn-box_4.png';\n\nconst TextContainer = styled.div`\n    position: absolute;\n    top: 80px;\n    left: 128px;\n    z-index: 2;\n\n    width: 958px;\n`;\n\nconst Title = styled.div`\n    font-weight: ${font.weight.extrabold};\n    font-size: 80px;\n    line-height: 88px;\n    letter-spacing: -0.0375em;\n\n    color: ${color.text.primary};\n`;\n\nconst Subtitle = styled(HeadlineText3)`\n    margin-top: 32px;\n\n    color: ${color.text.secondary};\n`;\n\nconst buttonsMarginTopPx = 64;\n\nconst ButtonContainer = styled.div`\n    margin-top: ${buttonsMarginTopPx}px;\n    display: flex;\n`;\n\nconst buttonMarginRightPx = 32;\n\nconst StyledButton = styled(Button)`\n    margin-right: ${buttonMarginRightPx}px;\n`;\n\nconst popcornBitesTopPx = 612;\nconst popcornBitesRightPx = 144;\nconst popcornBitesWidthPx = 614;\nconst popcornBitesHeightPx = 280;\n\nconst PopcornContainer = styled.div`\n    position: fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    z-index: 1;\n\n    &::before {\n        content: '';\n\n        position: absolute;\n        top: ${popcornBitesTopPx}px;\n        right: ${popcornBitesRightPx}px;\n        z-index: 2;\n\n        display: block;\n        width: ${popcornBitesWidthPx}px;\n        height: ${popcornBitesHeightPx}px;\n\n        background-image: url('${popcornBites}');\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n`;\n\nconst popcornList: FlattenSimpleInterpolation[] = [\n    css`\n        top: 162px;\n        right: 248px;\n        width: 440px;\n        height: 783px;\n        background-image: url('${popcorn1}');\n    `,\n    css`\n        top: 110px;\n        right: 66px;\n        width: 788px;\n        height: 816px;\n        background-image: url('${popcorn2}');\n    `,\n    css`\n        top: 215px;\n        right: 229px;\n        width: 469px;\n        height: 686px;\n        background-image: url('${popcorn3}');\n    `,\n    css`\n        top: 110px;\n        right: 66px;\n        width: 788px;\n        height: 816px;\n        background-image: url('${popcorn4}');\n    `,\n];\n\ninterface PopcornProps {\n    popcornStyle: FlattenSimpleInterpolation;\n    isVisible: boolean;\n}\n\nconst Popcorn = styled.div<PopcornProps>`\n    position: absolute;\n\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    transition: opacity 1s ${transition.timingFn.default};\n\n    opacity: ${({ isVisible }) => Number(isVisible)};\n\n    ${({ popcornStyle }) => popcornStyle}\n`;\n\n// const timeoutMs = 4000;\n\n// const useIndex = (count: number) => {\n//     const [index, setIndex] = React.useState(0);\n//\n//     useInterval(() => setIndex((index + 1) % count), timeoutMs);\n//\n//     return index;\n// };\n\n// TODO: поменять картинку (взять со старгейта)\n\nexport const Promo: React.FC = () => {\n    const dispatch = useDispatch();\n    const handleClickSubmitButton = React.useCallback(() => {\n        dispatch(push(ROUTES.ADDRESS_SIMPLE_GUIDE));\n    }, [dispatch]);\n\n    return (\n        <>\n            <TextContainer>\n                <Title>Доставляем попкорн к просмотру фильмов и сериалов</Title>\n                <Subtitle>Бесплатно в течении 15-30 минут для Москвы и Санкт-Петербурга</Subtitle>\n                <ButtonContainer>\n                    <StyledButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleClickSubmitButton}>\n                        Указать адрес\n                    </StyledButton>\n                </ButtonContainer>\n            </TextContainer>\n            <PopcornContainer>\n                <Popcorn isVisible popcornStyle={popcornList[0]} />\n                {/* {popcornList.map((style, index) => (\n                    <Popcorn key={index} isVisible={index === 0} popcornStyle={style} />\n                ))} */}\n            </PopcornContainer>\n        </>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { replace } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { ROUTES } from 'store/constants/router';\nimport { closeAppAction } from 'store/actions/app';\nimport { Pin } from 'components/Pin/Pin';\nimport { HeadlineText1 } from 'components/Text/Headline';\nimport { BodyText1 } from 'components/Text/Body';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout';\n\nimport faceIcon from './face.svg';\nimport bgImage from './bg.jpg';\n\nconst containerMarginBottomPx = 100;\n\nconst StyledContainer = styled.div`\n    position: relative;\n    z-index: 1;\n\n    height: ${layout.contentHeightPx - containerMarginBottomPx}px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    z-index: 3;\n`;\n\nconst faceIconSizePx = 36;\n\nconst StyledFaceIcon = styled.div`\n    height: ${faceIconSizePx}px;\n    width: ${faceIconSizePx}px;\n\n    background-image: url(${faceIcon});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n`;\n\nconst StyledTitle = styled(HeadlineText1)`\n    margin-top: 52px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledSubtitle = styled(BodyText1)`\n    margin-top: 12px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledButtonContainer = styled.div`\n    display: flex;\n    justify-content: center;\n`;\n\nconst StyledButton = styled(Button)`\n    margin-top: 64px;\n    margin-left: 40px;\n`;\n\nconst StyledBackground = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n\n    background-image: url('${bgImage}');\n`;\n\nexport const NoArea: React.FC = () => {\n    const dispatch = useDispatch();\n    const address = useSelector(({ userModel }) => userModel.address);\n    const handleChangeButtonClick = React.useCallback(() => {\n        dispatch(replace(ROUTES.ADDRESS_SIMPLE));\n    }, [dispatch]);\n    const handleCloseButtonClick = React.useCallback(() => {\n        dispatch(closeAppAction());\n    }, [dispatch]);\n\n    return (\n        <>\n            <StyledContainer>\n                <Pin pinColor=\"#8f8f8f\">\n                    <StyledFaceIcon />\n                </Pin>\n                <StyledTitle>{address}</StyledTitle>\n                <StyledSubtitle>К сожалению, пока не доставляем по этому адресу</StyledSubtitle>\n                <StyledButtonContainer>\n                    <StyledButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleChangeButtonClick}>\n                        Ввести другой\n                    </StyledButton>\n                    <StyledButton onClick={handleCloseButtonClick} view={ButtonViews.secondary}>\n                        Не сейчас\n                    </StyledButton>\n                </StyledButtonContainer>\n            </StyledContainer>\n            <StyledBackground />\n        </>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z\",\n  fill: \"white\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0zm0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nconst SvgKeyboard = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  width: 24,\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2);\n\nconst ForwardRef = React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgKeyboard, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/keyboard.147ad3b7.svg\";\nexport { ForwardRef as ReactComponent };","import { createAction } from 'tools/create-action';\nimport { DGSuggest } from 'tools/twoGis/api/suggest';\n\nexport const addressChangeInputValueAction = (payload: string) => createAction('address/CHANGE_INPUT_VALUE', payload);\n\nexport const addressSetSuggestsAction = (payload: DGSuggest[]) => createAction('address/SET_SUGGESTS', payload);\n\nexport const addressSelectSuggestItemAction = (payload: string) => createAction('address/SELECT_SUGGEST_ITEM', payload);\n\nexport const addressClickSuggestItemAction = (payload: string) => createAction('address/CLICK_SUGGEST_ITEM', payload);\n","import { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport React from 'react';\nimport { removeItemAction } from 'store/actions/native';\nimport { addressSubmitAction } from 'store/actions/server';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { addressClickSuggestItemAction, addressSelectSuggestItemAction } from 'store/actions/addressSimplePage';\nimport { font } from 'style/const/font';\nimport { transition } from 'style/const/transition';\nimport { color } from 'style/const/color';\n\nconst StyledRoot = styled.div`\n    height: 112px;\n    padding: 36px 32px;\n    border: 4px solid transparent;\n    box-sizing: border-box;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    border-radius: 24px;\n    font-weight: ${font.weight.medium};\n    font-size: 32px;\n    color: #fff;\n    background: ${color.surface.liquid1};\n\n    transition: border ${transition.default};\n\n    &:focus {\n        border-color: #68ea68;\n    }\n`;\n\ninterface SuggestListItemProps {\n    id: string;\n    shouldFocusOnMount?: boolean;\n}\n\nexport interface AddressSimpleSuggestItemView {\n    id: string;\n    name: string;\n}\nexport const AddressSimpleSuggestListItem: React.FC<SuggestListItemProps> = ({ id, shouldFocusOnMount }) => {\n    const { full_name: name } = useSelector(({ twoGisSuggestsData: { itemsMap } }) => itemsMap[id]);\n    const someRef = React.useRef<HTMLDivElement>(null);\n    const onMountRef = useFocusOnMount<HTMLDivElement>();\n    const ref = shouldFocusOnMount ? onMountRef : someRef;\n    const dispatch = useDispatch();\n    const memoizedOnClick = useThrottledFn(\n        () => {\n            dispatch(addressSubmitAction());\n        },\n        200,\n        undefined,\n        [dispatch],\n    );\n    const memoizedOnFocus = React.useCallback(() => {\n        dispatch(addressSelectSuggestItemAction(id));\n    }, [dispatch, id]);\n\n    return (\n        <StyledRoot ref={ref} tabIndex={0} onClick={memoizedOnClick} onFocus={memoizedOnFocus}>\n            {name}\n        </StyledRoot>\n    );\n};\n","import { BodyText1 } from 'components/Text/Body';\nimport { HeadlineText1 } from 'components/Text/Headline';\nimport React from 'react';\nimport { color } from 'style/const/color';\nimport styled from 'styled-components';\nimport Swiper from 'swiper';\nimport { useFocusOnChange } from 'hooks/useFocusOnChange';\nimport { useKeyboardExpanded } from 'hooks/useKeyboardExpanded';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { isBuildingSuggest } from 'tools/twoGis/api/suggest';\nimport { getSuggestsList } from 'tools/twoGis/getSuggestsList';\nimport { addressChangeInputValueAction, addressSetSuggestsAction } from 'store/actions/addressSimplePage';\nimport { addressSubmitAction } from 'store/actions/server';\nimport { Input } from 'components/Input/Input';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { ReactComponent as KeyboardSvg } from 'pages/AddressSimple/AddressSimple.assets/keyboard.svg';\n\nimport { AddressSimpleSuggestListItem } from './SuggestItem/AddressSimpleSuggestItem';\n\nconst StyledTitle = styled(BodyText1)``;\nconst StyledKeyboardButton = styled.div``;\n\nconst StyledKeyboardIcon = styled(KeyboardSvg)`\n    height: 64px;\n    width: 64px;\n`;\n\nconst StyledKeyboardExpandButton = styled.div`\n    height: 112px;\n    width: 112px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-shrink: 0;\n    background: rgba(255, 255, 255, 0.06);\n    border-radius: 24px;\n`;\n\nconst StyledContainer = styled.div`\n    display: flex;\n    align-items: start;\n    height: 100%;\n    padding: 160px 360px 0;\n`;\n\nconst StyledSwiperContainer = styled.div`\n    margin-left: 24px;\n    height: ${(112 + 24) * 4 - 24}px;\n    overflow: hidden;\n    transition: height 0.5s ease-in-out;\n`;\n\nconst StyledSwiperWrapper = styled.div``;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nconst StyledSwiperSlide = styled.div`\n    height: 112px;\n`;\n\nexport const AddressSimple: React.FC = () => {\n    // const suggests = useSelector(({ twoGisSuggestsData: { itemsMap } }) => {\n    //     return Object.values(itemsMap).filter((item) => {\n    //         return isBuildingSuggest(item);\n    //     });\n    // });\n\n    const suggestsListIndex = useSelector(({ addressSimplePage }) => addressSimplePage.suggestsListIndex);\n    const suggestIds = useSelector(({ addressSimplePage }) => addressSimplePage.suggests);\n    const swiperContainerRef = React.useRef<HTMLDivElement>(null);\n    const swiperRef = React.useRef<Swiper | null>(null);\n\n    React.useEffect(() => {\n        if (swiperContainerRef.current) {\n            swiperRef.current =\n                swiperRef.current ||\n                new Swiper(swiperContainerRef.current, {\n                    direction: 'vertical',\n                    slidesPerView: 'auto',\n                    speed: 400,\n                    spaceBetween: 24,\n                    initialSlide: 0,\n                    // roundLengths: true,\n                });\n        }\n    }, []);\n\n    React.useLayoutEffect(() => {\n        if (swiperRef.current) {\n            swiperRef.current.updateSize();\n            swiperRef.current.updateSlides();\n            swiperRef.current.updateProgress();\n            swiperRef.current.updateSlidesClasses();\n        }\n    }, [suggestIds]);\n\n    React.useLayoutEffect(() => {\n        if (swiperRef.current) {\n            console.log('slide tol', suggestsListIndex - 1);\n            swiperRef.current.slideTo(suggestsListIndex - 1, 400);\n        }\n    }, [suggestsListIndex]);\n\n    const suggestItems = React.useMemo(() => {\n        return suggestIds.map((itemId, index) => (\n            <StyledSwiperSlide className=\"swiper-slide\" key={itemId}>\n                <AddressSimpleSuggestListItem shouldFocusOnMount={index === 0} id={itemId} />\n            </StyledSwiperSlide>\n        ));\n    }, [suggestIds]);\n\n    const handleExpandKeyboardButton = React.useCallback(() => {\n        console.log('some');\n    }, []);\n\n    // <StyledKeyboardExpandButton tabIndex={0} onClick={handleExpandKeyboardButton}>\n    // </StyledKeyboardExpandButton>\n\n    return (\n        <StyledContainer>\n            <Button view={ButtonViews.secondary} onClick={handleExpandKeyboardButton}>\n                <StyledKeyboardIcon />\n            </Button>\n            <StyledSwiperContainer className=\"swiper-container\" ref={swiperContainerRef} onScroll={preventScroll}>\n                <StyledSwiperWrapper className=\"swiper-wrapper\">{suggestItems}</StyledSwiperWrapper>\n            </StyledSwiperContainer>\n        </StyledContainer>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23 14.9214C22.4799 14.0641 20.2694 14.097 18.124 14.13C17.0675 14.13 15.9786 14.13 14.9871 14.13C9.60724 13.6848 7.33177 11.5415 6.37282 9.89269C5.89828 9.05038 5.62862 8.10541 5.58622 7.1362C5.54382 6.16699 5.7299 5.2015 6.12902 4.31986C6.67661 3.23848 7.45055 2.29156 8.39669 1.54539C9.34282 0.799214 10.4383 0.271813 11.6064 0.000101213C9.57796 -0.00831337 7.58091 0.508078 5.80396 1.50048C4.88633 2.03156 4.03967 2.67987 3.28469 3.42953C2.43 4.32612 1.787 5.40775 1.40411 6.59297C1.02122 7.77818 0.908431 9.03607 1.07423 10.2719C1.29691 11.5764 1.80725 12.813 2.56715 13.8893C3.32704 14.9656 4.31685 15.8539 5.46264 16.4877C8.89209 18.6311 13.0367 18.4828 15.946 18.3838H17.5714C18.8879 18.3838 19.8143 18.5322 20.1232 19.1752C20.1989 19.411 20.1989 19.665 20.1232 19.9007C20.1232 20.0161 20.2369 20.0491 20.3344 19.9007C21.5781 18.4862 22.4698 16.7901 22.935 14.9544\",\n  fill: \"white\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.984 22.9919C15.8721 22.3426 14.3856 22.2059 12.5155 22.0521C11.1224 21.955 9.7384 21.7436 8.37562 21.4199C6.57366 20.9888 4.89214 20.1097 3.46747 18.854C2.04279 17.5982 0.915083 16.0011 0.175825 14.1923C9.7654e-07 13.9018 0 13.9531 0 14.2607C0.395244 16.2351 1.23718 18.0758 2.45211 19.6218C3.66703 21.1677 5.21792 22.3718 6.96903 23.1286C8.832 23.9337 10.3896 23.9726 11.1888 23.9726C11.3581 23.9902 11.5285 24 11.7003 24C13.1813 23.9524 14.6404 23.6045 16 22.9748\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.14667 4.81246C8.96368 5.50774 8.95174 6.23637 9.11186 6.93718C9.27198 7.63798 9.59949 8.2905 10.0669 8.83996C11.372 10.2256 13.0497 11.2129 14.9023 11.6856C16.7549 12.1584 18.7053 12.0969 20.5238 11.5084C21.5558 11.1477 22.4304 10.4451 23 9.5195C22.752 8.43653 22.3521 7.39329 21.8121 6.42014C21.4565 6.79157 21.0141 7.0705 20.5238 7.23227C19.5794 7.52033 18.5784 7.57578 17.6075 7.39383C16.6366 7.21187 15.7252 6.79799 14.9524 6.18811C14.7542 5.96516 14.614 5.69761 14.544 5.40875C14.474 5.11989 14.4764 4.81846 14.5508 4.5307C14.6794 4.14405 14.8977 3.79267 15.1883 3.50481C15.4789 3.21696 15.8336 3.00065 16.2239 2.87329C16.9507 2.69104 17.7 2.6129 18.4491 2.64126C17.6783 2.09104 16.8674 1.59801 16.0231 1.16616C15.8152 1.06253 15.5866 1.00593 15.3539 1.00042H15.0695C14.1559 0.990731 13.2484 1.14805 12.3925 1.4645C11.6279 1.72778 10.9361 2.1647 10.3725 2.7403C9.80883 3.3159 9.38904 4.01419 9.14667 4.77931\",\n  fill: \"white\"\n});\n\nconst SvgPlasmaBall = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 23,\n  height: 24,\n  viewBox: \"0 0 23 24\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3);\n\nconst ForwardRef = React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgPlasmaBall, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/plasma-ball.fef57d30.svg\";\nexport { ForwardRef as ReactComponent };","import { BodyText1 } from 'components/Text/Body';\nimport { HeadlineText1 } from 'components/Text/Headline';\nimport React from 'react';\nimport { color } from 'style/const/color';\nimport styled from 'styled-components';\nimport { ReactComponent as PlasmaBallSvg } from 'pages/AddressSimpleGuide/AddressSimpleGuide.assets/plasma-ball.svg';\n\nconst StyledRoot = styled.div`\n    padding-top: 248px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: start;\n`;\n\nconst StyledPlasmaIcon = styled(PlasmaBallSvg)`\n    position: absolute;\n    height: 48px;\n    width: 48px;\n    top: 20px;\n    left: 20px;\n`;\n\nconst StyledPlasmaButton = styled.div`\n    position: relative;\n    display: flex;\n    height: 88px;\n    width: 88px;\n\n    &::before {\n        content: '';\n        height: 100%;\n        width: 100%;\n        border-radius: 50%;\n\n        opacity: 0.3;\n        background: rgba(255, 255, 255, 0.06);\n        box-shadow: inset 0 4px 4px rgba(255, 255, 255, 0.15);\n        backdrop-filter: blur(48px);\n    }\n`;\n\nconst StyledTitle = styled(BodyText1)`\n    margin-top: 16px;\n    color: ${color.text.primary};\n`;\n\nconst StyledSource = styled(HeadlineText1)`\n    position: relative;\n    margin-top: 32px;\n\n    background: linear-gradient(to right, #00ffdf, #00ff5a);\n    color: transparent;\n    -webkit-background-clip: text;\n`;\n\nexport const AddressSimpleGuide: React.FC = () => {\n    return (\n        <StyledRoot>\n            <StyledPlasmaButton>\n                <StyledPlasmaIcon />\n            </StyledPlasmaButton>\n            <StyledTitle>Нажмите кнопку на пульте и назовите</StyledTitle>\n            <StyledSource>улицу и дом</StyledSource>\n        </StyledRoot>\n    );\n};\n","import styled, { keyframes } from 'styled-components';\n\nimport spinnerImage from './spinner.svg';\n\nconst spinnerSizePx = 112;\n\nconst spinnerAnimationDurationMs = 1000;\n\nexport const Spinner = styled.div`\n    width: ${spinnerSizePx}px;\n    height: ${spinnerSizePx}px;\n\n    background: url('${spinnerImage}');\n    background-size: cover;\n\n    animation-name: ${keyframes`\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    `};\n    animation-duration: ${spinnerAnimationDurationMs}ms;\n    animation-timing-function: linear;\n    animation-iteration-count: infinite;\n`;\n","import { DGSuggest } from 'tools/twoGis/api/suggest';\nimport { createAction } from 'tools/create-action';\n\nexport const setTwoGisSuggests = (payload: DGSuggest[]) => createAction('SET_TWO_GIS_SUGGESTS', payload);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\ninterface Fn<R = any> {\n    (...args: any): R;\n}\n\nexport const memoize = <F extends Fn>(fn: F): F => {\n    const store = new Map<string, ReturnType<F>>();\n\n    return ((...args) => {\n        const id = JSON.stringify(args);\n\n        if (!store.has(id)) {\n            store.set(id, fn(...args));\n        }\n\n        return store.get(id);\n    }) as F;\n};\n\nexport const memoizeResolvedPromise = <F extends Fn<Promise<any>>>(fn: F): F => {\n    const store = new Map<string, ReturnType<F>>();\n\n    return (async (...args) => {\n        const id = JSON.stringify(args);\n\n        if (!store.has(id)) {\n            const result = await fn(...args);\n            store.set(id, result);\n        }\n\n        return store.get(id);\n    }) as F;\n};\n","export type DGLocale =\n    | 'ru_RU' // русский (Россия),\n    | 'ru_UA' // русский(Украина),\n    | 'ru_KG' // русский(Казахстан),\n    | 'ru_KZ' // русский(Киргизия),\n    | 'ru_UZ' // русский(Узбекистан),\n    | 'uk_RU' // украинский(Россия),\n    | 'uk_UA' // украинский(Украина),\n    | 'en_RU' // английский(Россия),\n    | 'en_AE' // английский(ОАЭ),\n    | 'en_CY' // английский(Кипр),\n    | 'it_RU' // итальянский(Россия),\n    | 'it_IT' // итальянский(Россия),\n    | 'es_RU' // испанский(Россия),\n    | 'es_CL' // испанский(Кипр),\n    | 'ar_AE' // арабский(ОАЭ),\n    | 'ar_RU' // арабский(Россия),\n    | 'cs_CZ' // чешский(Чехия),\n    | 'cs_RU' // чешский(Россия),\n    | 'az_AZ'; // азербайджанский (Азербайджан).\n\ninterface DGBaseResponse {\n    meta: {\n        code: number;\n        api_version: string;\n        issue_date: string;\n    };\n}\n\nexport interface DGErrorResponse extends DGBaseResponse {\n    meta: {\n        code: number;\n        api_version: string;\n        issue_date: string;\n        error: {\n            type: string;\n            message: string;\n        };\n    };\n}\n\nexport interface DGSuccessResponse<ResponseType> extends DGBaseResponse {\n    meta: {\n        code: number;\n        api_version: string;\n        issue_date: string;\n    };\n    result: ResponseType;\n}\n\nexport type DGApiResponse<ResponseType> = DGSuccessResponse<ResponseType> | DGErrorResponse;\n\nexport const isErrorResponse = (response: DGApiResponse<unknown>): response is DGErrorResponse =>\n    'error' in response.meta;\n\nexport interface DGListResult<Item> {\n    total: number;\n    items: Item[];\n}\n\nexport interface DGLatLng {\n    lat: number;\n    lon: number;\n}\n","import * as Sentry from '@sentry/react';\nimport distance from '@turf/distance';\nimport { memoize, memoizeResolvedPromise } from 'tools/memoize';\n\nimport searchRegionData from '../../generated/geometry/search-region-data.wkt.json';\n\nimport { getSuggests, DGSuggest } from './api/suggest';\nimport { DGLocale, isErrorResponse, DGLatLng } from './api/common';\n\nconst regionData = searchRegionData.data as Record<string, string>;\nconst searchRegionList = searchRegionData.regions;\nconst searchRegionGroupList = searchRegionData.groups;\n\nconst memoizedGetSuggests = memoizeResolvedPromise(getSuggests);\n\nconst isPointInBBox = (point: [number, number], bbox: number[]): boolean => {\n    // prettier-ignore\n    return (\n        point[0] >= bbox[0] &&\n        point[1] >= bbox[1] &&\n        point[0] <= bbox[2] &&\n        point[1] <= bbox[3]\n    );\n};\n\nconst getPrimaryPolygonList = memoize((lon: number, lat: number) => {\n    const point: [number, number] = [lon, lat];\n\n    return [...searchRegionGroupList]\n        .filter(({ bbox }) => isPointInBBox(point, bbox))\n        .map((item) => item.groupRegionList)\n        .flat();\n});\n\nconst getSecondaryPolygonList = memoize((lon: number, lat: number) => {\n    const primaryPolygonList = getPrimaryPolygonList(lon, lat);\n\n    return [...searchRegionList]\n        .filter(({ name }) => primaryPolygonList.includes(name) === false)\n        .map((item) => item.name);\n});\n\nconst getDistance = (point: DGLatLng, userLocation: number[]) => {\n    return distance([point.lat, point.lon], userLocation);\n};\n\nexport interface GetSuggestsListParams {\n    q: string;\n    locale: DGLocale;\n    longitude: string;\n    latitude: string;\n}\n\nconst defaultSuggestOptions = {\n    fields: ['items.address', 'items.point'],\n    suggestType: 'address',\n    type: ['building', 'street'],\n};\n\nconst getSuggestListByPolygonList = async (\n    { q, locale, longitude, latitude }: GetSuggestsListParams,\n    polygonList: string[],\n) => {\n    const suggestList = await Promise.all(\n        polygonList.map((polygonName) =>\n            memoizedGetSuggests({\n                ...defaultSuggestOptions,\n                q: q.toLowerCase(),\n                locale,\n                location: [latitude, longitude],\n                polygon: regionData[polygonName] || '',\n            })\n                .then((response) => {\n                    if (isErrorResponse(response)) {\n                        throw new Error(`Error: 2GIS Suggests List: ${response.meta.error.message}`);\n                    }\n\n                    return response.result.items;\n                })\n                .catch((error) => {\n                    if (process.env.REACT_APP_ENVIRONMENT === 'production') {\n                        Sentry.captureException(error);\n                    }\n\n                    return [];\n                }),\n        ),\n    ).then((responseList) => responseList.flat());\n\n    const uniqueSuggestList = [\n        ...suggestList\n            .reduce((suggestMap, suggest) => {\n                suggestMap.set(suggest.id, suggest);\n\n                return suggestMap;\n            }, new Map<string, DGSuggest>())\n            .values(),\n    ];\n\n    const userLocation = [parseFloat(latitude), parseFloat(longitude)];\n\n    const distanceMap = Object.fromEntries(\n        uniqueSuggestList.map((suggest) => [\n            suggest.id,\n            suggest.point ? getDistance(suggest.point, userLocation) : Number.POSITIVE_INFINITY,\n        ]),\n    );\n\n    const sortedSuggestsList = [...uniqueSuggestList].sort((a, b) => distanceMap[a.id] - distanceMap[b.id]);\n\n    return sortedSuggestsList;\n};\n\nexport const getSuggestsList = async (params: GetSuggestsListParams): Promise<DGSuggest[]> => {\n    const { q, longitude, latitude } = params;\n\n    if (q.length === 0) {\n        return [];\n    }\n\n    const primaryPolygonList = getPrimaryPolygonList(parseFloat(longitude), parseFloat(latitude));\n    const secondaryPolygonList = getSecondaryPolygonList(parseFloat(longitude), parseFloat(latitude));\n\n    const primaryResult = await getSuggestListByPolygonList(params, primaryPolygonList);\n\n    if (primaryResult.length) {\n        return primaryResult;\n    }\n\n    const secondaryResult = await getSuggestListByPolygonList(params, secondaryPolygonList);\n\n    return secondaryResult;\n};\n","import { Spinner } from 'components/Spinner/Spinner';\nimport React from 'react';\nimport { addressSetSuggestsAction } from 'store/actions/addressSimplePage';\nimport { setTwoGisSuggests } from 'store/actions/twoGisSuggests';\nimport { addressInputDeclineThunk } from 'store/thunks/native';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressSubmitAction } from 'store/actions/server';\nimport { ROUTES } from 'store/constants/router';\nimport { HeadlineText1 } from 'components/Text/Headline';\nimport { AddressSimpleSuggestListItem } from 'pages/AddressSimple/SuggestItem/AddressSimpleSuggestItem';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { color } from 'style/const/color';\nimport { DGSuggest, isBuildingSuggest } from 'tools/twoGis/api/suggest';\nimport { getSuggestsList } from 'tools/twoGis/getSuggestsList';\n\nconst StyledAnswerContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst StyledAnswerTitle = styled(HeadlineText1)`\n    margin-top: 34px;\n    color: ${color.text.primary};\n    text-align: center;\n`;\n\nconst StyledSource = styled(HeadlineText1)`\n    position: relative;\n    margin-top: 32px;\n\n    background: linear-gradient(to right, #00ffdf, #00ff5a);\n    color: transparent;\n    -webkit-background-clip: text;\n\n    text-align: center;\n`;\n\nconst StyledContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n`;\n\nconst StyledAnswerButtonContainer = styled.div`\n    display: flex;\n    margin-top: 34px;\n    justify-content: center;\n`;\n\nconst StyledButton = styled(Button)`\n    flex-grow: 1;\n    max-width: 200px;\n`;\n\nconst StyledButtonDivider = styled.div`\n    width: 34px;\n`;\n\nexport const AddressSimpleQuestion: React.FC = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressSimplePage }) => addressSimplePage.inputValue);\n    const latitude = useSelector(({ userData }) => userData.deviceLocationLatitude);\n    const longitude = useSelector(({ userData }) => userData.deviceLocationLatitude);\n    const suggest = useSelector(({ twoGisSuggestsData: { itemsMap } }) => {\n        return Object.values(itemsMap).find((item) => isBuildingSuggest(item));\n    });\n    const handleAcceptButtonClick = React.useCallback(() => {\n        dispatch(addressSubmitAction());\n    }, [dispatch]);\n    const handleDeclineButtonClick = React.useCallback(() => {\n        dispatch(addressInputDeclineThunk());\n    }, [dispatch]);\n\n    React.useEffect(() => {\n        if (!suggest) {\n            getSuggestsList({ q: inputValue, locale: 'ru_RU', latitude, longitude })\n                .then((items) => {\n                    dispatch(setTwoGisSuggests(items));\n                })\n                .catch(() => {\n                    dispatch(setTwoGisSuggests([]));\n                });\n        }\n    }, [dispatch, inputValue, latitude, longitude, suggest]);\n\n    return (\n        <StyledContainer>\n            {suggest ? (\n                <StyledAnswerContainer>\n                    <StyledSource>{suggest.full_name}</StyledSource>\n                    <StyledAnswerTitle>Это ваш адрес?</StyledAnswerTitle>\n                    <StyledAnswerButtonContainer>\n                        <StyledButton shouldFocusOnMount view={ButtonViews.secondary} onClick={handleAcceptButtonClick}>\n                            Да\n                        </StyledButton>\n                        <StyledButtonDivider />\n                        <StyledButton view={ButtonViews.secondary} onClick={handleDeclineButtonClick}>\n                            Нет\n                        </StyledButton>\n                    </StyledAnswerButtonContainer>\n                </StyledAnswerContainer>\n            ) : (\n                <Spinner />\n            )}\n        </StyledContainer>\n    );\n};\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport { font } from 'style/const/font';\nimport { transition } from 'style/const/transition';\nimport { color } from 'style/const/color';\n\ninterface StyledTitleProps {\n    isMinified?: boolean;\n    isFocused?: boolean;\n}\nconst StyledTitle = styled.div<StyledTitleProps>`\n    position: absolute;\n    left: 32px;\n    top: 36px;\n\n    font-weight: 500;\n    font-size: 32px;\n    line-height: 40px;\n\n    color: ${({ isFocused }) => (isFocused ? color.text.active : color.text.tertiary)};\n    transition: font-size 0.2s ease-in-out, top 0.2s ease-in-out, color 0.2s ease-in-out;\n\n    ${({ isMinified }) =>\n        isMinified &&\n        css`\n            top: 12px;\n            font-size: 24px;\n        `};\n`;\n\ninterface StyledInputProps {\n    disabled?: boolean;\n}\nconst StyledInput = styled.input<StyledInputProps>`\n    margin-top: 50px;\n    height: 40px;\n    width: 100%;\n    font-family: inherit;\n    font-weight: ${font.weight.medium};\n    font-size: 32px;\n    color: ${({ disabled }) => (disabled ? 'rgba(255, 255, 255, 0.28)' : '#fff')};\n    caret-color: ${color.text.active};\n    line-height: 40px;\n    padding: 0;\n    border: none;\n    background: transparent;\n`;\n\nconst StyledWrapper = styled.div`\n    position: relative;\n    box-sizing: border-box;\n    height: 112px;\n    padding: 4px 36px;\n    background-color: ${color.surface.liquid1};\n\n    &::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n\n        display: block;\n        height: 4px;\n\n        background-color: ${color.surface.liquid2};\n\n        pointer-events: none;\n\n        transition: bottom ${transition.default};\n    }\n`;\n\ninterface StyledRootProps {\n    isFocused?: boolean;\n}\nconst StyledRoot = styled.div<StyledRootProps>`\n    margin: -4px;\n    height: 120px;\n    box-sizing: border-box;\n    border: 4px solid transparent;\n    border-radius: 28px;\n\n    overflow: hidden;\n\n    transition: border ${transition.default};\n\n    ${({ isFocused }) =>\n        isFocused &&\n        css`\n            border-color: ${color.text.active};\n\n            ${StyledTitle} {\n                color: ${color.text.active};\n\n                transition: color ${transition.default};\n            }\n\n            ${StyledWrapper}::after {\n                bottom: -4px;\n            }\n        `}\n`;\n\ninterface InputProps {\n    title: string;\n    value: string;\n    className?: string;\n    type?: string;\n    disabled?: boolean;\n    onSubmit?: (event: React.SyntheticEvent<HTMLInputElement>) => void;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    onRootKeyPress?: (event: React.KeyboardEvent<HTMLInputElement>) => void;\n    forwardRef?: React.RefObject<HTMLDivElement>;\n    shouldFocusOnMount?: boolean;\n    shouldFocusInputOnMount?: boolean;\n}\n\nexport const Input: React.FC<InputProps> = ({\n    title,\n    value,\n    className,\n    type = 'text',\n    disabled,\n    onSubmit,\n    onChange,\n    onRootKeyPress,\n    forwardRef,\n    shouldFocusOnMount,\n    shouldFocusInputOnMount,\n}) => {\n    const [isFocused, setFocus] = React.useState(false);\n    const [isUsing, setUsing] = React.useState(false);\n    const inputRef = React.useRef<HTMLInputElement>(null);\n    const onMountRootRef = useFocusOnMount<HTMLDivElement>(forwardRef);\n    const rootRef = shouldFocusOnMount ? onMountRootRef : forwardRef;\n    const handleRootFocus = React.useCallback(() => setFocus(true), [setFocus]);\n    const handleRootBlur = React.useCallback(() => {\n        setFocus(false);\n        setUsing(false);\n    }, [setFocus, setUsing]);\n    const handleRootKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            if (inputRef && inputRef.current) {\n                if (onRootKeyPress) {\n                    onRootKeyPress(e);\n                }\n\n                if (!e.defaultPrevented) {\n                    inputRef.current.focus();\n                    setUsing(true);\n                }\n            }\n        },\n        [onRootKeyPress, setUsing],\n    );\n    const handleInputKeyPress = React.useCallback(\n        (event: React.KeyboardEvent<HTMLInputElement>) => {\n            if (onSubmit && event && event.key === 'Enter') {\n                event.stopPropagation();\n                onSubmit(event);\n            }\n        },\n        [onSubmit],\n    );\n\n    React.useEffect(() => {\n        if (shouldFocusInputOnMount && inputRef && inputRef.current) {\n            inputRef.current.focus();\n            setUsing(true);\n        }\n    }, [shouldFocusInputOnMount, inputRef, setUsing]);\n\n    const isTitleMinified = isUsing || Boolean(value);\n\n    return (\n        <StyledRoot\n            tabIndex={disabled ? -1 : 0}\n            className={className}\n            ref={rootRef}\n            isFocused={isFocused}\n            onFocus={handleRootFocus}\n            onBlur={handleRootBlur}\n            onKeyPress={handleRootKeyPress}\n        >\n            <StyledWrapper>\n                <StyledTitle isMinified={isTitleMinified} isFocused={isFocused}>\n                    {title}\n                </StyledTitle>\n                <StyledInput\n                    tabIndex={-1}\n                    ref={inputRef}\n                    type={type}\n                    disabled={disabled}\n                    onKeyPress={handleInputKeyPress}\n                    onChange={onChange}\n                    value={value}\n                />\n            </StyledWrapper>\n        </StyledRoot>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { ROUTES } from 'store/constants/router';\nimport { addressFullSubmitAction } from 'store/actions/server';\nimport { noop } from 'tools/noop';\nimport { Input } from 'components/Input/Input';\nimport { Button, ButtonViews } from 'components/Button/Button';\n\nconst StyledContainer = styled.div`\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\n\nconst StyledFirstRow = styled.div`\n    grid-area: first-row;\n    display: grid;\n    grid-column-gap: 32px;\n    grid-template-columns: 1.4fr 1fr;\n    color: #fff;\n`;\n\nconst StyledSecondRow = styled.div`\n    grid-area: second-row;\n    display: grid;\n    grid-column-gap: 32px;\n    grid-template-columns: 1fr 1fr 1fr;\n    color: #fff;\n`;\n\nconst StyledThirdRow = styled.div`\n    grid-area: third-row;\n    display: grid;\n    grid-column-gap: 32px;\n    grid-template-columns: 1.4fr 1fr;\n    color: #fff;\n`;\n\nconst StyledFourthRow = styled.div`\n    grid-area: fourth-row;\n`;\n\nconst SubmitButton = styled(Button)`\n    flex-grow: 0;\n    padding: 32px 40px;\n`;\n\nconst StyledRoot = styled.div`\n    display: grid;\n    padding: 0 130px;\n    box-sizing: border-box;\n    grid-row-gap: 80px;\n    grid-column-gap: 32px;\n    grid-template-areas: 'first-row' 'second-row' 'third-row' 'fourth-row';\n\n    will-change: transform;\n`;\n\nexport const AddressFullAll: React.FC = () => {\n    const dispatch = useDispatch();\n    const {\n        addressInputValue,\n        phoneNumberInputValue,\n        apartmentInputValue,\n        entranceInputValue,\n        floorInputValue,\n        doorCodeInputValue,\n        isSubmitButtonDisabled,\n        nextFocus,\n    } = useSelector(({ addressFullPage }) => addressFullPage);\n    const handleSubmitClick = React.useCallback(() => {\n        dispatch(addressFullSubmitAction());\n    }, [dispatch]);\n\n    return (\n        <StyledContainer>\n            <StyledRoot>\n                <StyledFirstRow>\n                    <Input\n                        title=\"Улица и дом\"\n                        onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                        onRootKeyPress={() => dispatch(push(ROUTES.ADDRESS_SIMPLE))}\n                        value={addressInputValue}\n                    />\n                    <Input\n                        title=\"Номер телефона\"\n                        shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_PHONE}\n                        onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                        onRootKeyPress={() => dispatch(push(ROUTES.ADDRESS_FULL_PHONE))}\n                        value={phoneNumberInputValue}\n                    />\n                </StyledFirstRow>\n                <StyledSecondRow>\n                    <Input\n                        title=\"Квартира\"\n                        shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_APARTMENT}\n                        onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                        onRootKeyPress={() => dispatch(push(ROUTES.ADDRESS_FULL_APARTMENT))}\n                        value={apartmentInputValue}\n                    />\n                    <Input\n                        title=\"Подъезд\"\n                        shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_ENTRANCE}\n                        onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                        onRootKeyPress={() => dispatch(push(ROUTES.ADDRESS_FULL_ENTRANCE))}\n                        value={entranceInputValue}\n                    />\n                    <Input\n                        title=\"Этаж\"\n                        shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_FLOOR}\n                        onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                        onRootKeyPress={() => dispatch(push(ROUTES.ADDRESS_FULL_FLOOR))}\n                        value={floorInputValue}\n                    />\n                </StyledSecondRow>\n                <StyledThirdRow>\n                    <Input\n                        title=\"Комментарий\"\n                        shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_DOORCODE}\n                        onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                        onRootKeyPress={() => dispatch(push(ROUTES.ADDRESS_FULL_DOORCODE))}\n                        value={doorCodeInputValue}\n                    />\n                </StyledThirdRow>\n                <StyledFourthRow>\n                    <SubmitButton\n                        view={ButtonViews.secondary}\n                        shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_ALL}\n                        disabled={isSubmitButtonDisabled}\n                        shouldLockAfterClick\n                        onClick={handleSubmitClick}\n                    >\n                        Сохранить\n                    </SubmitButton>\n                </StyledFourthRow>\n            </StyledRoot>\n        </StyledContainer>\n    );\n};\n","import React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullPhoneNumberInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullPhone = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.phoneNumberInputValue);\n    const handleInputChange = React.useCallback(\n        ({ nativeEvent }: React.ChangeEvent<HTMLInputElement>) => {\n            // без этого тайпгварда TS не хочет показывать правильные поля\n            if (nativeEvent instanceof InputEvent) {\n                const { inputType, data } = nativeEvent;\n\n                dispatch(addressFullPhoneNumberInputChangeAction({ inputType, data }));\n            }\n        },\n        [dispatch],\n    );\n    const handleInputSubmit = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    return (\n        <StyledInput\n            title=\"Номер телефона\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={handleInputSubmit}\n        />\n    );\n};\n","import { createAction } from 'tools/create-action';\n\ninterface AddressFullPhoneNumberInputChangePayload {\n    inputType: InputEvent['inputType'];\n    data: InputEvent['data'];\n}\nexport const addressFullPhoneNumberInputChangeAction = (payload: AddressFullPhoneNumberInputChangePayload) =>\n    createAction('addressFull/PHONE_NUMBER_INPUT_CHANGE', payload);\n\nexport const addressFullApartmentInputChangeAction = (payload: string) =>\n    createAction('addressFull/APARTMENT_INPUT_CHANGE', payload);\n\nexport const addressFullEntranceInputChangeAction = (payload: string) =>\n    createAction('addressFull/ENTRANCE_INPUT_CHANGE', payload);\n\nexport const addressFullFloorInputChangeAction = (payload: string) =>\n    createAction('addressFull/FLOOR_INPUT_CHANGE', payload);\n\nexport const addressFullDoorCodeInputChangeAction = (payload: string) =>\n    createAction('addressFull/DOORCODE_INPUT_CHANGE', payload);\n","import React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullApartmentInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullApartment = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.apartmentInputValue);\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullApartmentInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleInputSubmit = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    return (\n        <StyledInput\n            title=\"Квартира\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={handleInputSubmit}\n        />\n    );\n};\n","import React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullEntranceInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullEntrance = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.entranceInputValue);\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullEntranceInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleInputSubmit = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    return (\n        <StyledInput\n            title=\"Подъезд\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={handleInputSubmit}\n        />\n    );\n};\n","import React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullFloorInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullFloor = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.floorInputValue);\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullFloorInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleInputSubmit = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    return (\n        <StyledInput\n            title=\"Этаж\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={handleInputSubmit}\n        />\n    );\n};\n","import React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullDoorCodeInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullDoorCode = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.doorCodeInputValue);\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullDoorCodeInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleInputSubmit = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    return (\n        <StyledInput\n            title=\"Комментарий\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={handleInputSubmit}\n        />\n    );\n};\n","import React from 'react';\nimport { Switch, Route } from 'react-router';\nimport { ROUTES } from 'store/constants/router';\n\nimport { AddressFullAll } from './AddressFullAll';\nimport { AddressFullPhone } from './AddressFullPhone';\nimport { AddressFullApartment } from './AddressFullApartment';\nimport { AddressFullEntrance } from './AddressFullEntrance';\nimport { AddressFullFloor } from './AddressFullFloor';\nimport { AddressFullDoorCode } from './AddressFullDoorCode';\n\nexport const AddressFull = () => (\n    <Switch>\n        <Route path={ROUTES.ADDRESS_FULL_ALL}>\n            <AddressFullAll />\n        </Route>\n        <Route path={ROUTES.ADDRESS_FULL_PHONE}>\n            <AddressFullPhone />\n        </Route>\n        <Route path={ROUTES.ADDRESS_FULL_APARTMENT}>\n            <AddressFullApartment />\n        </Route>\n        <Route path={ROUTES.ADDRESS_FULL_ENTRANCE}>\n            <AddressFullEntrance />\n        </Route>\n        <Route path={ROUTES.ADDRESS_FULL_FLOOR}>\n            <AddressFullFloor />\n        </Route>\n        <Route path={ROUTES.ADDRESS_FULL_DOORCODE}>\n            <AddressFullDoorCode />\n        </Route>\n    </Switch>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { goBack } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { closeAppAction } from 'store/actions/app';\nimport { Button, ButtonViews, ButtonSize } from 'components/Button/Button';\nimport { HeadlineText1 } from 'components/Text/Headline';\nimport { BodyText1 } from 'components/Text/Body';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout';\n\nimport circlesImage from './Error.assets/circles.svg';\nimport warningIcon from './Error.assets/warning.svg';\n\nconst ErrorPage = styled.div`\n    position: relative;\n\n    height: ${layout.contentHeightPx}px;\n    padding-left: 128px;\n`;\n\nconst TextContainer = styled.div`\n    width: 816px;\n    height: ${layout.contentHeightPx}px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    align-content: left;\n`;\n\nconst Title = styled(HeadlineText1)`\n    margin-bottom: 12px;\n\n    color: ${color.text.primary};\n`;\n\nconst Subtitle = styled(BodyText1)`\n    margin-bottom: 48px;\n\n    white-space: pre-wrap;\n\n    color: ${color.text.secondary};\n`;\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    margin: 0 -24px;\n`;\n\nconst StyledButton = styled(Button)`\n    margin: 0 24px;\n`;\n\nconst circlesPositionXPx = -266;\nconst circlesPositionYPx = -1 * (layout.headerHeightPx + 280);\n\nconst Circles = styled.div`\n    position: absolute;\n    top: ${circlesPositionYPx}px;\n    right: ${circlesPositionXPx}px;\n\n    box-sizing: border-box;\n    width: 1596px;\n    height: 1596px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-image: url('${circlesImage}');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n`;\n\nconst WarningIcon = styled.div`\n    width: 384px;\n    height: 384px;\n\n    background-image: url('${warningIcon}');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n`;\n\nexport const Error: React.FC = () => {\n    const { title, subtitle, retryButtonText, closeButtonText } = useSelector(({ errorPage }) => errorPage);\n\n    const dispatch = useDispatch();\n\n    const handleRetryButtonClick = React.useCallback(() => {\n        dispatch(goBack());\n    }, [dispatch]);\n\n    const handleCloseButtonClick = React.useCallback(() => {\n        dispatch(closeAppAction());\n    }, [dispatch]);\n\n    return (\n        <ErrorPage>\n            <TextContainer>\n                <Title>{title}</Title>\n                <Subtitle>{subtitle}</Subtitle>\n                <ButtonContainer>\n                    <StyledButton\n                        shouldFocusOnMount\n                        size={ButtonSize.s}\n                        view={ButtonViews.secondary}\n                        onClick={handleRetryButtonClick}\n                    >\n                        {retryButtonText}\n                    </StyledButton>\n                    {closeButtonText ? (\n                        <StyledButton size={ButtonSize.s} view={ButtonViews.secondary} onClick={handleCloseButtonClick}>\n                            {closeButtonText}\n                        </StyledButton>\n                    ) : null}\n                </ButtonContainer>\n            </TextContainer>\n            <Circles>\n                <WarningIcon />\n            </Circles>\n        </ErrorPage>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { Spinner } from 'components/Spinner/Spinner';\nimport { BodyText1 } from 'components/Text/Body';\nimport { color } from 'style/const/color';\n\nconst StyledContainer = styled.div`\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n`;\n\nconst Text = styled(BodyText1)`\n    margin-top: 32px;\n\n    color: ${color.text.primary};\n`;\n\nexport const Wait: React.FC = () => {\n    const text = useSelector(({ waitPage }) => waitPage.text);\n\n    return (\n        <StyledContainer>\n            <Spinner />\n            <Text>{text}</Text>\n        </StyledContainer>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { Switch, Route } from 'react-router';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { store, history } from 'store';\nimport { ROUTES } from 'store/constants/router';\nimport { AppLayout } from 'components/AppLayout/AppLayout';\nimport { Catalog } from 'pages/Catalog/Catalog';\nimport { Cart } from 'pages/Cart/Cart';\nimport { Status } from 'pages/Status/Status';\nimport { Promo } from 'pages/Promo/Promo';\nimport { NoArea } from 'pages/NoArea/NoArea';\nimport { AddressSimple } from 'pages/AddressSimple/AddressSimple';\nimport { AddressSimpleGuide } from 'pages/AddressSimpleGuide/AddressSimpleGuide';\nimport { AddressSimpleQuestion } from 'pages/AddressSimpleQuestion/AddressSimpleQuestion';\nimport { AddressFull } from 'pages/AddressFull/AddressFull';\nimport { Error } from 'pages/Error/Error';\nimport { Wait } from 'pages/Wait/Wait';\n\nimport 'style/global.scss';\n\nconst StyledContainer = styled.div`\n    overflow: hidden;\n    width: 100%;\n    height: 100vh;\n    outline: none;\n    font-family: 'SB Sans Text', Helvetica, Arial, sans-serif;\n    background: #000;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const RootDesktop: React.FC = () => (\n    <ReduxProvider store={store}>\n        <ConnectedRouter history={history}>\n            <StyledContainer onScroll={preventScroll}>\n                <AppLayout>\n                    <Switch>\n                        <Route path={ROUTES.CATALOG}>\n                            <Catalog />\n                        </Route>\n                        <Route path={ROUTES.CART}>\n                            <Cart />\n                        </Route>\n                        <Route path={ROUTES.STATUS}>\n                            <Status />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE}>\n                            <AddressSimple />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE_GUIDE}>\n                            <AddressSimpleGuide />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE_QUESTION}>\n                            <AddressSimpleQuestion />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_FULL}>\n                            <AddressFull />\n                        </Route>\n                        <Route path={ROUTES.PROMO}>\n                            <Promo />\n                        </Route>\n                        <Route path={ROUTES.NO_AREA}>\n                            <NoArea />\n                        </Route>\n                        <Route path={ROUTES.ERROR}>\n                            <Error />\n                        </Route>\n                        <Route path={ROUTES.WAIT}>\n                            <Wait />\n                        </Route>\n                    </Switch>\n                </AppLayout>\n            </StyledContainer>\n        </ConnectedRouter>\n    </ReduxProvider>\n);\n","// TODO: FRNTND-1 mv to npm package\n\nconst headerHeightPx = 65;\n\nexport const layout = {\n    headerHeightPx,\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const BodyText1 = styled.div`\n    font-weight: ${font.weight.medium};\n    font-size: 16px;\n    line-height: 20px;\n    letter-spacing: -0.019em;\n`;\n\nexport const BodyText2 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 16px;\n    line-height: 20px;\n    letter-spacing: -0.019em;\n`;\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const ButtonText2 = styled.div`\n    font-weight: ${font.weight.semibold};\n    font-size: 14px;\n    line-height: 16px;\n`;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport { ButtonText2 } from 'components/Text/Button@touch';\nimport { color } from 'style/const/color';\nimport { icon } from 'style/const/icon';\n\nconst containerBorderRadiusPx = 24;\n\ninterface StyledHeaderButtonProps {\n    isVisible?: boolean;\n}\n\nconst StyledHeaderButton = styled.div<StyledHeaderButtonProps>`\n    position: relative;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    margin-left: 15px;\n\n    box-sizing: border-box;\n    height: 32px;\n    min-width: 32px;\n    border-radius: ${containerBorderRadiusPx}px;\n\n    transition: background-color ${transition.default};\n    will-change: background-color;\n\n    ${focusBorderMixin({ borderRadius: containerBorderRadiusPx })}\n\n    &:focus {\n        background: ${color.button.secondary1};\n    }\n\n    &:first-of-type {\n        margin-left: 0;\n    }\n\n    ${({ isVisible }) =>\n        !isVisible &&\n        css`\n            display: none;\n        `}\n`;\n\nconst textHeightPx = icon.xs.sizePx;\n\nconst StyledText = styled(ButtonText2)`\n    margin-left: 8px;\n\n    height: ${textHeightPx}px;\n    padding: 0 7px 0 1px;\n\n    line-height: ${textHeightPx}px;\n\n    color: ${color.text.white};\n\n    opacity: 0.88;\n`;\n\ninterface HeaderButtonProps {\n    text?: string;\n    isVisible?: boolean;\n    onClick?: () => void;\n}\n\nexport const HeaderButtonTouch: React.FC<HeaderButtonProps> = ({ text, isVisible, onClick: handleClick, children }) => (\n    <StyledHeaderButton tabIndex={0} onClick={handleClick} isVisible={isVisible}>\n        {children}\n        {text ? <StyledText>{text}</StyledText> : null}\n    </StyledHeaderButton>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButtonTouch } from 'components/HeaderButton/HeaderButton@touch';\nimport { icon } from 'style/const/icon';\n\nimport addressIcon from './address.svg';\n\nconst addressIconSizePx = icon.xs.sizePx;\n\nconst StyledIcon = styled.div`\n    width: ${addressIconSizePx}px;\n    height: ${addressIconSizePx}px;\n\n    background-image: url('${addressIcon}');\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst throttleTimeoutMs = 200;\n\nexport const HeaderAddressTouch: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const { isVisible } = useSelector((state) => selectHeader(state).address);\n\n    const handleClick = useThrottledFn(() => dispatch(push(ROUTES.ADDRESS_SIMPLE)), throttleTimeoutMs, undefined, [\n        dispatch,\n    ]);\n\n    return (\n        <HeaderButtonTouch isVisible={isVisible} onClick={handleClick}>\n            <StyledIcon />\n        </HeaderButtonTouch>\n    );\n};\n","import React from 'react';\nimport { push } from 'connected-react-router';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButtonTouch } from 'components/HeaderButton/HeaderButton@touch';\nimport { icon } from 'style/const/icon';\nimport { color } from 'style/const/color';\n\nimport cartIcon from './HeaderCart.assets/cart.svg';\n\nconst cartIconSizePx = icon.xs.sizePx;\n\nconst StyledIcon = styled.div`\n    position: relative;\n\n    width: ${cartIconSizePx}px;\n    height: ${cartIconSizePx}px;\n\n    background-image: url('${cartIcon}');\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst badgeSizePx = 16;\nconst badgeOffsetPx = cartIconSizePx / 2;\n\nconst StyledBadge = styled.span`\n    position: absolute;\n    left: ${badgeOffsetPx}px;\n    bottom: ${badgeOffsetPx}px;\n\n    width: ${badgeSizePx}px;\n    height: ${badgeSizePx}px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    line-height: 12px;\n    font-size: 10px;\n    letter-spacing: -0.019em;\n\n    box-sizing: border-box;\n\n    color: ${color.text.primary};\n    background: ${color.button.primary};\n`;\n\nconst throttleTimeoutMs = 200;\n\nexport const HeaderCartTouch: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const { count, price, isVisible } = useSelector((state) => selectHeader(state).cart);\n\n    const handleClick = useThrottledFn(\n        () => {\n            dispatch(push(ROUTES.CART));\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch],\n    );\n\n    const text = `${price} ₽`;\n\n    return (\n        <HeaderButtonTouch isVisible={isVisible} onClick={handleClick} text={text}>\n            <StyledIcon>\n                <StyledBadge>{count}</StyledBadge>\n            </StyledIcon>\n        </HeaderButtonTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { icon } from 'style/const/icon';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout@touch';\nimport { transition } from 'style/const/transition';\nimport { BodyText2 } from 'components/Text/Body@touch';\n\nimport { HeaderAddressTouch } from '../HeaderAddress/HeaderAddress@touch';\nimport { HeaderCartTouch } from '../HeaderCart/HeaderCart@touch';\n\nimport backButtonIcon from './Header.assets/chevron-left.svg';\nimport logoIcon from './Header.assets/logo.svg';\n\ninterface StyledHeaderProps {\n    isVisible: boolean;\n}\n\nconst StyledHeader = styled.div<StyledHeaderProps>`\n    position: relative;\n\n    height: ${layout.headerHeightPx}px;\n\n    box-sizing: border-box;\n    padding: 14px 13px 9px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    --spatial-navigation-contain: contain;\n\n    opacity: ${({ isVisible }) => Number(isVisible)};\n\n    transition: opacity ${transition.default};\n\n    z-index: 2;\n`;\n\nconst backButtonIconSizePx = icon.xs.sizePx;\n\nconst StyledBackButton = styled.span`\n    width: 32px;\n    height: 32px;\n    margin-right: 9px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &::before {\n        content: '';\n\n        display: block;\n        width: ${backButtonIconSizePx}px;\n        height: ${backButtonIconSizePx}px;\n\n        background-image: url(${backButtonIcon});\n        background-repeat: no-repeat;\n        background-size: contain;\n    }\n`;\n\nconst StyledSection = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst StyledLogo = styled.div`\n    margin-left: 3px;\n\n    width: 28px;\n    height: 28px;\n    border-radius: 8px;\n\n    background-image: url(${logoIcon});\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst StyledTitle = styled(BodyText2)`\n    margin-left: 10px;\n\n    display: inline-block;\n\n    color: ${color.text.white};\n`;\n\n// eslint-disable-next-line  @typescript-eslint/no-unused-vars\nexport const HeaderTouch: React.FC = ({ children, ...props }) => {\n    const { title, isBackButtonVisible, isVisible } = useSelector(selectHeader);\n\n    return (\n        <StyledHeader isVisible={isVisible} {...props}>\n            <StyledSection>\n                {isBackButtonVisible && <StyledBackButton />}\n                <StyledLogo />\n                <StyledTitle>{title}</StyledTitle>\n            </StyledSection>\n            <StyledSection>\n                <HeaderAddressTouch />\n                <HeaderCartTouch />\n            </StyledSection>\n        </StyledHeader>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { HeaderTouch } from 'components/Header/Header@touch';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout@touch';\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: stretch;\n    align-content: stretch;\n\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    background-color: ${color.background.default};\n`;\n\nconst AppContent = styled.div`\n    position: absolute;\n    top: ${layout.headerHeightPx}px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n`;\n\nexport const AppLayoutTouch: React.FC = ({ children }) => {\n    return (\n        <Container>\n            <HeaderTouch />\n            <AppContent>{children}</AppContent>\n        </Container>\n    );\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const FootnoteText1 = styled.div`\n    font-size: 14px;\n    line-height: 18px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.medium};\n`;\n\nexport const FootnoteText2 = styled.div`\n    font-size: 14px;\n    line-height: 18px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.semibold};\n`;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { addItemAction, removeItemAction } from 'store/actions/native';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { FootnoteText1, FootnoteText2 } from 'components/Text/Footnote@touch';\nimport { color } from 'style/const/color';\nimport MoreIcon from 'assets/icons/add.svg';\nimport LessIcon from 'assets/icons/remove.svg';\n\nconst StyledCartListItemTouch = styled.div`\n    position: relative;\n    padding: 10px 16px;\n    margin-bottom: 4px;\n\n    display: flex;\n`;\n\nconst thumbSizePx = 40;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\n\nconst StyledThumb = styled.div<StyledThumbProps>`\n    position: relative;\n\n    margin-right: 10px;\n\n    height: ${thumbSizePx}px;\n    width: ${thumbSizePx}px;\n\n    background-image: url('${({ imageUrl }) => imageUrl}');\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n`;\n\nconst StyledInfo = styled.div`\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    justify-content: center;\n`;\n\nconst StyledName = styled(FootnoteText1)`\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPrice = styled(FootnoteText1)`\n    margin-top: 2px;\n\n    color: ${color.text.secondary};\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: -4px;\n    right: -4px;\n`;\n\nconst StyledSelector = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    margin-left: 16px;\n\n    width: 100px;\n`;\n\ninterface StyledCountTouchButtonProps {\n    isDanger?: boolean;\n}\n\nconst StyledCountTouchButton = styled.div<StyledCountTouchButtonProps>`\n    cursor: pointer;\n    background-color: rgba(255, 255, 255, 0.06);\n    border-radius: 8px;\n    display: flex;\n    width: 32px;\n    height: 32px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 14px;\n\n    ${({ isDanger }) =>\n        isDanger &&\n        css`\n            background-color: ${color.button.critical};\n        `}\n`;\n\ntype StyledIconProps = {\n    icon: string;\n};\n\nconst StyledIcon = styled.div<StyledIconProps>`\n    height: 12px;\n    width: 12px;\n\n    background-image: url(${({ icon }) => icon});\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst StyledRemoveIcon = styled(StyledIcon)`\n    transform: rotate(45deg);\n    height: 15px;\n    width: 15px;\n`;\n\nconst StyledCount = styled(FootnoteText2)`\n    color: ${color.text.primary};\n`;\n\nexport interface CartListItemTouchProps {\n    id: string;\n    index: number;\n}\n\nexport interface CartListItemTouchViewProps {\n    imageUrl: string;\n    name: string;\n    price: number;\n    count: number;\n    disabled?: boolean;\n    isMoreButtonDisabled?: boolean;\n}\n\nconst throttleTimeoutMs = 100;\n\nexport const CartListItemTouch: React.FC<CartListItemTouchProps> = ({ index, id }) => {\n    const { imageUrl, name, price, count, disabled } = useSelector(({ cartPageTouch: { itemsMap } }) => itemsMap[id]);\n\n    const dispatch = useDispatch();\n\n    const handleLessClick = useThrottledFn(\n        () => {\n            dispatch(\n                removeItemAction({\n                    item: id,\n                    count: '1',\n                    shouldRemoveMention: !count,\n                }),\n            );\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id, count],\n    );\n\n    const handleMoreClick = useThrottledFn(\n        () => {\n            dispatch(\n                addItemAction({\n                    item: id,\n                    count: '1',\n                }),\n            );\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id],\n    );\n\n    return (\n        <StyledCartListItemTouch>\n            <StyledThumb imageUrl={imageUrl}>\n                <StyledIndexBadge size=\"xxs\" index={index + 1} />\n            </StyledThumb>\n            <StyledInfo>\n                <StyledName>{name}</StyledName>\n                <StyledPrice>{price} ₽</StyledPrice>\n            </StyledInfo>\n            {disabled ? null : (\n                <StyledSelector>\n                    <StyledCountTouchButton isDanger={!count} onClick={handleLessClick}>\n                        {count ? <StyledIcon icon={LessIcon} /> : <StyledRemoveIcon icon={MoreIcon} />}\n                    </StyledCountTouchButton>\n                    <StyledCount>{count}</StyledCount>\n                    <StyledCountTouchButton onClick={handleMoreClick}>\n                        <StyledIcon icon={MoreIcon} />\n                    </StyledCountTouchButton>\n                </StyledSelector>\n            )}\n        </StyledCartListItemTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { BodyText1, BodyText2 } from 'components/Text/Body@touch';\nimport { color } from 'style/const/color';\n\nimport { CartListItemTouch } from '../ListItem/CartListItem@touch';\n\nconst StyledCartListTouch = styled.div`\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    margin-top: 17px;\n`;\n\nconst StyledContainer = styled.div`\n    height: 190px;\n    margin-bottom: 24px;\n`;\n\nconst StyledTotalPrice = styled(BodyText2)`\n    padding-left: 16px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledPrice = styled.span`\n    color: ${color.text.active};\n`;\n\nconst StyledMinimalPrice = styled(BodyText1)`\n    margin-top: 8px;\n\n    padding-left: 16px;\n\n    color: ${color.text.warning};\n`;\n\nexport const CartListTouch: React.FC = () => {\n    const { order, totalPrice, toMinimumPrice } = useSelector(({ cartPageTouch }) => cartPageTouch);\n\n    return (\n        <StyledCartListTouch>\n            {order.length > 0 && (\n                <StyledContainer>\n                    {order.map((itemId, index) => (\n                        <CartListItemTouch key={itemId} id={itemId} index={index} />\n                    ))}\n                </StyledContainer>\n            )}\n            <StyledTotalPrice>\n                Сумма к оплате\n                <StyledPrice> {totalPrice} ₽</StyledPrice>\n            </StyledTotalPrice>\n            {Boolean(toMinimumPrice) && (\n                <StyledMinimalPrice>До минимального заказа еще {toMinimumPrice} ₽</StyledMinimalPrice>\n            )}\n        </StyledCartListTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { color } from 'style/const/color';\n\nimport shadowImage from './shadow.svg';\n\nconst StyledPin = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst badgeHeightPx = 43;\n\nconst StyledBody = styled.div`\n    position: relative;\n\n    height: ${badgeHeightPx}px;\n    min-width: ${badgeHeightPx}px;\n    padding: 10px 11px;\n    border-radius: ${badgeHeightPx / 2}px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    text-align: center;\n\n    background: ${color.button.critical};\n`;\n\nconst kernelWidthPx = 2;\nconst kernelBorderRadiusPx = kernelWidthPx / 2;\n\nconst StyledKernel = styled.div`\n    height: 16px;\n    width: ${kernelWidthPx}px;\n\n    border-bottom-left-radius: ${kernelBorderRadiusPx}px;\n    border-bottom-right-radius: ${kernelBorderRadiusPx}px;\n\n    background: ${color.button.critical};\n`;\n\nconst StyledShadow = styled.div`\n    margin-top: -3px;\n\n    width: 37px;\n    height: 8px;\n\n    background: transparent no-repeat center/contain;\n    background-image: url('${shadowImage}');\n`;\n\nexport const Pin: React.FC = ({ children }) => {\n    return (\n        <StyledPin>\n            <StyledBody>{children}</StyledBody>\n            <StyledKernel />\n            <StyledShadow />\n        </StyledPin>\n    );\n};\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const ParagraphText2 = styled.div`\n    font-size: 16px;\n    line-height: 22px;\n    letter-spacing: -0.019em;\n    font-weight: ${font.weight.medium};\n`;\n","import styled from 'styled-components';\nimport { font } from 'style/const/font';\n\nexport const HeadlineText2 = styled.div`\n    font-weight: ${font.weight.medium};\n    font-size: 24px;\n    line-height: 28px;\n    letter-spacing: -0.022em;\n`;\n\nexport const HeadlineText4 = styled.div`\n    font-weight: ${font.weight.bold};\n    font-size: 20px;\n    line-height: 24px;\n    letter-spacing: -0.022em;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { Pin } from 'components/Pin/Pin@touch';\nimport { ParagraphText2 } from 'components/Text/Paragraph@touch';\nimport { CaptionText } from 'components/Text/Caption';\nimport { HeadlineText4 } from 'components/Text/Headline@touch';\nimport { BodyText1 } from 'components/Text/Body@touch';\nimport { color } from 'style/const/color';\nimport { font } from 'style/const/font';\n\nimport bgImage from '../Cart.assets/bg@touch.jpg';\n\nconst StyledBackground = styled.div`\n    position: absolute;\n    top: -65px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    background-image: url('${bgImage}');\n\n    opacity: 0.6;\n`;\n\nconst StyledCartInfoTouch = styled.div`\n    position: relative;\n\n    height: 236px;\n\n    padding: 15px 16px 0;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    &::before {\n        content: '';\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        height: 96px;\n        background: linear-gradient(360deg, #080808 0%, rgba(8, 8, 8, 0) 100%);\n\n        z-index: 1;\n\n        pointer-events: none;\n    }\n`;\n\nconst StyledPlaceInfo = styled.div`\n    position: relative;\n    z-index: 1;\n`;\n\nconst StyledTime = styled(ParagraphText2)`\n    font-weight: ${font.weight.semibold};\n    color: ${color.text.primary};\n`;\n\nconst StyledUnit = styled(CaptionText)`\n    margin-top: -4px;\n\n    color: ${color.text.primary};\n`;\n\nconst StyledAddress = styled(HeadlineText4)`\n    margin-top: 14px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    -webkit-line-clamp: 2;\n\n    color: ${color.text.primary};\n    text-align: center;\n`;\n\nconst StyledPersonal = styled(BodyText1)`\n    margin-top: 6px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n`;\n\nconst StyledPersonalLocation = styled(BodyText1)`\n    -webkit-line-clamp: 2;\n\n    color: ${color.text.secondary};\n`;\n\nexport const CartInfoTouch: React.FC = () => {\n    const { address } = useSelector(({ userData }) => userData);\n    const { deliveryTime, hasRequiredData, personalAddress } = useSelector(({ cartPageTouch }) => cartPageTouch);\n\n    return (\n        <StyledCartInfoTouch>\n            <StyledPlaceInfo>\n                <Pin>\n                    <StyledTime>{deliveryTime}</StyledTime>\n                    <StyledUnit size={12} lineHeight={16}>\n                        мин\n                    </StyledUnit>\n                </Pin>\n                <StyledAddress>{address}</StyledAddress>\n                {hasRequiredData ? (\n                    <StyledPersonal>\n                        <StyledPersonalLocation>{personalAddress}</StyledPersonalLocation>\n                    </StyledPersonal>\n                ) : null}\n            </StyledPlaceInfo>\n            <StyledBackground />\n        </StyledCartInfoTouch>\n    );\n};\n","import React from 'react';\n\nimport { CartListTouch } from './List/CartList@touch';\nimport { CartInfoTouch } from './Info/CartInfo@touch';\n\nexport const CartTouch: React.FC = () => {\n    return (\n        <>\n            <CartInfoTouch />\n            <CartListTouch />\n        </>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport AddIcon from 'assets/icons/add.svg';\nimport RemoveIcon from 'assets/icons/remove.svg';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useThrottledFn } from 'hooks/useThrottledFn';\nimport { addItemAction, removeItemAction } from 'store/actions/native';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { BadgeType } from 'components/Badge/Badge';\n\nconst throttleTimeoutMs = 150;\nconst cardBorderRadiusPx = 20;\n\nconst StyledListItem = styled.div`\n    position: relative;\n    border-radius: ${cardBorderRadiusPx}px;\n    background-color: rgba(255, 255, 255, 0.06);\n    color: #fff;\n`;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\n\nconst StyledThumb = styled.div<StyledThumbProps>`\n    display: block;\n    width: 100%;\n    height: 168px;\n\n    background-image: url('${({ imageUrl }) => imageUrl}');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    border-top-left-radius: ${cardBorderRadiusPx}px;\n    border-top-right-radius: ${cardBorderRadiusPx}px;\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: 8px;\n    right: 8px;\n    color: #fff;\n`;\n\ntype StyledIconProps = {\n    icon: string;\n};\n\nconst StyledIcon = styled.div<StyledIconProps>`\n    height: 12px;\n    width: 12px;\n\n    background-image: url(${({ icon }) => icon});\n    background-repeat: no-repeat;\n    background-size: contain;\n`;\n\nconst StyledDescription = styled.div`\n    padding: 8px 16px 0;\n`;\n\nconst StyledButtonsContainer = styled.div`\n    padding: 12px;\n    margin-top: 6px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n`;\n\nconst StyledName = styled.div`\n    color: #fff;\n    font-size: 14px;\n    height: 36px;\n\n    display: block;\n    display: -webkit-box;\n\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n`;\n\ntype StyledTouchButtonProps = {\n    disabled?: boolean;\n};\n\nconst StyledTouchButton = styled.div<StyledTouchButtonProps>`\n    cursor: pointer;\n    padding: 11px 20px;\n    text-align: center;\n    font-size: 14px;\n    background-color: rgba(255, 255, 255, 0.06);\n    border-radius: 12px;\n    width: 100%;\n    opacity: ${({ disabled }) => (disabled ? 0.2 : 1)};\n`;\n\nconst StyledCountTouchButton = styled.div`\n    cursor: pointer;\n    background-color: rgba(255, 255, 255, 0.06);\n    border-radius: 12px;\n    display: flex;\n    width: 40px;\n    height: 40px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 14px;\n`;\n\nconst StyledCount = styled.div`\n    font-size: 16px;\n`;\n\ninterface CatalogListItemTouchProps {\n    id: string;\n}\n\nexport interface CatalogListItemTouchViewProps {\n    imageUrl: string;\n    count: number;\n    name: string;\n    index: number;\n    price: number;\n    badge?: BadgeType;\n    disabled?: boolean;\n    buttonDisabled?: boolean;\n}\n\nexport const CatalogListItemTouch: React.FC<CatalogListItemTouchProps> = ({ id }) => {\n    const dispatch = useDispatch();\n    const { imageUrl, count, index, name, price, disabled } = useSelector(\n        ({ catalogPageTouch }) => catalogPageTouch.itemsMap[id],\n    );\n    const isPossibleChangeCountActive = count > 0;\n\n    const handleClickAdd = useThrottledFn(\n        () => {\n            if (!disabled) {\n                dispatch(addItemAction({ item: id, count: '1' }));\n            }\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id, disabled],\n    );\n\n    const handleClickRemove = useThrottledFn(\n        () => {\n            if (!disabled) {\n                dispatch(removeItemAction({ item: id, count: '1' }));\n            }\n        },\n        throttleTimeoutMs,\n        undefined,\n        [dispatch, id, disabled],\n    );\n\n    return (\n        <StyledListItem tabIndex={0}>\n            <StyledThumb imageUrl={imageUrl} />\n            <StyledIndexBadge size=\"xs\" index={index} />\n            <StyledDescription>\n                <StyledName>{name}</StyledName>\n            </StyledDescription>\n            <StyledButtonsContainer>\n                {isPossibleChangeCountActive ? (\n                    <>\n                        <StyledCountTouchButton onClick={handleClickRemove}>\n                            <StyledIcon icon={RemoveIcon} />\n                        </StyledCountTouchButton>\n                        <StyledCount>{count}</StyledCount>\n                        <StyledCountTouchButton onClick={handleClickAdd}>\n                            <StyledIcon icon={AddIcon} />\n                        </StyledCountTouchButton>\n                    </>\n                ) : (\n                    <StyledTouchButton onClick={handleClickAdd} disabled={disabled}>\n                        {price} ₽\n                    </StyledTouchButton>\n                )}\n            </StyledButtonsContainer>\n        </StyledListItem>\n    );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\n\nimport { CatalogListItemTouch } from '../ListItem/CatalogListItem@touch';\n\nconst StyledCatalogList = styled.div`\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    padding: 6px 14px;\n    box-sizing: border-box;\n`;\n\nconst StyledScrollableCatalogContainer = styled.div`\n    display: grid;\n    grid-gap: 9px;\n    grid-template-columns: 1fr 1fr;\n`;\n\nexport const CatalogListTouch: React.FC = () => {\n    const itemIds = useSelector(({ catalogPageTouch }) => catalogPageTouch.order);\n    const itemsList = React.useMemo(() => itemIds.map((itemId) => <CatalogListItemTouch key={itemId} id={itemId} />), [\n        itemIds,\n    ]);\n\n    return (\n        <StyledCatalogList>\n            <StyledScrollableCatalogContainer>{itemsList}</StyledScrollableCatalogContainer>\n        </StyledCatalogList>\n    );\n};\n","import React from 'react';\n\nimport { CatalogListTouch } from './List/CatalogList@touch';\n\nexport const CatalogTouch: React.FC = () => {\n    return <CatalogListTouch />;\n};\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useSprings, animated } from 'react-spring/web';\nimport { useGesture } from 'react-use-gesture';\n\nconst StyledSliderContainer = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n\nconst StyledSlider = styled.div`\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n`;\n\nconst StyledSlide = styled.div`\n    width: 100%;\n    height: 100%;\n    will-change: transform;\n    user-select: none;\n    pointer-events: none;\n`;\n\nconst clamp = (input: number, lower: number, upper: number) => Math.min(Math.max(input, lower), upper);\n\ninterface SliderProps {\n    auto?: number;\n    className?: string;\n    children?: React.ReactNode[];\n    onSlideChange?: (slide: number) => void;\n    width: number;\n}\n\nexport const Slider: React.FC<SliderProps> = ({ auto = 0, className, children = [], onSlideChange, width }) => {\n    const [slide, setSlide] = useState(0);\n    const [isDragging, setDragging] = useState(false);\n\n    const [springProps, setSpringProps] = useSprings(children.length, (index) => ({\n        offset: index,\n    }));\n\n    const gestureBinds = useGesture(\n        {\n            onDrag: ({ down, movement: [xDelta], direction: [xDir], distance, cancel, first }) => {\n                if (first) {\n                    setDragging(true);\n                }\n\n                if (down && distance > width / 2) {\n                    if (cancel) cancel();\n\n                    setSlide(clamp(slide + (xDir > 0 ? -1 : 1), 0, children?.length - 1));\n                }\n\n                setSpringProps((index: number) => ({\n                    offset: (down ? xDelta : 0) / width + (index - slide),\n                }));\n            },\n            onClick: () => {\n                if (isDragging) {\n                    setDragging(false);\n                }\n\n                return false;\n            },\n        },\n        {\n            drag: {\n                delay: 200,\n            },\n        },\n    );\n\n    useEffect(() => {\n        setSpringProps((index: number) => ({ offset: index - slide }));\n\n        onSlideChange && onSlideChange(slide);\n    }, [slide, setSpringProps, onSlideChange]);\n\n    useEffect(() => {\n        let intervalId: number;\n\n        if (auto > 0) {\n            intervalId = setInterval(() => {\n                const targetIndex = (slide + 1) % children.length;\n\n                setSlide(targetIndex);\n            }, auto);\n        }\n\n        return () => {\n            if (intervalId) {\n                clearInterval(intervalId);\n            }\n        };\n    }, [auto, children.length, slide]);\n\n    return (\n        <StyledSliderContainer className={className}>\n            <StyledSlider>\n                {springProps.map(({ offset }, index) => (\n                    <animated.div\n                        {...gestureBinds()}\n                        key={index}\n                        style={{\n                            transform: offset.to((offsetX) => `translateX(${offsetX * 100}%)`),\n                            position: 'absolute',\n                            width: '100%',\n                            height: '100%',\n                            willChange: 'transform',\n                        }}\n                    >\n                        <StyledSlide>{children[index]}</StyledSlide>\n                    </animated.div>\n                ))}\n            </StyledSlider>\n        </StyledSliderContainer>\n    );\n};\n","import React, { useState, useMemo, useRef, useEffect } from 'react';\nimport styled, { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { Slider } from 'components/Slider/Slider';\nimport { font } from 'style/const/font';\nimport { color } from 'style/const/color';\nimport { transition } from 'style/const/transition';\n\nimport popcornBox2 from './Promo.assets/popcorn-box_1.png';\nimport popcornBox1 from './Promo.assets/popcorn-box_2.png';\nimport popcornBox3 from './Promo.assets/popcorn-box_3.png';\nimport popcornBox4 from './Promo.assets/popcorn-box_4.png';\nimport popcorn1 from './Promo.assets/popcorn-1.png';\nimport popcorn2 from './Promo.assets/popcorn-2.png';\nimport popcorn3 from './Promo.assets/popcorn-3.png';\n\nconst popcornBoxList: FlattenSimpleInterpolation[] = [\n    css`\n        width: 250px;\n        height: 385px;\n        background-image: url('${popcornBox1}');\n    `,\n    css`\n        width: 250px;\n        height: 280px;\n        margin-top: 84px;\n        background-image: url('${popcornBox2}');\n    `,\n    css`\n        width: 250px;\n        height: 280px;\n        margin-top: 84px;\n        background-image: url('${popcornBox3}');\n    `,\n    css`\n        width: 250px;\n        height: 380px;\n        margin-top: 31px;\n        background-image: url('${popcornBox4}');\n    `,\n];\n\nconst popcornList: FlattenSimpleInterpolation[] = [\n    css`\n        width: 54px;\n        height: 54px;\n        top: 41px;\n        left: 260px;\n        background-image: url(${popcorn2});\n    `,\n    css`\n        width: 71px;\n        height: 71px;\n        top: 226px;\n        left: 75px;\n        background-image: url(${popcorn1});\n    `,\n    css`\n        width: 76px;\n        height: 76px;\n        top: 271px;\n        left: 287px;\n        background-image: url(${popcorn1});\n    `,\n    css`\n        width: 64px;\n        height: 64px;\n        top: 311px;\n        left: 7px;\n        background-image: url(${popcorn3});\n    `,\n    css`\n        width: 74px;\n        height: 74px;\n        top: 530px;\n        left: 274px;\n        background-image: url(${popcorn3});\n    `,\n];\n\n/* Slider */\nconst StyledSlider = styled(Slider)`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n`;\n\ninterface PopcornBoxProps {\n    popcornStyle: FlattenSimpleInterpolation;\n}\n\nconst PopcornBox = styled.div<PopcornBoxProps>`\n    margin: 26px auto 0;\n\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    transition: opacity 1s ${transition.timingFn.default};\n\n    ${({ popcornStyle }) => popcornStyle}\n`;\n\n/* Text container */\nconst TextContainer = styled.div`\n    position: relative;\n    text-align: center;\n    padding: 253px 24px 0;\n    user-select: none;\n    pointer-events: none;\n`;\n\nconst Title = styled.div`\n    font-weight: ${font.weight.bold};\n    font-size: 32px;\n    line-height: 36px;\n    letter-spacing: -0.0011em;\n\n    color: ${color.text.primary};\n`;\n\nconst Subtitle = styled.div`\n    font-weight: ${font.weight.medium};\n    font-size: 16px;\n    line-height: 22px;\n    letter-spacing: -0.019em;\n\n    color: ${color.text.secondary};\n\n    margin-top: 10px;\n`;\n\n/* Pins container */\nconst SliderPinsContainer = styled.div`\n    position: absolute;\n    display: grid;\n    grid-auto-flow: column;\n    grid-gap: 6px;\n    top: 483px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n`;\n\n/* Corns container */\nconst CornsContainer = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    z-index: 1;\n`;\n\ninterface CornProps {\n    popcornStyle: FlattenSimpleInterpolation;\n}\n\nconst Corn = styled.div<CornProps>`\n    position: absolute;\n\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    ${({ popcornStyle }) => popcornStyle}\n`;\n\ninterface PinProps {\n    isActive: boolean;\n}\n\nconst Pin = styled.div<PinProps>`\n    background-color: #fff;\n    border-radius: 1.5px;\n    width: 12px;\n    height: 3px;\n\n    opacity: ${({ isActive }) => (isActive ? 1 : 0.16)};\n    transition: opacity 0.5s ease-in-out;\n`;\n\nexport const PromoTouch: React.FC = () => {\n    const promoRef = useRef<HTMLDivElement>(null);\n    const [promoWidth, setPromoWidth] = useState(0);\n    const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\n    const cornsList = useMemo(() => popcornList.map((style, index) => <Corn key={index} popcornStyle={style} />), []);\n\n    useEffect(() => {\n        if (promoRef.current) {\n            const { width } = promoRef.current.getBoundingClientRect();\n\n            setPromoWidth(width);\n        }\n    }, []);\n\n    return (\n        <div ref={promoRef}>\n            <CornsContainer>{cornsList}</CornsContainer>\n            <TextContainer>\n                <Title>Доставляем попкорн к просмотру фильмов</Title>\n                <Subtitle>Бесплатно в течении 15-30 минут для Москвы и Санкт-Петербурга</Subtitle>\n            </TextContainer>\n            <SliderPinsContainer>\n                {popcornBoxList.map((_, index) => (\n                    <Pin key={index} isActive={index === currentSlideIndex} />\n                ))}\n            </SliderPinsContainer>\n            <StyledSlider auto={5000} onSlideChange={(slide: number) => setCurrentSlideIndex(slide)} width={promoWidth}>\n                {popcornBoxList.map((style, index) => (\n                    <PopcornBox key={index} popcornStyle={style} />\n                ))}\n            </StyledSlider>\n        </div>\n    );\n};\n","import React, { useMemo } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { ParagraphText2 } from 'components/Text/Paragraph@touch';\nimport { HeadlineText2 } from 'components/Text/Headline@touch';\nimport { color } from 'style/const/color';\nimport { layout } from 'style/const/layout@touch';\n\nimport figureIcon1 from './Status.assets/figure-1.svg';\nimport figureIcon2 from './Status.assets/figure-2.svg';\nimport figureIcon3 from './Status.assets/figure-3.svg';\nimport figureIcon4 from './Status.assets/figure-4.svg';\nimport figureIcon5 from './Status.assets/figure-5.svg';\nimport figureIcon6 from './Status.assets/figure-6.svg';\nimport figureIcon7 from './Status.assets/figure-7.svg';\nimport figureIcon8 from './Status.assets/figure-8.svg';\nimport figureIcon9 from './Status.assets/figure-9.svg';\n\nconst StatusTouchContainer = styled.div`\n    position: relative;\n\n    height: 100vh;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StatusTouchOrderInfo = styled.div`\n    text-align: center;\n    padding: 0 30px;\n\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    margin-top: -${layout.headerHeightPx}px;\n`;\n\nconst StatusTouchOrderNumber = styled(ParagraphText2)`\n    color: ${color.text.secondary};\n`;\n\nconst StatusTouchOrderTime = styled(HeadlineText2)`\n    margin-top: 10px;\n\n    color: ${color.text.primary};\n`;\n\ninterface FigureTouchProps {\n    params: [string, number, number, number];\n}\n\nconst StatusTouchFigure = styled.div<FigureTouchProps>`\n    position: absolute;\n\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n\n    ${({ params: [bgUrl, topPx, leftPx, sizePx] }) => css`\n        top: ${topPx}%;\n        left: ${leftPx}%;\n\n        height: ${sizePx}px;\n        width: ${sizePx}px;\n\n        background-image: url('${bgUrl}');\n    `}\n`;\n\nconst figureList: FigureTouchProps['params'][] = [\n    [figureIcon1, 6.1, 13.9, 30],\n    [figureIcon2, 27.3, 83.7, 36],\n    [figureIcon3, 0.6, 78, 24],\n    [figureIcon4, 70.6, 74, 32],\n    [figureIcon5, 51.4, 62.2, 31],\n    [figureIcon6, 20.6, 51.3, 28],\n    [figureIcon7, 15.6, 39.7, 18],\n    [figureIcon8, 53.8, 46.5, 20],\n    [figureIcon9, 63.8, 18, 36],\n    [figureIcon4, 44.3, 11.3, 17],\n];\n\nexport const StatusTouch: React.FC = () => {\n    const deliveryTime = useSelector(({ delivery }) => delivery.deliveryTime);\n    const { orderId } = useSelector(({ cart }) => cart);\n    const touchFigureList = useMemo(\n        () => figureList.map((params, index) => <StatusTouchFigure key={index} params={params} />),\n        [],\n    );\n\n    return (\n        <StatusTouchContainer>\n            <StatusTouchOrderInfo>\n                <StatusTouchOrderNumber>Заказ #{orderId} оформлен</StatusTouchOrderNumber>\n                <StatusTouchOrderTime>\n                    Спасибо за заказ!\n                    <br />\n                    Будем у вас через {deliveryTime} минут.\n                </StatusTouchOrderTime>\n            </StatusTouchOrderInfo>\n            {touchFigureList}\n        </StatusTouchContainer>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { Switch, Route } from 'react-router';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { store, history } from 'store';\nimport { ROUTES } from 'store/constants/router';\nimport { AppLayoutTouch } from 'components/AppLayout/AppLayout@touch';\nimport { CartTouch } from 'pages/Cart/Cart@touch';\nimport { CatalogTouch } from 'pages/Catalog/Catalog@touch';\nimport { PromoTouch } from 'pages/Promo/Promo@touch';\nimport { StatusTouch } from 'pages/Status/Status@touch';\n\nconst StyledContainer = styled.div`\n    overflow: hidden;\n    width: 100%;\n    height: 100vh;\n    outline: none;\n    font-family: 'SB Sans Text', Helvetica, Arial, sans-serif;\n    background: #000;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const RootTouch: React.FC = () => (\n    <ReduxProvider store={store}>\n        <ConnectedRouter history={history}>\n            <StyledContainer onScroll={preventScroll}>\n                <AppLayoutTouch>\n                    <Switch>\n                        <Route path={ROUTES.CATALOG}>\n                            <CatalogTouch />\n                        </Route>\n                        <Route path={ROUTES.CART}>\n                            <CartTouch />\n                        </Route>\n                        <Route path={ROUTES.STATUS}>\n                            <StatusTouch />\n                        </Route>\n                        <Route path={ROUTES.PROMO}>\n                            <PromoTouch />\n                        </Route>\n                    </Switch>\n                </AppLayoutTouch>\n            </StyledContainer>\n        </ConnectedRouter>\n    </ReduxProvider>\n);\n","import { mobileDetect } from 'tools/browser';\n\nimport { RootDesktop } from './Root@desktop';\nimport { RootTouch } from './Root@touch';\n\nconst isMobile = mobileDetect();\n\nexport const Root = isMobile ? RootTouch : RootDesktop;\n","import 'core-js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/react';\nimport { Root } from 'components/Root/Root';\n\nimport 'tools/new-spatial-navigation';\n\nif (process.env.REACT_APP_ENVIRONMENT === 'production') {\n    Sentry.init({ dsn: 'https://b33b53e4a61946f1a44139076cefb598@o414705.ingest.sentry.io/5304676' });\n}\n\nexport const renderApp = (App: React.FC) => {\n    ReactDOM.render(<App />, document.getElementById('application_root'));\n};\n\nrenderApp(Root);\n\nif (process.env.REACT_APP_ENVIRONMENT !== 'production' && module.hot) {\n    module.hot.accept('./components/Root/Root', () => {\n        // eslint-disable-next-line\n        const { Root } = require('./components/Root/Root.tsx');\n        renderApp(Root);\n    });\n}\n\n// eslint-disable-next-line no-console\nconsole.log('rev', process.env.REACT_APP_REV);\n","module.exports = __webpack_public_path__ + \"static/media/add.6f87e0cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/remove.856b6a95.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-4.74f25c1b.svg\";","module.exports = __webpack_public_path__ + \"static/media/address.786915f5.svg\";","module.exports = __webpack_public_path__ + \"static/media/cart.f9b30afb.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevron-left.88658df7.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.1072bc0d.svg\";","module.exports = __webpack_public_path__ + \"static/media/shadow.bb1d84f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-1.cad64c9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-2.a3044c99.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-3.7084a68e.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-5.f121fdae.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-6.1cf5f7c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-7.ef978761.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-8.dcc5e538.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-9.fb8b47f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_1.518d9c78.png\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_2.24d90011.png\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_3.d7453441.png\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_4.482bbaa4.png\";"],"sourceRoot":""}