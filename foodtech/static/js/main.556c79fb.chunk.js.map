{"version":3,"sources":["pages/Promo/Promo.assets/popcorn-1.png","pages/Promo/Promo.assets/popcorn-3.png","pages/Success/Success.assets/figure-4.svg","components/Cart/Cart.assets/bg.jpg","pages/Promo/Promo.assets/popcorn-promo.png","components/LocationPage/LocationPage.assets/bg.jpg","pages/Cart/Cart.assets/bg@touch.jpg","pages/Promo/Promo.assets/popcorn-2.png","pages/Success/Success.assets/figure-1.svg","pages/Success/Success.assets/figure-2.svg","pages/Success/Success.assets/figure-3.svg","pages/Success/Success.assets/figure-5.svg","pages/Success/Success.assets/figure-6.svg","pages/Success/Success.assets/figure-7.svg","pages/Success/Success.assets/figure-8.svg","pages/Success/Success.assets/figure-9.svg","tools/environment.ts","tools/history.ts","store/constants/orderStatus.ts","mocks/lastOrderInfo.ts","tools/create-action.ts","store/actions/app.ts","store/selectors/index.ts","store/reducers/helpers/catalogPage.ts","tools/memoize.ts","store/reducers/view/addressSimplePage.tsx","store/actions/native.tsx","store/constants/router.tsx","store/thunks/addressFullPage.ts","store/actions/server.tsx","style/const/transition.ts","components/ButtonSpinner/ButtonSpinner.tsx","hooks/useFocusOnMount.tsx","style/const/focus.ts","style/mixin/focus.ts","components/Button/Button.tsx","tools/twoGis/api/doApiRequest.ts","tools/request.ts","store/reducers/data/twoGisSuggestsData.ts","tools/twoGis/api/suggest.ts","store/constants/character.ts","store/constants/index.tsx","store/thunks/native.ts","store/actions/router.ts","store/actions/addressSimplePage.tsx","api/analytics.ts","tools/analytics/getAnalytics.ts","store/reducers/data/products.ts","store/reducers/data/productsDiff.ts","store/reducers/data/user.ts","store/reducers/data/delivery.ts","store/reducers/data/character.ts","typeguards/isCharacter.ts","store/reducers/data/orderStatus.ts","store/reducers/model/cart.ts","tools/phoneNumber.ts","store/reducers/model/user.ts","store/reducers/view/catalogPage.ts","store/reducers/view/catalogPage@touch.ts","tools/split-by-thousands.ts","store/reducers/helpers/cartPage.ts","store/reducers/view/cartPage.ts","store/reducers/view/cartPage@touch.ts","store/reducers/view/addressFullPage.tsx","store/reducers/view/header.ts","store/reducers/view/errorPage.tsx","store/reducers/view/statusPage.ts","store/index.tsx","store/reducers/index.tsx","store/reducers/model/router.ts","hooks/useSelector.tsx","hooks/useContainerFocus.ts","style/const/icon.ts","style/const/layout.ts","hooks/useDispatch.tsx","components/HeaderButton/HeaderButton.tsx","components/HeaderAddress/address.svg","components/HeaderAddress/HeaderAddress.tsx","components/HeaderCart/HeaderCart.assets/cart.svg","components/HeaderCart/HeaderCart.tsx","components/Header/Header.assets/chevron-left.svg","components/Header/Header.assets/logo.svg","components/Header/Header.tsx","components/Theme/Theme.tsx","components/TransparentPixel/TransparentPixel.tsx","components/AppLayout/AppLayout.tsx","style/fonts/SBSansDisplay.ts","style/fonts/SBSansText.ts","components/Fonts/Fonts.tsx","components/Badge/Badge.tsx","components/IndexBadge/IndexBadge.tsx","assets/icons/plus.svg","assets/icons/done.svg","pages/Catalog/ListItem/CatalogListItem.tsx","store/actions/catalogPage.tsx","hooks/useFocusOnChange.ts","pages/Catalog/List/CatalogList.tsx","components/Skeleton/Skeleton.tsx","pages/Catalog/Skeleton/CatalogSkeleton.tsx","pages/Catalog/Catalog.tsx","components/Cart/Cart.tsx","components/MultilineText/MultilineText.tsx","components/Pin/Pin.assets/shadow.svg","components/Pin/Pin.assets/dead-face.svg","components/Pin/Pin.assets/happy-face.svg","components/Pin/Pin.assets/sad-face.svg","components/Pin/Pin.tsx","components/Cart/CartInfo.tsx","pages/Cart/Info/CartInfo.tsx","components/GradientFade/GradientFade.tsx","components/Cart/CartList.tsx","components/Label/Label.tsx","components/Cart/CartListItem.tsx","assets/icons/add.svg","assets/icons/remove.svg","pages/Cart/ListItem/CartListItem.tsx","store/actions/cartPage.tsx","pages/Cart/List/CartList.tsx","pages/Cart/Cart.tsx","components/DialogPage/DialogPage.tsx","components/SplendidAnimation/SplendidAnimation.tsx","pages/Success/Success.tsx","pages/Promo/Promo.tsx","components/LocationPage/LocationPage.tsx","pages/NoArea/NoArea.tsx","store/actions/twoGisSuggests.ts","tools/twoGis/api/common.ts","tools/twoGis/getSuggestsList.ts","pages/AddressSimple/AddressSimple.hooks.tsx","pages/AddressSimple/AddressSimple.tools.ts","pages/AddressSimple/SuggestItem/AddressSimpleSuggestItem.tsx","pages/AddressSimple/AddressSimple.tsx","components/PlasmaIcon/PlasmaIcon.tsx","components/GuidePage/GuidePage.tsx","pages/AddressSimpleGuide/AddressSimpleGuide.tsx","pages/AddressSimpleQuestion/AddressSimpleQuestion.tsx","hooks/useKeyboardClose.tsx","hooks/useKeyboardExpanded.tsx","components/Input/Input.tsx","pages/AddressSimpleInput/AddressSimpleInput.tsx","hooks/useIsValueChanged.tsx","tools/noop.ts","pages/AddressFullAll/AddressFullAll.tsx","store/actions/addressFullPage.ts","pages/AddressFullApartment/AddressFullApartment.tsx","pages/AddressFullDoorCode/AddressFullDoorCode.tsx","pages/AddressFullEntrance/AddressFullEntrance.tsx","pages/AddressFullFloor/AddressFullFloor.tsx","pages/AddressFullPhone/AddressFullPhone.tsx","pages/AddressFullAccommodationGuide/AddressFullAccommodationGuide.tsx","pages/AddressFullPhoneGuide/AddressFullPhoneGuide.tsx","pages/Error/Error.assets/circles.svg","pages/Error/Error.assets/warning.svg","pages/Error/Error.tsx","pages/Wait/Wait.tsx","components/Spinner/Spinner.assets/spinner.svg","components/Spinner/Spinner.tsx","components/SpinnerPage/SpinnerPage.tsx","pages/StatusSummary/StatusSummary.assets/pending.svg","pages/StatusSummary/StatusSummary.assets/delivering.svg","pages/StatusSummary/StatusSummary.assets/success.svg","pages/StatusSummary/StatusSummary.assets/failed.svg","pages/StatusSummary/StatusSummary.tsx","pages/StatusDetails/Info/StatusDetailsInfo.tsx","pages/StatusDetails/ListItem/StatusDetailsListItem.tsx","store/actions/statusDetailsPage.ts","pages/StatusDetails/List/StatusDetailsList.tsx","pages/StatusDetails/StatusDetails.tsx","pages/StatusReport/StatusReport.tsx","pages/StatusEmpty/StatusEmpty.assets/empty.svg","pages/StatusEmpty/StatusEmpty.tsx","components/Root/Root@desktop.tsx","style/const/layout@portal.ts","components/AppLayout/AppLayout@portal.tsx","components/Root/Root@portal.tsx","style/const/layout@touch.ts","components/HeaderButton/HeaderButton@touch.tsx","components/HeaderAddress/HeaderAddress@touch.tsx","components/HeaderCart/HeaderCart@touch.tsx","components/Header/Header@touch.tsx","components/AppLayout/AppLayout@touch.tsx","pages/Cart/ListItem/CartListItem@touch.tsx","pages/Cart/List/CartList@touch.tsx","components/Pin/Pin@touch.tsx","pages/Cart/Info/CartInfo@touch.tsx","pages/Cart/Cart@touch.tsx","components/Input/Input@touch.tsx","pages/AddressFullAll/AddressFullAll@touch.tsx","pages/Catalog/ListItem/CatalogListItem@touch.tsx","pages/Catalog/List/CatalogList@touch.tsx","pages/Catalog/Catalog@touch.tsx","components/Slider/Slider.tsx","pages/Promo/Promo@touch.tsx","pages/Success/Success@touch.tsx","pages/AddressMap/AddressMap@touch.tsx","tools/twoGis/api/items.ts","store/actions/addressMap.ts","tools/geolocation.ts","components/Root/Root@touch.tsx","components/Root/Root.tsx","tools/new-spatial-navigation.js","index.tsx","pages/Promo/Promo.assets/popcorn-box_1.png","pages/Promo/Promo.assets/popcorn-box_2.png","pages/Promo/Promo.assets/popcorn-box_3.png","pages/Promo/Promo.assets/popcorn-box_4.png"],"names":["module","exports","isPROM","process","REACT_APP_WORKFLOW_NAME","isPROMStand","window","location","host","isPR","isSberBox","navigator","userAgent","includes","isPortal","navigatorString","vendor","isMobile","test","substr","isDesktop","console","log","history","createHashHistory","getWaitNextNavigationEventPromise","Promise","resolve","unListen","listen","OrderStatus","OrderStatusCategory","mapOrderStatusToCategory","INITIAL","PENDING","INVOICE_CREATED","FUNDS_RESERVED","CONFIRMED_BY_PARTNER","DELIVERING","DELIVERED","SUCCESS","CANCEL_BY_PARTNER","FAILED","CANCEL_BY_CUSTOMER","CANCEL_BY_PAYMENT","PAID","CANCELLED","ERROR","Currency","RUB","createAction","type","payload","createEmptyAction","closeAppAction","revertUserChanges","selectProductById","state","itemId","productsData","itemsMap","selectProductDiffById","productsDiffData","selectCartItemById","cart","selectPathname","router","pathname","selectHeader","layout","header","selectCharacter","character","id","formatPrice","price","Math","ceil","prepareCount","cartItem","count","calculateButtonDisabled","productItem","quantityLeft","getQuantityLeftById","productItemDiff","getDisabled","getPriceById","preparePriceById","getOldPriceById","formatSale","oldValue","newValue","String","getCountById","countInCart","min","wantMoreThanHave","canAddMore","memoize","fn","store","Map","args","JSON","stringify","has","set","get","memoizeResolvedPromise","async","result","memoizedPrepareSuggestItems","Object","keys","addressSimplePageView","action","addressSimplePage","suggestsListIndex","suggests","findIndex","selectedSuggestItemId","inputValue","input","isKeyboardHintVisible","isAddressSubmitting","addressSubmittingTimerId","LOCATION_CHANGE","clearTimeout","twoGisSuggestsData","prepareSuggestItems","addItemAction","removeItemAction","ROUTES","addressFullValidationOkThunk","dispatch","goBack","addressFullInputThunk","getState","currentRoute","addressFullInputAction","ADDRESS_FULL_PHONE_GUIDE","push","ADDRESS_FULL_ACCOMMODATION_GUIDE","replace","ADDRESS_FULL_ALL","addressFullSuccessThunk","askForItemsChangesAction","askForOrderStatusAction","addressFullSubmitAction","duration","defaultMs","timingFn","easeInOut","default","transition","StyledPoint","styled","div","colors","white","initialPhase","phaseCount","phaseDurationMs","cycleLength","transitionCount","frames","Array","fill","map","_","index","percent","phaseIndex","round","sin","PI","css","toFixed","reduce","a","b","keyframes","StyledContainer","isVisible","useFocusOnMount","forwardRef","ref","React","useRef","onMountRef","useEffect","current","HTMLElement","focus","paddingPx","borderSizePx","color","buttonFocused","focusBorderMixin","isFocused","borderRadius","positionPx","ruleset","undefined","syntheticFocus","StyledContent","Number","textAlign","ButtonViews","ButtonSize","ButtonTextAlign","mapSizeToButtonParams","l","borderRadiusPx","paddingXPx","paddingYPx","fontSizePx","lineHeightPx","m","s","buttonViewBackgroundMap","primary","buttonAccent","secondary","buttonSecondary","StyledButtonSpinner","pointCount","props","pointList","useMemo","key","StyledButton","size","view","fontWeights","Semibold","colorPrimary","isLocked","Button","shouldFocusOnMount","shouldLockAfterClick","lockTimeout","onClick","center","children","disabled","mountFocusRef","handleClick","scenarioResponseTimeout","timeoutId","setTimeoutId","useState","Boolean","useCallback","event","setTimeout","usePressedState","as","doDGApiRequest","url","params","paramsString","acc","join","response","fetch","ok","statusCode","status","json","doRequest","TwoGisSuggestFetchingStatus","firstSuggest","fetchingStatus","FINISHED","filter","suggestItem","hasAddressComponents","suggest","address","components","length","item","mostRepresentationSuggest","initialState","Character","moscowZeroPoint","userData","customerName","phoneNumber","addressLocationLatitude","addressLocationLongitude","deviceLocationLatitude","deviceLocationLongitude","city","street","house","building","floor","entrance","apartment","doorCode","errorPage","title","subtitle","text","isBackButtonVisible","delivery","minimalPrice","deliveryTime","order","totalCount","totalPrice","orderId","date","Date","userModel","isPhoneValid","catalogPage","selectedItemId","itemsFocusHashMap","screenIndexMap","wrapperXShift","listIndexOffset","catalogPageTouch","cartPage","wrapperYShift","selectedItemIndex","topGradientVisible","bottomGradientVisible","toMinimumPrice","hasRequiredData","makePurchaseButtonView","isMakePurchaseButtonDisabled","personalAddress","cartPageTouch","addressFullPage","addressInputValue","phoneNumberInputValue","apartmentInputValue","entranceInputValue","floorInputValue","doorCodeInputValue","isSubmitButtonDisabled","nextFocus","orderStatusData","reportPhone","productList","orderDate","orderStatus","comment","isChanged","deliveryPrice","orderDiscount","originalTotalPrice","originalOrderPrice","formedTotalPrice","formedOrderPrice","orderStatusDetailsPage","vpsTimeout","goBackToStartAndReplaceThunk","route","delta","go","goBackToStart","goToCatalogThunk","goToCatalogAction","CATALOG","goToNoAreaThunk","goToNoAreaAction","NO_AREA","goToPromoThunk","goToPromo","PROMO","validationOkThunk","validationOkAction","addressInputThunk","addressInputAction","ADDRESS_SIMPLE_QUESTION","addressSubmitThunk","timerId","addressSubmitAction","addressGuideThunk","ADDRESS_SIMPLE","ADDRESS_SIMPLE_GUIDE","addressInputDeclineThunk","totalSuggestsCount","addressInputAddThunk","addressInputAddAction","goToAddressFullAllThunk","amplitudeApiKey","SberAnalytics","userId","deviceId","instance","SberVisorAnalytics","apiKey","buffer","setUserId","this","setDeviceId","sendEvent","properties","AmpAnalytics","constructor","amplitude","getInstance","init","_ua","browser","name","major","os","eventAction","data","logEvent","analyticsInstance","analytics","now","random","toString","eventCategory","eventType","value","getDeviceId","forEach","remoteNavigate","label","opts","tags","redux","document","addEventListener","e","normalizeProducts","productsMaps","guid","quantity_left","imageUrl","images_urls","stock","assign","computeProductItemsMapBasedOnChanges","productsDiffMap","changes","entries","quantityLeftString","priceString","normalizeUserData","device_location","deviceLocation","addressData","customer_name","phone_num","latitude","longitude","address_string","door_code","locationData","info","customer","phone","deliveryData","time","minimal_amount","characterData","values","parsePrice","ccy","currency","parseInt","parseDiscountedPrice","discountValue","getOrderStateProductItem","position","originalPrice","originalQuantity","formedPrice","formedQuantity","positions","expectedDateTime","changedOnFormed","cartModel","countString","shouldRemoveMention","actualCount","max","cartItemId","clear","order_id","getTotalCount","getTotalPrice","filterPhoneInput","match","offset","formatPhone","defaultCountryCode","parsedPhone","parsePhoneNumberFromString","formattedPhone","formatInternational","startsWith","formatPhoneInput","formattedInput","parsedNumber","typeFormatter","AsYouType","getNumber","parseNationalNumberInput","parsedInternationalNumberInput","number","slice","formatInternationalNumberInput","normalizePhoneInput","allowedPhoneTypes","allowedCountries","isValidPhone","isValid","getType","country","updateUserAddressBasedOnBuilding","point","address_name","full_name","addressComponent","split","lat","lon","ADDRESS_FULL_PHONE","ADDRESS_FULL_APARTMENT","ADDRESS_FULL_ENTRANCE","ADDRESS_FULL_FLOOR","ADDRESS_FULL_DOOR_CODE","inputType","screenItemCount","prepareBadge","content","prepareIndex","catalogPageView","skipFocus","currentListIndex","indexOf","maxValue","getListIndexOffset","cardWidth","cardGap","getWrapperXShift","getScreenIndexMap","oldPrice","isWantMoreThanHave","badge","isButtonDisabled","prepareCatalogItemsMap","isEmpty","firstItem","prepareItemsFocusHashMap","catalogPageTouchView","buttonDisabled","splitByThousands","n","prepareTotalPrice","prepareToMinimumPrice","getFormattedPersonalAddress","prepareHasRequiredData","getWrapperYShift","itemHeight","relatedIndex","prepareTopGradientVisible","prepareBottomGradientVisible","getFormattedPhoneNumber","prepareLabel","cartPageView","isMoreButtonDisabled","prepareItemsMap","calculateMakePurchaseDisabled","calculateMakePurchaseButtonView","cartPageTouchView","addressFullPageView","options","find","computeNextFocus","getOrderStatusTitle","routeToTitleMap","CART","ADDRESS_MAP","STATUS_SUMMARY","STATUS_DETAILS","STATUS_REPORT","formatDate","toLocaleString","day","month","hour","minute","routesForAddressVisibility","routeToVisibilityMap","headerView","getTitle","getSubtitle","getAddress","getCart","mapOrderErrorTypeToProps","partner","retryButtonText","closeButtonText","payment","timing","errorPageView","statusPageView","productId","getItemsMap","enhancers","middlewares","thunk","routerMiddleware","next","AssistantClient","close","sendData","action_id","currentPathname","nextPathname","isAddressChanged","user","getHasValidAddress","currentScreen","substring","lastDeviceId","newDeviceId","device_id","screen_name","frontendVersion","stand","__REDUX_DEVTOOLS_EXTENSION__","createReduxStore","recoveryState","routerModel","changeRouter","connectRouter","getRouterModel","appInitialState","produce","draft","applyReducer","reducer","getRootReducer","appRecoveryState","compose","applyMiddleware","__store","dispatchSmartAppCommand","smart_app_data","command","itemsChangesAction","WAIT","orderErrorAction","addressFullInputAddAction","addressFullInputClearAction","addressFullCommentAction","lastOrderInfoAction","STATUS_EMPTY","dispatchToReduxStore","setAppContextAction","app_context","castItemSelectorFromStore","ignored_words","items","visible","castCatalogItemSelectorFromStore","castCartItemSelectorFromStore","serializeAddress","storeUser","confirmed","prepareAddress","source","isArray","appInitialData","__inbox","__outbox","onStart","onData","message","onRequestState","AssistantHost","item_selector","foodtech","products","quantity","castFromStore","stateString","updateState","onRequestRecoveryState","ready","useSelector","mapStateToProps","useReduxSelector","icon","sizePx","widthPx","heightPx","headerHeightPx","footerHeightPx","contentHeightPx","useDispatch","useReduxDispatch","StyledHeaderButton","button","textHeightPx","StyledText","Button2","HeaderButton","tabIndex","_extends","target","i","arguments","prototype","hasOwnProperty","call","apply","_ref","createElement","fillRule","clipRule","d","SvgAddress","svgRef","width","height","viewBox","ForwardRef","addressIconSizePx","StyledIcon","AddressSvg","HeaderAddress","SvgCart","cartIconSizePx","StyledCart","CartSvg","badgeOffsetPx","StyledBadge","Underline","HeaderCart","SvgChevronLeft","_ref2","patternContentUnits","xlinkHref","transform","SvgLogo","StyledHeader","backButtonIconSizePx","StyledBackButton","span","StyledChevronLeft","ChevronLeftSvg","StyledSection","StyledLogo","LogoSvg","StyledTitle","Headline4","StyledSubtitle","Footnote1","StyledCaption","Caption","cartButtonRef","createRef","Header","isHeaderVisible","isAddressVisible","isCartVisible","hasSubtitle","handleReceiveFocus","handleFocus","handleBlur","onReceiveFocus","onLoseFocus","handlerTimeoutId","setHandlerTimeoutId","setFocused","handleLoseFocus","useContainerFocus","onFocus","onBlur","DefaultTheme","createGlobalStyle","darkSber","characterIdToThemeMap","Eva","ThemeDarkEva","Joy","ThemeDarkJoy","Sber","ThemeDarkSber","Theme","characterId","CharacterTheme","TransparentPixel","src","alt","style","top","left","background","gradient","AppContent","preventScroll","currentTarget","scrollTop","AppLayout","onScroll","SBSansDisplay","SBSansText","Fonts","contentMap","sale","backgroundColorMap","warning","badgeHeightPx","mapSizeToPx","mapSizeToParams","xxs","xs","StyledIndexBadge","blackSecondary","IndexBadge","SvgPlus","SvgDone","StyledThumb","StyledDescription","cardHeightPx","StyledName","Body1","StyledPriceContainer","StyledPrice","Body2","StyledOldPrice","StyledCount","isWarning","accent","buttonIconSizePx","isDisabled","StyledPlusIcon","PlusSvg","StyledDoneIcon","DoneSvg","CatalogListItemBadge","className","contentProvider","AddAnimation","addActiveDurationMs","ShakeAnimation","StyledCatalogListItem","surfaceLiquid01","isActive","isShaking","CatalogListItem","itemFocusHash","isCardActive","isButtonActive","displayCount","setCardActive","setButtonActive","setDisplayCount","prevCountRef","nextCount","useActive","doShake","setShaking","useShake","hash","timeout","onChangeFocusRef","useFocusOnChange","scrollLeft","StyledCatalogList","StyledWrapper","CatalogList","wrapperStyle","Skeleton","itemWidth","rowCount","columnCount","paddingBetweenColumns","paddingBetweenRows","list","from","columnIndex","rowIndex","x","y","rx","ry","getWidthByCount","skeletonWidthPx","skeletonPaddingXPx","skeletonPaddingYPx","backgroundColor","foregroundColor","surfaceLiquid02","StyledRoot","CatalogSkeleton","speed","Catalog","CartRoot","CartBackground","black","bgImage","MultilineText","lineList","nodeList","line","trim","cx","cy","_ref3","filterUnits","colorInterpolationFilters","floodOpacity","mode","in","in2","stdDeviation","SvgShadow","_ref4","_ref5","SvgDeadFace","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgHappyFace","r","SvgSadFace","mapPinColor","good","critical","bad","styledIcon","DeadFaceIcon","DeadFaceSvg","HappyFaceIcon","HappyFaceSvg","SadFaceIcon","SadFaceSvg","StyledBody","isBroken","StyledKernelTop","kernelWidthPx","StyledKernelBottom","StyledShadow","ShadowSvg","StyledPin","pinColor","Pin","CartInfoContainer","StyledTime","ParagraphText2","StyledUnit","CartInfoPin","StyledPersonal","StyledPersonalLocation","StyledPersonalPhoneNumber","Headline2","StyledPersonalName","CartPersonal","CartAddress","StyledAskPersonal","ParagraphText1","CartInfoButton","CartInfo","handlePurchaseClick","handleSetAddressClick","GradientFade","kind","CartListContainer","StyledScrollerContainer","StyledScrollerWrapper","CartListScroller","CartTotalPrice","textColorMap","StyledLabel","Label","StyledInfo","isOneLine","CartListItemRoot","CartListItemThumb","CartListItemInfo","prices","SvgAdd","SvgRemove","StyledSelector","StyledSelectorValue","selectorIconSizePx","StyledSelectorButton","selectorButtonSizePx","isRemoving","StyledAddIcon","AddSvg","StyledRemoveIcon","RemoveSvg","LessButton","aria-label","AddButton","StyledDeleteButton","CartListItem","handleLessClick","handleMoreClick","handleRemoveClick","Infinity","StyledMinimalPrice","CartList","itemList","Cart","DialogTitle","Headline1","DialogText","StyledButtonContainer","StyledDecorations","DialogPage","buttons","decorations","DialogButton","FullscreenDecoration","StyledSpinner","Lottie","isPaused","defaultConfig","renderer","loop","autoplay","SplendidAnimation","config","delayMs","lottieOptions","lottieRef","pause","play","useLottie","isDelayed","setDelayed","start","useLayoutEffect","isStopped","Success","animationData","successAnimationData","TextContainer","Title","Subtitle","Headline3","ButtonContainer","PopcornContainer","popcornList","popcornPromo","popcorn1","popcorn2","popcorn3","popcorn4","Popcorn","popcornStyle","Promo","handleClickSubmitButton","LocationBackground","LocationMapBackground","blackTertiary","LocationTitle","LocationText","LocationButton","LocationPage","NoArea","handleChangeButtonClick","handleCloseButtonClick","addressString","finishFetchingTwoGisSuggests","isErrorResponse","meta","memoizedGetSuggests","fields","suggestType","viewpoint1","viewpoint2","suggest_type","convertParams","getPrimarySearchParams","userLocation","parseFloat","points","direction","destination","units","geometry","coordinates","defaultSuggestOptions","getSuggestsList","q","searchParams","locale","toLowerCase","then","code","Error","error","catch","Sentry","getSuggestListBySearchParams","useAddressSimpleUpdateSuggests","suggestsFetchingStatus","buildAddressString","isFlashing","AddressSimpleSuggestListItem","isSelectedItem","addressName","StyledSwiperContainer","slideWithMarginHeight","StyledSwiperWrapper","StyledSwiperSlide","AddressSimple","suggestIds","swiperContainerRef","swiperRef","Swiper","slidesPerView","spaceBetween","initialSlide","slidesOffsetBefore","slidesOffsetAfter","paddingForFocus","updateSize","updateSlides","updateProgress","updateSlidesClasses","slideTo","handleCantFindAddressClick","suggestItems","concat","isTopGradientVisible","isBottomGradientVisible","PlasmaIcon","xmlns","StyledPlasmaIcon","circleContainerSize","StyledCircles","StyledOkButton","GuidePageRoot","GuidePagePlasmaIcon","GuidePageTitle","GuidePageSource","GuidePageSubtitle","GuidePageHint","onOkClick","okButtonRef","AddressSimpleGuide","handleOkClick","ADDRESS_SIMPLE_INPUT","TryAgain","handleRepeatClick","AddressFound","handleAcceptButtonClick","handleDeclineButtonClick","AddressSimpleQuestion","useKeyboardClose","handleInputSubmit","handleKeyboardClose","isHandlerInvoked","setHandlerInvoked","onInputFocus","onInputSubmit","handleKeyboardExpand","setKeyboardExpandedCount","handleWindowResize","currentKeyboardExpandedValue","nextKeyboardExpandedValue","removeEventListener","useKeyboardExpanded","isKeyboardExpanded","keyboardExpandedCount","isInvalid","tertiary","isMinified","StyledInput","Medium","Input","onSubmit","onChange","onRootKeyPress","forwardInputRef","shouldFocusInputOnMount","setFocus","isUsing","setUsing","inputRootRef","inputRef","onMountRootRef","rootRef","handleRootFocus","handleRootBlur","handleRootKeyPress","defaultPrevented","handleInputKeyPress","stopPropagation","isTitleMinified","onKeyPress","AddressSimpleInput","isInputValueChanged","useIsValueChanged","handleInputChange","noop","StyledFirstRow","StyledSecondRow","StyledThirdRow","StyledFourthRow","SubmitButton","StyledVoiceHint","AddressFullAll","handleAddressKeyPress","preventDefault","handlePhoneKeyPress","handleApartmentKeyPress","handleEntranceKeyPress","handleFloorKeyPress","handleDoorCodeKeyPress","handleSubmitClick","stopColor","addressFullPhoneNumberInputChangeAction","addressFullApartmentInputChangeAction","addressFullEntranceInputChangeAction","addressFullFloorInputChangeAction","addressFullDoorCodeInputChangeAction","AddressFullApartment","AddressFullDoorCode","AddressFullEntrance","AddressFullFloor","AddressFullPhone","isFirstTry","setFirstTry","isErrorLabelVisible","nativeEvent","InputEvent","AddressFullAccommodationGuide","AddressFullPhoneGuide","opacity","fillOpacity","_ref6","_ref7","dy","operator","k2","k3","x1","y1","x2","y2","gradientUnits","stopOpacity","SvgCircles","SvgWarning","Circles","CirclesSvg","WarningIcon","WarningSvg","Wait","waitAnimationData","SvgSpinner","Spinner","SpinnerSvg","SpinnerPage","_ref8","SvgPending","_ref9","strokeMiterlimit","_ref10","_ref11","_ref12","_ref13","SvgDelivering","SvgSuccess","SvgFailed","mapCategoryToBackground","PendingSvg","DeliveringSvg","SuccessSvg","FailedSvg","mapOrderStatusToSummaryText","StatusSummary","orderStatusCategory","isLoaded","isFailed","reverse","BackgroundSvg","StatusDetailsInfo","StatusDetailsListItem","canFocus","StatusDetailsList","StatusDetails","StyledPhone","Display3","StatusReport","SvgEmpty","StatusEmpty","GlobalStyle","RootDesktop","path","ADDRESS_FULL","AppLayoutPortal","RootPortal","HeaderButtonTouch","HeaderAddressTouch","CartIcon","HeaderCartTouch","HeaderTouch","Container","AppLayoutTouch","Typo","StyledCartListItemTouch","StyledCountTouchButton","isDanger","StyledLessIcon","Footnote2","CartListItemTouch","StyledCartListTouch","StyledTotalPrice","CartListTouch","StyledBackground","StyledCartInfoTouch","StyledPlaceInfo","StyledAddress","CartInfoTouch","CartTouch","$isEmpty","isEmptyValue","StyledAddressFullAllTouch","Row","PaddingRow","TwoRow","AddressFullAllTouch","handleApartmentInputChange","handleEntranceInputChange","handleFloorInputChange","handleDoorCodeInputChange","handlePhoneInputChange","StyledListItem","StyledButtonsContainer","StyledTouchButton","CatalogListItemTouch","isPossibleChangeCountActive","handleClickAdd","handleClickRemove","StyledScrollableCatalogContainer","CatalogListTouch","itemIds","itemsList","CatalogTouch","StyledSliderContainer","StyledSlider","StyledSlide","popcornBoxList","popcornBox1","popcornBox2","popcornBox3","popcornBox4","auto","onSlideChange","slide","setSlide","isDragging","setDragging","springProps","setSpringProps","useSprings","gestureBinds","useGesture","onDrag","down","movement","xDelta","xDir","distance","cancel","first","lower","upper","drag","delay","intervalId","setInterval","targetIndex","clearInterval","to","offsetX","willChange","PopcornBox","SliderPinsContainer","CornsContainer","Corn","PromoTouch","promoRef","promoWidth","setPromoWidth","currentSlideIndex","setCurrentSlideIndex","cornsList","getBoundingClientRect","SuccessTouchContainer","SuccessTouchOrderInfo","SuccessTouchOrderNumber","SuccessTouchOrderTime","SuccessTouchFigure","bgUrl","topPx","leftPx","figureList","figureIcon1","figureIcon2","figureIcon3","figureIcon4","figureIcon5","figureIcon6","figureIcon7","figureIcon8","figureIcon9","SuccessTouch","touchFigureList","StyledAddressMapTouch","StyledMap","PinTouch","memoizedGetItemsGeocode","radius","AddressMapTouch","setAddress","mapRef","onLoad","HTMLDivElement","onMove","getSize","lng","containerPointToLatLng","reject","geolocation","getCurrentPosition","maximumAge","enableHighAccuracy","getGeolocation","coords","DG","zoom","zoomControl","fullscreenControl","Root","ARROW_KEY_CODE","37","38","39","40","mapOfBoundRect","startingPoint","savedSearchOrigin","element","rect","navigate","dir","searchOrigin","activeElement","body","querySelector","elementStyle","getComputedStyle","invisibleStyle","getPropertyValue","documentElement","right","bottom","isVisibleInScroller","scroller","getScrollContainer","findSearchOrigin","eventTarget","elementFromPosition","elementFromPoint","isFocusable","isContainer","getSpatialNavigationContainer","container","nodeName","contentDocument","bestInsideCandidate","spatialNavigationSearch","candidates","getSpatialNavigationCandidates","focusingController","parentContainer","parentElement","parent","navigateChain","bestCandidate","createSpatNavEvents","scrollingController","isScrollable","isScrollBoundary","moveScroll","isHTMLScrollBoundary","ownerDocument","option","childElementCount","getElementsByTagName","elem","isDelegableContainer","getFilteredSpatialNavigationCandidates","targetElement","filteredCandidates","bestTarget","internalCandidates","externalCandidates","insideOverlappedCandidates","focusableAreas","overlappedCandidates","isEntirelyVisible","getOverlappedCandidates","defaultContainer","defaultCandidates","contains","candidate","fullyOverlapped","overlappedByParent","elm","flat","currentElm","getClosestElement","getDistanceFromPoint","getInnerDistance","selectBestCandidateFromEdge","selectBestCandidate","innerTarget","descendantsBest","splice","originalContainer","eventTargetRect","candidateRect","candidateBody","isOutside","isInside","spatialNavigationFunction","currentTargetRect","distanceFunction","alignedCandidates","isAligned","getAbsoluteDistance","getDistance","frameElement","minDistance","POSITIVE_INFINITY","minDistanceElements","getEuclideanDistance","scrollContainer","isScrollContainer","focusables","containerElement","currentElement","triggeredEvent","CustomEvent","bubbles","cancelable","detail","causedTarget","dispatchEvent","readCssVar","varName","currentOption","nextContainer","isCSSSpatNavContain","overflowX","overflowY","isOverflow","scrollWidth","clientWidth","scrollHeight","clientHeight","winScrollY","winScrollX","abs","elementRect","nearestScroller","scrollerRect","DOMRect","innerWidth","innerHeight","tagName","getAttribute","isAtagWithoutHref","isActuallyDisabled","inert","isExpresslyInert","isVisibleStyleProperty","isBeingRendered","offsetWidth","offsetY","offsetHeight","isNaN","hitTestPoint","middle","leftTop","rightBottom","elemFromPoint","hitTest","containerRect","thisVisibility","childRect","rightEdgeCheck","leftEdgeCheck","topEdgeCheck","bottomEdgeCheck","rect1","rect2","isRightSide","isBelow","getEntryAndExitPoints","P1","entryPoint","exitPoint","P2","sqrt","pow","baseEdge","up","orthogonalBias","alignBias","A","B","C","intersectionRect","intersection_rect","area","new_location","new_max_point","getIntersectionRect","D","boundingClientRect","enableExperimentalAPIs","currentKeyMode","__spatialNavigation__","keyMode","getInitialAPIs","canScroll","findTarget","findCandidate","bestNextTarget","findCandidates","bind","findNextTarget","getDistanceFromTarget","candidateElement","getExperimentalAPI","seal","_keymode","setStartingPoint","__getSpatNavState","searchOriginRect","Element","CSS","registerProperty","syntax","inherits","initialValue","keyCode","shiftKey","ctrlKey","metaKey","altKey","focusNavigableArrowKey","startPosition","selectionStart","endPosition","selectionEnd","handlingEditableElement","clientX","clientY","requestAnimationFrame","scrollIntoView","behavior","block","inline","IntersectionObserver","entry","isIntersecting","threshold","observe","doClick","debounce","click","leading","trailing","HTMLButtonElement","isTrusted","stopImmediatePropagation","capture","dsn","renderApp","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.556c79fb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/figure-4.74f25c1b.svg\";","module.exports = __webpack_public_path__ + \"static/media/bg.a2ee825f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-promo.bec95c9a.png\";","module.exports = __webpack_public_path__ + \"static/media/bg.33c431d6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg@touch.1c0b9508.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAADAFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADGu60AAAAAAAAAAAAAAADs7Ob19O719O8AAAAAAADz8esAAADi4Nf39ewAAAD///+xpJWsno7Eu67k4tnz8u/t6uO3r6Lv7+ySjoWFf3fy7+teWE/w7OUFBQXp6eUrKScJCQnx7+36+vc6NzUAAAD49fX37+fn4dbz8eft6+TUzsPEv7O5sabs6d6jlofo4NPv7ujPyL6ekoP09PCelIjj3M3y8u/u6+HMxrnXzb+JfnGyraXKxbnAua6zqJmBeW7g3dd1aV7g18rBuavj39RuZl9dVE3s6+Wyq55MRDtvaF/Bu7E5MyxoZFwmIx76+PSJhn3a183d1ssgHBoGBgRua2P7+/v29PDu6uRrZl9zaWAhIR4AAADOy7ssKChgXFmNhXoSEhIzMy3y8vL///8gICDx7+ju7OXy8OrY0MLBt6rz8evDuavt6+Pr6ePt6uLm49vb1MXXy7WzpZTw7eTu7OTt6d/q597s59zq5Njh3NDRy7/JvavFuqqvn4utmoHw7ebu7Obw7OHo5d7q5dvo49jk3tLRx7jLwrXGvK7AsJu3ppCwoY7h3tbi3dLe1cbd08LUzsLZz73Uy7vd0LnJwLHVx7DNwq/Hva/Sxa7Ct6e9sqS7sKG4rZ+8r526rJm2qZiyo5C1oYevnYaslnns6eDo5Nrn49nm4tfm4dXp4tTl39Pd2c/n387e2Mvf18nY1Mnb1cjg1sPa0sLc0r7OyL3XzLrZzbjHwLTRxbLFvbLDu67Bs6C/rpa3p5S7qZKvoZC0oYyznoO0noCwmn+sl3ywmXutlneulXPu5tfo39Dl3s/Z1c3h2szW0cbVyba+tKjRwafFuafGuKS/tKPGtZy5rJzFsZXDrpC4pIq/poC8onq8nnHFtJq4nW+3jFAC3ajpAAAAhnRSTlMAAwYPHVZKDFgJGk5BIzQrKBNjYEhFLn5wZlI6dGs9GP57XTg2Cf3Mh4RbPyUeFQL8+Orl2s3BuLWuoKCbinR0cGZLQzIwEPv4+Pbz8/Hx8O7u6ejl397c3NfW1NPT0M7Mx7u6uLezsq2op6GhlpKQj4uJgHx5eHR0bm1taFNSRUM6LRQTEDqKAuQAAAPuSURBVEjH7dJVcFNREAZg4p7GWkhLhRZ3d3d3d3d3d+6NuwupxVN3V9zdod7i7poAwxOHSR+Z6f9wn+43u2d369WlLnX5H9NkYMs27WpH2rTc3nMaLBzebGgtULt1TcVnzjy26MzqvrVg2/iRj69wk7nc8+c7dd7qdaNdxJrLSUky7nWpVKdqOtDbhw27YElOep4qS7wiPXtKOMBL1tJyNT715UtZ8uUT6ljd4iGHvWO9zyRmZMSZIQ6fz+eoJaKph7xRrUecuiK7Kua4DZ8DQSKR2ps2hzY7bolPjIbFkQqxKloIw+ERXbxpUaG5EPdUCGuizVqVCuJwOBFRXmxvjPZ0XLw6yqw9/eiRCuZA4ZBI0qmJ59jcH3DGXY5P1p3UmTXa0w81ynChBhLFnO3Ws1uzSZ2H/INNuZF6w6J7Gh2pUAqVcIRIGwlHJcRATTkSyfjWQIVYeD1Ddol74YRSqQgPV8JR5xQRkifPHvLFx2NjloHZxuu3nku556NhCIIUx45FnTsmiXmiPxepPcm9NB+oEHsSb6VxucchlSgCFqpj9VLpRX1C2tVTcRmysxuACnlkxi2D9QQslpx8pk+4ln7HpufdvvY29YZMenFkawSAIXH0/Ulpl2Iv6q3X7MaQ1x8+vefxbqe/T7NabbbpSCBDBR9cZE2wG3N5gldfv3y/V+gQ3LzpeGswGI322TiAQxBQaNqBroI3ISkphg+fvny+myW4I8h78NpgzLTfXEUnIEDV0D6DJthsXZd3TDd8/pZ5R8DLKix3OkKMgpQ5+4goJALIwnas3+IbNqjjbQGP9yL3fllVmTPXwbOP2kul0AlIwEiCaY19sSQSa+fduw8+FpZXVFdXFDrz3tzLnEUKoBFxgHIEOmUwGYvBY+Y6PpZW1VRVVxZXlDrzsnmZPTBkHzS4S6JPABbP7BeS66ypKS4uNpmKSu+/y34xuh+G7IdGEf7OELi2lMa+eMaa9AflZabKSlNRUYH8XVZ2Tq/dPxkSNEs62o/sz+j+6l6eq8hkOupyFeRn57Rf0pDt3+pXk8ChhGFDu6dk3ZcfdcdVIM+ZvHRto/5Mz0g8DLRxT7ldPXLy8+VHS1xyeft5fVrUb8jGsxpTgnHg+/K8joVnr8yXF5R0mDhzwermbhUYSiIPprT9w4DDZPfqUDJ2RZ/mbtSoYSADwwrwQdN/M9Du/IKweEb/TZsb1a/vRg0CmXgsmUoj/jxKoMMRKdRWWAyTHdjAk0A2E0/yDfCjBKM8ChwCkUYls/zxoUwGg8EMxWNIvkFUGhoHBH8gmhrkvk1/jDv+JKxboQn1vAqK6EcNYmGxrFZhPkTU3/74AeGMl5StBLqCAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/figure-1.cad64c9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-2.a3044c99.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-3.7084a68e.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-5.f121fdae.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-6.1cf5f7c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-7.ef978761.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-8.dcc5e538.svg\";","module.exports = __webpack_public_path__ + \"static/media/figure-9.fb8b47f7.svg\";","export const isPROM = process.env.REACT_APP_WORKFLOW_NAME === 'release';\n\nexport const isPROMStand = window.location.host === 'foodtech.prom.app.sberdevices.ru';\n\nexport const isPR = process.env.REACT_APP_WORKFLOW_NAME === 'pr';\n\nexport const isSberBox = navigator.userAgent.includes('SberBox');\n\nexport const isPortal = navigator.userAgent.includes('stargate');\n\nconst navigatorString = window.navigator.userAgent || window.navigator.vendor;\n\nexport const getStand = () => {\n    if (isPROMStand) {\n        return 'prom';\n    }\n\n    return 'dev';\n};\n\nexport const isMobile =\n    // eslint-disable-next-line\n    /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        navigatorString,\n    ) ||\n    // eslint-disable-next-line\n    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        navigatorString.substr(0, 4),\n    );\n\nexport const isDesktop = !isSberBox && !isPortal && !isMobile;\n\nif (isPR) {\n    // eslint-disable-next-line no-console\n    console.log('isPROM', isPROM);\n    // eslint-disable-next-line no-console\n    console.log('isPR', isPR);\n    // eslint-disable-next-line no-console\n    console.log('isSberBox', isSberBox);\n    // eslint-disable-next-line no-console\n    console.log('isPortal', isPortal);\n    // eslint-disable-next-line no-console\n    console.log('isMobile', isMobile);\n    // eslint-disable-next-line no-console\n    console.log('isDesktop', isDesktop);\n}\n","import { createHashHistory } from 'history';\n\nexport const history = createHashHistory();\n\n/**\n * Возвращает промис, который резолвится при следующем изменении стории.\n * Это нужно для того, чтобы можно было \"синхронно\" вызвать несколько изменений истории.\n *\n * Например, если вызвать go(-2) и replace('some-url') последовательно, то второй вызов\n * не отработает, потому что изменение истории работает асинхронно. Поэтому мы вызываем\n * первый метод, ждем пока прилетит событие и вызываем второй.\n */\nexport const getWaitNextNavigationEventPromise = () => {\n    return new Promise((resolve) => {\n        let unListen: () => void;\n\n        const handleLocationChange = () => {\n            if (unListen) {\n                unListen();\n            }\n\n            resolve();\n        };\n\n        unListen = history.listen(handleLocationChange);\n    });\n};\n","export enum OrderStatus {\n    INITIAL = 'INITIAL',\n    INVOICE_CREATED = 'INVOICE_CREATED',\n    FUNDS_RESERVED = 'FUNDS_RESERVED',\n    CONFIRMED_BY_PARTNER = 'CONFIRMED_BY_PARTNER',\n    DELIVERING = 'DELIVERING',\n    DELIVERED = 'DELIVERED',\n    CANCEL_BY_PARTNER = 'CANCEL_BY_PARTNER',\n    CANCEL_BY_CUSTOMER = 'CANCEL_BY_CUSTOMER',\n    CANCEL_BY_PAYMENT = 'CANCEL_BY_PAYMENT',\n    PAID = 'PAID',\n    CANCELLED = 'CANCELLED',\n    ERROR = 'ERROR',\n}\n\nexport enum OrderStatusCategory {\n    PENDING = 'PENDING',\n    DELIVERING = 'DELIVERING',\n    SUCCESS = 'SUCCESS',\n    FAILED = 'FAILED',\n}\n\nexport const mapOrderStatusToCategory: Record<OrderStatus, OrderStatusCategory> = {\n    [OrderStatus.INITIAL]: OrderStatusCategory.PENDING,\n    [OrderStatus.INVOICE_CREATED]: OrderStatusCategory.PENDING,\n    [OrderStatus.FUNDS_RESERVED]: OrderStatusCategory.PENDING,\n    [OrderStatus.CONFIRMED_BY_PARTNER]: OrderStatusCategory.PENDING,\n    [OrderStatus.DELIVERING]: OrderStatusCategory.DELIVERING,\n    [OrderStatus.DELIVERED]: OrderStatusCategory.SUCCESS,\n    [OrderStatus.CANCEL_BY_PARTNER]: OrderStatusCategory.FAILED,\n    [OrderStatus.CANCEL_BY_CUSTOMER]: OrderStatusCategory.FAILED,\n    [OrderStatus.CANCEL_BY_PAYMENT]: OrderStatusCategory.FAILED,\n    [OrderStatus.PAID]: OrderStatusCategory.SUCCESS,\n    [OrderStatus.CANCELLED]: OrderStatusCategory.FAILED,\n    [OrderStatus.ERROR]: OrderStatusCategory.FAILED,\n};\n\nexport enum Currency {\n    RUB = 'RUB',\n}\n\nexport interface Price {\n    value: string;\n    ccy: Currency;\n}\n\nexport interface DiscountedPrice extends Price {\n    discountValue: string;\n}\n\nexport interface ParsedPrice {\n    value: number;\n    currency: Currency;\n}\n\nexport interface ParsedDiscountedPrice extends ParsedPrice {\n    discountValue: number;\n}\n\nexport interface LastOrderPosition {\n    positionId: string;\n    productId: string;\n    originalPrice: DiscountedPrice;\n    originalTotalPrice: DiscountedPrice;\n    originalQuantity: string;\n    formedPrice: DiscountedPrice;\n    formedQuantity: string;\n    formedTotalPrice: DiscountedPrice;\n    name: string;\n    images_urls: string[];\n}\n\nexport interface LastOrderInfo {\n    orderId: string;\n    partner: string;\n    merchantId: string;\n    externalId: string;\n    invoiceId: string;\n    orderStatus: OrderStatus;\n    changedOnFormed: string;\n    expectedDateTime: string;\n    comment: string;\n    customer: {\n        sub: string;\n        name: string;\n        phone: string;\n        email: string;\n    };\n    address: {\n        location: {\n            latitude: string;\n            longitude: string;\n        };\n        city: string;\n        street: string;\n        house: string;\n        apartment: string;\n        entrance: string;\n        floor: string;\n        door_code: string;\n    };\n    positions: LastOrderPosition[];\n    deliveryPrice: DiscountedPrice;\n    orderDiscount: Price;\n    originalTotalPrice: DiscountedPrice;\n    originalOrderPrice: Price;\n    formedTotalPrice: DiscountedPrice;\n    formedOrderPrice: Price;\n    errorCode: string;\n}\n\nexport interface OrderStateProductItem {\n    positionId: string;\n    productId: string;\n    originalPrice: ParsedDiscountedPrice;\n    originalTotalPrice: ParsedDiscountedPrice;\n    originalQuantity: number;\n    formedPrice: ParsedDiscountedPrice;\n    formedQuantity: number;\n    formedTotalPrice: ParsedDiscountedPrice;\n    name: string;\n    imageUrl: string;\n}\n","import { OrderStatus, Currency, LastOrderInfo } from 'store/constants/orderStatus';\n\n/* eslint-disable @typescript-eslint/camelcase */\n\nexport const lastOrderInfoMock: LastOrderInfo = {\n    orderId: '290',\n    partner: 'SAMOKAT',\n    merchantId: 'f541fcf7-e198-11e8-ac06-00155d462103',\n    externalId: '95720461-884f-490b-ae4b-e9bd1c903702',\n    invoiceId: '30343',\n    orderStatus: OrderStatus.CONFIRMED_BY_PARTNER,\n    changedOnFormed: 'False',\n    expectedDateTime: '2020-09-16T14:17:06+03:00',\n    comment: 'None',\n    customer: {\n        sub: 'a19f38a0e97ed3497be0eca816af4e0db3ddc33029c9d3d9effb9aa5235d168da3028e64eea639f7',\n        name: 'SBERBOX_USER',\n        phone: '+79630000000',\n        email: 'string@test.com',\n    },\n    address: {\n        location: {\n            latitude: '59.840869',\n            longitude: '30.255716',\n        },\n        city: 'Санкт-Петербург',\n        street: 'Дачный проспект',\n        house: '19',\n        apartment: '',\n        entrance: '',\n        floor: '111',\n        door_code: '',\n    },\n    positions: [\n        {\n            positionId: '1',\n            productId: '3949e2f2-3a75-11e9-80c5-0cc47a8179251',\n            originalPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '0',\n            formedTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            name: 'Драже M&Ms, 240г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/mm.png'],\n        },\n        {\n            positionId: '3',\n            productId: '3949e2f2-3a75-11e9-80c5-0cc47a8179262',\n            originalPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '20800',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '2',\n            formedTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            name: 'Драже M&Ms, 240г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/mm.png'],\n        },\n        {\n            positionId: '2',\n            productId: '71a76d3b-c355-11e9-bb93-ac1f6b6e023e3',\n            originalPrice: {\n                value: '28900',\n                discountValue: '28900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '57800',\n                discountValue: '57800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '28900',\n                discountValue: '28900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '2',\n            formedTotalPrice: {\n                value: '57800',\n                discountValue: '57800',\n                ccy: Currency.RUB,\n            },\n            name: 'Шоколад Milka, 276г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/milka.png'],\n        },\n        {\n            positionId: '1',\n            productId: '3949e2f2-3a75-11e9-80c5-0cc47a8179254',\n            originalPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '0',\n            formedTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            name: 'Драже M&Ms, 240г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/mm.png'],\n        },\n        {\n            positionId: '3',\n            productId: '3949e2f2-3a75-11e9-80c5-0cc47a8179265',\n            originalPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '20800',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '2',\n            formedTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            name: 'Драже M&Ms, 240г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/mm.png'],\n        },\n        {\n            positionId: '2',\n            productId: '71a76d3b-c355-11e9-bb93-ac1f6b6e023e6',\n            originalPrice: {\n                value: '28900',\n                discountValue: '28900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '57800',\n                discountValue: '57800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '28900',\n                discountValue: '28900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '2',\n            formedTotalPrice: {\n                value: '57800',\n                discountValue: '57800',\n                ccy: Currency.RUB,\n            },\n            name: 'Шоколад Milka, 276г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/milka.png'],\n        },\n        {\n            positionId: '1',\n            productId: '3949e2f2-3a75-11e9-80c5-0cc47a8179257',\n            originalPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '0',\n            formedTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            name: 'Драже M&Ms, 240г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/mm.png'],\n        },\n        {\n            positionId: '3',\n            productId: '3949e2f2-3a75-11e9-80c5-0cc47a8179268',\n            originalPrice: {\n                value: '20900',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '20800',\n                discountValue: '20900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '2',\n            formedTotalPrice: {\n                value: '41800',\n                discountValue: '41800',\n                ccy: Currency.RUB,\n            },\n            name: 'Драже M&Ms, 240г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/mm.png'],\n        },\n        {\n            positionId: '2',\n            productId: '71a76d3b-c355-11e9-bb93-ac1f6b6e023e9',\n            originalPrice: {\n                value: '28900',\n                discountValue: '28900',\n                ccy: Currency.RUB,\n            },\n            originalTotalPrice: {\n                value: '57800',\n                discountValue: '57800',\n                ccy: Currency.RUB,\n            },\n            originalQuantity: '2',\n            formedPrice: {\n                value: '28900',\n                discountValue: '28900',\n                ccy: Currency.RUB,\n            },\n            formedQuantity: '2',\n            formedTotalPrice: {\n                value: '57800',\n                discountValue: '57800',\n                ccy: Currency.RUB,\n            },\n            name: 'Шоколад Milka, 276г',\n            images_urls: ['https://cdn.sberdevices.ru/Samokat/milka.png'],\n        },\n    ],\n    deliveryPrice: {\n        value: '0',\n        discountValue: '0',\n        ccy: Currency.RUB,\n    },\n    orderDiscount: {\n        value: '0',\n        ccy: Currency.RUB,\n    },\n    originalTotalPrice: {\n        value: '99600',\n        discountValue: '99600',\n        ccy: Currency.RUB,\n    },\n    originalOrderPrice: {\n        value: '99600',\n        ccy: Currency.RUB,\n    },\n    formedTotalPrice: {\n        value: '99600',\n        discountValue: '99600',\n        ccy: Currency.RUB,\n    },\n    formedOrderPrice: {\n        value: '99600',\n        ccy: Currency.RUB,\n    },\n    errorCode: 'None',\n};\n","export function createAction<T extends string, P>(type: T, payload: P) {\n    return {\n        type,\n        payload,\n    };\n}\n\nexport function createEmptyAction<T extends string>(type: T) {\n    return {\n        type,\n    };\n}\n","import { createEmptyAction } from 'tools/create-action';\n\nexport const closeAppAction = () => createEmptyAction('CLOSE_APP');\n\nexport const applyItemsChanges = () => createEmptyAction('APPLY_ITEMS_CHANGES');\n\nexport const revertUserChanges = () => createEmptyAction('REVERT_USER_CHANGES');\n","import { AppState } from '../constants';\n\nexport const selectProductById = (state: AppState, itemId: string) => state.productsData.itemsMap[itemId];\nexport const selectProductDiffById = (state: AppState, itemId: string) => state.productsDiffData.itemsMap[itemId];\nexport const selectCartItemById = (state: AppState, itemId: string) => state.cart.itemsMap[itemId];\nexport const selectPathname = (state: AppState) => state.router.location.pathname;\nexport const selectHeader = (state: AppState) => state.layout.header;\nexport const selectCharacter = (state: AppState) => state.character.id;\n","import { AppState } from 'store/constants';\nimport { selectCartItemById, selectProductById, selectProductDiffById } from 'store/selectors';\n\nexport const formatPrice = (price: number) => Math.ceil(price / 100);\n\nexport const prepareCount = (state: AppState, itemId: string) => {\n    const cartItem = selectCartItemById(state, itemId);\n\n    return cartItem ? cartItem.count : 0;\n};\n\nexport const calculateButtonDisabled = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const cartItem = selectCartItemById(state, itemId);\n\n    return cartItem && cartItem.count === productItem.quantityLeft;\n};\n\nexport const getQuantityLeftById = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n\n    if (productItemDiff && typeof productItemDiff.quantityLeft !== 'undefined') {\n        return productItemDiff.quantityLeft;\n    }\n\n    return productItem.quantityLeft;\n};\n\nexport const getDisabled = (state: AppState, itemId: string) => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n\n    return quantityLeft === 0;\n};\n\nexport const getPriceById = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        return productItemDiff.price;\n    }\n\n    return productItem.price;\n};\n\nexport const preparePriceById = (state: AppState, itemId: string) => {\n    const price = getPriceById(state, itemId);\n\n    return formatPrice(price);\n};\n\nexport const getOldPriceById = (state: AppState, itemId: string) => {\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        return formatPrice(productItem.price);\n    }\n\n    return undefined;\n};\n\nexport const formatSale = (oldValue: number, newValue: number) =>\n    String(Math.ceil(((oldValue - newValue) / oldValue) * 100));\n\nexport const getCountById = (state: AppState, itemId: string) => {\n    const cartItem = selectCartItemById(state, itemId);\n    const countInCart = cartItem ? cartItem.count : 0;\n    const quantityLeft = getQuantityLeftById(state, itemId);\n\n    return Math.min(countInCart, quantityLeft);\n};\n\nexport const wantMoreThanHave = (state: AppState, itemId: string) => {\n    const cartItem = selectCartItemById(state, itemId);\n    const quantityLeft = getQuantityLeftById(state, itemId);\n\n    return cartItem && cartItem.count > quantityLeft;\n};\n\nexport const canAddMore = (state: AppState, itemId: string) => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n    const cartItem = selectCartItemById(state, itemId);\n\n    return (\n        quantityLeft !== 0 && // есть остатки\n        (!cartItem || cartItem.count < quantityLeft) // текущее кол-во меньше остатков\n    );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\ninterface Fn<R = any> {\n    (...args: any): R;\n}\n\nexport const memoize = <F extends Fn>(fn: F): F => {\n    const store = new Map<string, ReturnType<F>>();\n\n    return ((...args) => {\n        const id = JSON.stringify(args);\n\n        if (!store.has(id)) {\n            store.set(id, fn(...args));\n        }\n\n        return store.get(id);\n    }) as F;\n};\n\nexport const memoizeResolvedPromise = <F extends Fn<Promise<any>>>(fn: F): F => {\n    const store = new Map<string, ReturnType<F>>();\n\n    return (async (...args) => {\n        const id = JSON.stringify(args);\n\n        if (!store.has(id)) {\n            const result = await fn(...args);\n            store.set(id, result);\n        }\n\n        return store.get(id);\n    }) as F;\n};\n","import { StoreUser } from 'store/constants/user';\nimport { AppReducer, AppState } from 'store/constants';\nimport { memoize } from 'tools/memoize';\nimport { LOCATION_CHANGE } from 'connected-react-router';\n\nconst memoizedPrepareSuggestItems = memoize((itemsMap: AppState['twoGisSuggestsData']['itemsMap']) =>\n    Object.keys(itemsMap),\n);\n\n// важно сохранить ссылку чтобы хуки внутри компонента отрабатывали нормально\nconst prepareSuggestItems = (state: AppState) => memoizedPrepareSuggestItems(state.twoGisSuggestsData.itemsMap);\n\nexport const getHasValidAddress = (user: StoreUser) => {\n    const { street, house, city, address, addressLocationLatitude, addressLocationLongitude } = user;\n\n    return street && house && city && address && addressLocationLatitude && addressLocationLongitude;\n};\n\nexport const addressSimplePageView: AppReducer = (state, action) => {\n    const { addressSimplePage } = state;\n\n    switch (action.type) {\n        case 'address/SELECT_SUGGEST_ITEM': {\n            addressSimplePage.suggestsListIndex = state.addressSimplePage.suggests.findIndex(\n                (itemId) => itemId === action.payload,\n            );\n            addressSimplePage.selectedSuggestItemId = action.payload;\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT': {\n            addressSimplePage.inputValue = action.payload.input;\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT_ADD': {\n            addressSimplePage.inputValue = action.payload.input;\n\n            break;\n        }\n\n        case 'address/CHANGE_INPUT_VALUE': {\n            addressSimplePage.inputValue = action.payload;\n\n            break;\n        }\n\n        case 'address/SHOW_KEYBOARD_HINT': {\n            addressSimplePage.isKeyboardHintVisible = true;\n\n            break;\n        }\n\n        case 'ADDRESS_SUBMIT': {\n            addressSimplePage.isAddressSubmitting = true;\n            addressSimplePage.addressSubmittingTimerId = action.payload;\n\n            break;\n        }\n\n        // эти кейсы использовать строго для работы с флагом isAddressSubmitting\n        case LOCATION_CHANGE:\n        case 'address/SUBMIT_FAIL':\n        case 'GO_TO_CATALOG':\n        case 'GO_TO_NO_AREA': {\n            addressSimplePage.isAddressSubmitting = false;\n            clearTimeout(addressSimplePage.addressSubmittingTimerId);\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    addressSimplePage.suggests = prepareSuggestItems(state);\n};\n","import { Character } from 'store/constants/character';\nimport { createAction, createEmptyAction } from 'tools/create-action';\n\nimport {\n    ShowItemsCommandPayload,\n    AddItemCommandPayload,\n    RemoveItemCommandPayload,\n    GoToCatalogCommandPayload,\n    ValidationOkCommandPayload,\n    AddressInputPayload,\n    AddressInputAddPayload,\n    AddressFullInputAddPayload,\n    AddressFullInputCommandPayload,\n    OrderErrorPayload,\n    ItemsChangesCommandPayload,\n    AddressFullCommentCommandPayload,\n    GoToPromoCommandPayload,\n    AddressFullInputClearPayload,\n    LastOrderInfoPayload,\n    GoToNoAreaCommandPayload,\n    AppInfo,\n} from '../constants/native';\n\n/* Показать список товаров */\nexport const showItemsAction = (payload: ShowItemsCommandPayload) => createAction('SHOW_ITEMS', payload);\n\n/* Изменился список товаров */\nexport const itemsChangesAction = (payload: ItemsChangesCommandPayload) => createAction('ITEMS_CHANGES', payload);\n\n/* Добавить товар в корзину */\nexport const addItemAction = (payload: AddItemCommandPayload) => createAction('ADD_ITEM', payload);\n\ninterface RemoveItemCommandPayloadExtended extends RemoveItemCommandPayload {\n    shouldRemoveMention?: boolean;\n}\n\n/* Удалить товар из корзины */\nexport const removeItemAction = (payload: RemoveItemCommandPayloadExtended) => createAction('REMOVE_ITEM', payload);\n\n/* Очистить корзину */\nexport const removeAllAction = () => createEmptyAction('REMOVE_ALL');\n\n/* Перейти на страницу каталога */\nexport const goToCatalogAction = (payload: GoToCatalogCommandPayload) => createAction('GO_TO_CATALOG', payload);\n\n/* Перейти на страницу \"вне зоны покрытия\" */\nexport const goToNoAreaAction = (payload: GoToNoAreaCommandPayload) => createAction('GO_TO_NO_AREA', payload);\n\n/* Перейти на страницу промо */\nexport const goToPromo = (payload: GoToPromoCommandPayload) => createAction('GO_TO_PROMO', payload);\n\n/* Перейти на предыдущую страницу */\nexport const goBackAction = () => createEmptyAction('GO_BACK');\n\n/* Перейти на страницу \"оформляем заказ\" */\nexport const goToWaitAction = () => createEmptyAction('GO_TO_WAIT');\n\n/* Заказ оформлен */\nexport const validationOkAction = (payload: ValidationOkCommandPayload) => createAction('VALIDATION_OK', payload);\n\n/* Ошибка оформления заказа */\nexport const orderErrorAction = (payload: OrderErrorPayload) => createAction('ORDER_ERROR', payload);\n\n/* Ввод адреса */\nexport const addressInputAction = (payload: AddressInputPayload) => createAction('ADDRESS_INPUT', payload);\n\n/* Экран голосового ввода адреса */\nexport const addressGuideAction = () => createEmptyAction('ADDRESS_GUIDE');\n\n/* Дополнить существующий адрес */\nexport const addressInputAddAction = (payload: AddressInputAddPayload) => createAction('ADDRESS_INPUT_ADD', payload);\n\n/* Отказ от показанного адреса, выбрать другой */\nexport const addressInputDeclineAction = () => createEmptyAction('ADDRESS_INPUT_DECLINE');\n\n/* Очистить поле ввода адреса */\nexport const addressInputClearAction = () => createEmptyAction('ADDRESS_INPUT_CLEAR');\n\n/* Ввод полного адреса */\nexport const addressFullInputAction = (payload: AddressFullInputCommandPayload) =>\n    createAction('ADDRESS_FULL_INPUT', payload);\n\n/* Добавить полный адрес */\nexport const addressFullInputAddAction = (payload: AddressFullInputAddPayload) =>\n    createAction('ADDRESS_FULL_INPUT_ADD', payload);\n\n/* Очистить полный адрес */\nexport const addressFullInputClearAction = (payload: AddressFullInputClearPayload) =>\n    createAction('ADDRESS_FULL_INPUT_CLEAR', payload);\n\n/* Комментарий полного адреса */\nexport const addressFullCommentAction = (payload: AddressFullCommentCommandPayload) =>\n    createAction('ADDRESS_FULL_COMMENT', payload);\n\n/* Ошибка валидации полного адреса */\nexport const addressFullValidationErrorAction = () => createEmptyAction('ADDRESS_FULL_VALIDATION_ERROR');\n\n/* Успешное сохранение адреса */\nexport const addressFullSuccessAction = () => createEmptyAction('ADDRESS_FULL_SUCCESS');\n\n/* Повторный запрос статуса */\nexport const askAgainForOrderStatusAction = () => createEmptyAction('ASK_AGAIN_FOR_ORDER_STATUS');\n\n/* Второй этап оформления - после оплаты */\nexport const askAgainForOrderStatusFinalAction = () => createEmptyAction('ASK_AGAIN_FOR_ORDER_STATUS_FINAL');\n\n/* Заказ создан */\nexport const orderSuccessAction = () => createEmptyAction('ORDER_SUCCESS');\n\nexport const setCharacterAction = (payload: Character) => createAction('character/SET_CHARACTER', payload);\n\nexport const setAppContextAction = (payload: AppInfo) => createAction('appContext/SET_APP_CONTEXT', payload);\n\n/* Флоу статуса заказа */\n\n/* Статус последнего заказа */\nexport const lastOrderInfoAction = (payload: LastOrderInfoPayload) => createAction('LAST_ORDER_INFO', payload);\n\n/* Заказ не найден */\nexport const lastOrderEmptyAction = () => createEmptyAction('LAST_ORDER_EMPTY');\n\n/* Системная ошибка при получении статуса заказа */\nexport const lastOrderErrorAction = () => createEmptyAction('LAST_ORDER_ERROR');\n","export enum ROUTES {\n    /* Страница каталога */\n    CATALOG = '/catalog',\n    /* Страница корзины */\n    CART = '/cart',\n    /* Страница успешного заказа */\n    SUCCESS = '/success',\n    /* Страница выбора адреса на карте */\n    ADDRESS_MAP = '/address-map',\n    /* Страница выбора адреса из списка */\n    ADDRESS_SIMPLE = '/address-simple',\n    /* Страница гайда ввода адреса голосом */\n    ADDRESS_SIMPLE_GUIDE = '/address-simple-guide',\n    /* Страница вопроса о корректности адреса или адрес не найден */\n    ADDRESS_SIMPLE_QUESTION = '/address-simple-question',\n    /* Страница с вводом адреса в одно поле */\n    ADDRESS_SIMPLE_INPUT = '/address-simple-input',\n    /* Верхнеуровневый путь (не страница) */\n    ADDRESS_FULL = '/address-full',\n    /* Страница ввода адреса со всеми аккаунтами */\n    ADDRESS_FULL_ALL = '/address-full/all',\n    /* Страница ввода телефона */\n    ADDRESS_FULL_PHONE = '/address-full/phone',\n    /* Страница ввода квартиры */\n    ADDRESS_FULL_APARTMENT = '/address-full/apartment',\n    /* Страница ввода подъезда */\n    ADDRESS_FULL_ENTRANCE = '/address-full/entrance',\n    /* Страница ввода этажа */\n    ADDRESS_FULL_FLOOR = '/address-full/floor',\n    /* Страница ввода комментария */\n    ADDRESS_FULL_DOOR_CODE = '/address-full/door-code',\n    /* Страница гайда ввода телефона голосом  */\n    ADDRESS_FULL_PHONE_GUIDE = '/address-full/phone-guide',\n    /* Страница гайда ввода полного адреса голосом */\n    ADDRESS_FULL_ACCOMMODATION_GUIDE = '/address-full/accommodation-guide',\n    /* Страница промо */\n    PROMO = '/promo',\n    /* Страница \"вне зоны покрытия\" */\n    NO_AREA = '/no-area',\n    /* Страница для ошибки */\n    ERROR = '/error',\n    /* Страница \"оформляем заказ\" */\n    WAIT = '/wait',\n    /* Страница статуса заказа */\n    STATUS_SUMMARY = '/status/summary',\n    /* Страница деталей заказа */\n    STATUS_DETAILS = '/status/details',\n    /* Страница для случая, если что-то пошло не так */\n    STATUS_REPORT = '/status/report',\n    /* Страница пустого заказа (когда его нет) */\n    STATUS_EMPTY = '/status/empty',\n}\n","import { addressFullInputAction, addressFullSuccessAction } from 'store/actions/native';\nimport { AppThunkAction } from 'store/constants';\nimport { goBack, push, replace } from 'connected-react-router';\nimport { AddressFullInputCommandPayload } from 'store/constants/native';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\nimport { getWaitNextNavigationEventPromise } from 'tools/history';\n\nexport const addressFullValidationOkThunk = (): AppThunkAction => (dispatch) => {\n    dispatch(goBack());\n};\n\nexport const addressFullInputThunk = (payload: AddressFullInputCommandPayload): AppThunkAction => async (\n    dispatch,\n    getState,\n) => {\n    const state = getState();\n    const currentRoute = selectPathname(state);\n\n    dispatch(addressFullInputAction(payload));\n\n    switch (currentRoute) {\n        case ROUTES.ADDRESS_FULL_PHONE_GUIDE: {\n            dispatch(push(ROUTES.ADDRESS_FULL_ACCOMMODATION_GUIDE));\n            break;\n        }\n        case ROUTES.ADDRESS_FULL_ACCOMMODATION_GUIDE: {\n            dispatch(goBack());\n\n            await getWaitNextNavigationEventPromise();\n\n            dispatch(replace(ROUTES.ADDRESS_FULL_ALL));\n\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n};\n\nexport const addressFullSuccessThunk = (): AppThunkAction => (dispatch) => {\n    dispatch(addressFullSuccessAction());\n\n    dispatch(goBack());\n};\n","import { createEmptyAction, createAction } from 'tools/create-action';\n\nexport const askForStockAction = () => createEmptyAction('ASK_FOR_STOCK');\n\nexport const askForItemsChangesAction = () => createEmptyAction('ASK_FOR_ITEMS_CHANGES');\n\nexport const makePurchaseAction = () => createEmptyAction('MAKE_PURCHASE');\n\nexport const pageChangeAction = () => createEmptyAction('PAGE_CHANGE');\n\nexport const openPaymentAction = () => createEmptyAction('OPEN_PAYMENT');\n\nexport const askForOrderStatusAction = () => createEmptyAction('ASK_FOR_ORDER_STATUS');\n\nexport const askForOrderStatusFinalAction = () => createEmptyAction('ASK_FOR_ORDER_STATUS_FINAL');\n\nexport const addressSubmitAction = (timerId = 0) => createAction('ADDRESS_SUBMIT', timerId);\n\nexport const addressFullSubmitAction = () => createEmptyAction('ADDRESS_FULL_SUBMIT');\n\nexport const askForLastOrderInfoAction = () => createEmptyAction('ASK_FOR_LAST_ORDER_INFO');\n","// TODO: FRNTND-1 mv to npm package\n\nconst duration = {\n    defaultMs: 200,\n};\n\nconst timingFnEaseInOut = 'ease-in-out';\n\nconst timingFn = {\n    easeInOut: timingFnEaseInOut,\n    default: timingFnEaseInOut,\n};\n\nexport const transition = {\n    duration,\n    timingFn,\n    default: `${duration.defaultMs}ms ${timingFn.default}`,\n};\n","import React from 'react';\nimport { colors } from '@sberdevices/plasma-tokens';\nimport styled, { keyframes, css } from 'styled-components';\nimport { transition } from 'style/const/transition';\n\ninterface PointProps {\n    phaseCount: number;\n    phaseDurationMs: number;\n    initialPhase: number;\n}\n\nconst StyledPoint = styled.div<PointProps>`\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    margin: 0 8px;\n\n    background: ${colors.white};\n\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    ${({ initialPhase, phaseCount, phaseDurationMs }) => {\n        const cycleLength = phaseCount * 2 - 1;\n        const transitionCount = cycleLength - 1;\n\n        const frames = Array(cycleLength)\n            .fill(0)\n            .map((_, index) => {\n                const percent = (100 * index) / transitionCount;\n\n                // точка колеблется между тремя состояниями, меняя направление:\n                // такое поведение математически проще всего описать синусоидой\n                // c указанием начальной фазы:\n                //\n                // 0 - 0 -> 1 -> 2 -> 1 -> 0 -> 1 -> 2 -> ...\n                // 1 - 1 -> 2 -> 1 -> 0 -> 1 -> 2 -> 1 -> ...\n                // 2 - 2 -> 1 -> 0 -> 1 -> 2 -> 1 -> 0 -> ...\n                // 3 - 1 -> 0 -> 1 -> 2 -> 1 -> 0 -> 1 -> ...\n                //\n                // синусоида колеблется в интервале [-1;1]\n                // чтобы значения были положительными, сдвигаем синусоиду на 1 вверх и уменьшаем амплитуду вдвое\n                // получаем интервал [0;1], дальше домножаем на (число фаз - 1) и округляем\n\n                const phaseIndex = Math.round(\n                    (phaseCount - 1) * ((Math.sin((2 * Math.PI * (index + initialPhase)) / transitionCount) + 1) / 2),\n                );\n\n                const result = css`\n                    ${`${percent}%`} {\n                        opacity: ${((phaseIndex + 1) / phaseCount).toFixed(1)};\n                    }\n                `;\n\n                return result;\n            })\n            .reduce((a, b) => css`${a}${b}`, css``);\n\n        return css`\n            animation-duration: ${phaseDurationMs * transitionCount}ms;\n            animation-name: ${keyframes`${frames}`};\n        `;\n    }}\n`;\n\ninterface ContainerProps {\n    isVisible: boolean;\n}\nconst StyledContainer = styled.div<ContainerProps>`\n    display: flex;\n    flex-direction: row;\n\n    opacity: ${({ isVisible }) => (isVisible ? 1 : 0)};\n    transition: opacity ${transition.default};\n\n    & ${StyledPoint} {\n        animation-play-state: ${({ isVisible }) => (isVisible ? 'running' : 'paused')};\n    }\n`;\n\ninterface ButtonSpinnerProps {\n    isVisible: boolean;\n    pointCount: number;\n    phaseCount: number;\n    phaseDurationMs: number;\n}\nexport const ButtonSpinner: React.FC<ButtonSpinnerProps> = ({ pointCount, phaseCount, phaseDurationMs, ...props }) => {\n    const pointList = React.useMemo(\n        () =>\n            Array(pointCount)\n                .fill(0)\n                .map((_, index) => (\n                    <StyledPoint\n                        key={index}\n                        phaseDurationMs={phaseDurationMs}\n                        phaseCount={phaseCount}\n                        initialPhase={pointCount - index - 1}\n                    />\n                )),\n        [pointCount, phaseCount, phaseDurationMs],\n    );\n\n    return <StyledContainer {...props}>{pointList}</StyledContainer>;\n};\n","import React from 'react';\n\nexport function useFocusOnMount<T>(forwardRef?: React.RefObject<T>) {\n    const ref = React.useRef<T>(null);\n\n    const onMountRef = forwardRef || ref;\n\n    React.useEffect(() => {\n        if (onMountRef.current instanceof HTMLElement) {\n            onMountRef.current.focus();\n        }\n    }, [onMountRef]);\n\n    return onMountRef;\n}\n","import { buttonFocused } from '@sberdevices/plasma-tokens';\nimport { transition } from 'style/const/transition';\n\n// TODO: FRNTND-1 mv to npm package\n\nexport const focus = {\n    paddingPx: 4,\n    borderSizePx: 4,\n    color: buttonFocused,\n    transition: transition.default,\n};\n","import { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { focus } from 'style/const/focus';\n\nexport const syntheticFocus = (ruleset: FlattenSimpleInterpolation, isFocused?: boolean) => {\n    if (isFocused === undefined) {\n        return css`\n            &:focus {\n                ${ruleset}\n            }\n        `;\n    }\n\n    return isFocused && ruleset;\n};\n\ninterface FocusMixinOptions {\n    isFocused?: boolean;\n    borderRadius?: number;\n    paddingPx?: number;\n}\n\nexport const focusBorderMixin = ({\n    isFocused,\n    borderRadius = 0,\n    paddingPx = focus.paddingPx + focus.borderSizePx,\n}: FocusMixinOptions) => {\n    const positionPx = -1 * paddingPx;\n\n    return css`\n        ${syntheticFocus(\n            css`\n                &::after {\n                    opacity: 1;\n                }\n            `,\n            isFocused,\n        )}\n\n        &::after {\n            content: '';\n\n            position: absolute;\n            top: ${positionPx}px;\n            bottom: ${positionPx}px;\n            left: ${positionPx}px;\n            right: ${positionPx}px;\n\n            display: block;\n            box-sizing: border-box;\n\n            border-width: ${focus.borderSizePx}px;\n            border-color: ${focus.color};\n            border-style: solid;\n            border-radius: ${borderRadius ? borderRadius + (paddingPx - focus.borderSizePx) * 2 : 0}px;\n\n            opacity: 0;\n\n            transition: opacity ${focus.transition};\n\n            z-index: 2;\n            pointer-events: none;\n        }\n    `;\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { buttonAccent, buttonSecondary, fontWeights, primary as colorPrimary } from '@sberdevices/plasma-tokens';\nimport { ButtonSpinner } from 'components/ButtonSpinner/ButtonSpinner';\nimport { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport { scenarioResponseTimeout } from 'store/constants';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\n\ninterface StyledContentProps {\n    isVisible: boolean;\n    textAlign: ButtonTextAlign;\n}\nconst StyledContent = styled.div<StyledContentProps>`\n    opacity: ${({ isVisible }) => Number(isVisible)};\n    transition: opacity ${transition.default};\n    width: 100%;\n    display: block;\n    text-align: ${({ textAlign }) => textAlign};\n`;\n\nexport enum ButtonViews {\n    primary = 'primary',\n    secondary = 'secondary',\n}\n\nexport enum ButtonSize {\n    l = 'l',\n    m = 'm',\n    s = 's',\n}\n\nexport enum ButtonTextAlign {\n    left = 'left',\n    center = 'center',\n    right = 'right',\n}\n\ninterface ButtonParams {\n    borderRadiusPx: number;\n    paddingXPx: number;\n    paddingYPx: number;\n    fontSizePx: number;\n    lineHeightPx: number;\n}\n\nconst mapSizeToButtonParams: Record<ButtonSize, ButtonParams> = {\n    [ButtonSize.l]: {\n        borderRadiusPx: 32,\n        paddingXPx: 56,\n        paddingYPx: 32,\n        fontSizePx: 32,\n        lineHeightPx: 40,\n    },\n    [ButtonSize.m]: {\n        borderRadiusPx: 24,\n        paddingXPx: 48,\n        paddingYPx: 24,\n        fontSizePx: 32,\n        lineHeightPx: 40,\n    },\n    [ButtonSize.s]: {\n        borderRadiusPx: 24,\n        paddingXPx: 28,\n        paddingYPx: 16,\n        fontSizePx: 28,\n        lineHeightPx: 32,\n    },\n};\n\nconst buttonViewBackgroundMap: Record<ButtonViews, string> = {\n    primary: buttonAccent,\n    secondary: buttonSecondary,\n};\n\nconst StyledButtonSpinner = styled(ButtonSpinner)`\n    position: absolute;\n\n    transition: opacity ${transition.default};\n`;\n\ninterface StyledButtonProps {\n    view: ButtonViews;\n    size: ButtonSize;\n    isLocked: boolean;\n}\nconst StyledButton = styled.div<StyledButtonProps>`\n    position: relative;\n\n    ${({ size }) => {\n        const { borderRadiusPx, paddingXPx, paddingYPx, fontSizePx, lineHeightPx } = mapSizeToButtonParams[size];\n\n        return css`\n            padding: ${paddingYPx}px ${paddingXPx}px;\n            font-size: ${fontSizePx}px;\n            line-height: ${lineHeightPx}px;\n            border-radius: ${borderRadiusPx}px;\n        `;\n    }}\n\n    border: none;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    transition: background-color ${transition.default};\n\n    background-color: ${({ view }) => buttonViewBackgroundMap[view]};\n\n    font-family: inherit;\n    font-weight: ${fontWeights.Semibold};\n    color: ${colorPrimary};\n\n    ${({ size }) => focusBorderMixin({ borderRadius: mapSizeToButtonParams[size].borderRadiusPx })}\n\n    &[disabled] {\n        opacity: ${({ isLocked }) => (isLocked ? 1 : 0.5)};\n    }\n`;\n\nconst usePressedState = ({\n    shouldLockAfterClick,\n    lockTimeout = scenarioResponseTimeout,\n    onClick,\n}: Pick<ButtonProps, 'shouldLockAfterClick' | 'lockTimeout' | 'onClick'>) => {\n    const [timeoutId, setTimeoutId] = React.useState(0);\n\n    // если таймаут установлен - кнопка заблокирована\n    const isLocked = Boolean(timeoutId);\n\n    const handleClick = React.useCallback(\n        (event: React.SyntheticEvent<HTMLButtonElement>) => {\n            if (shouldLockAfterClick && !isLocked) {\n                setTimeoutId(setTimeout(() => setTimeoutId(0), lockTimeout));\n            }\n\n            onClick?.(event);\n        },\n        [shouldLockAfterClick, lockTimeout, isLocked, onClick],\n    );\n\n    React.useEffect(() => {\n        const id = timeoutId;\n        return () => {\n            if (id) {\n                clearTimeout(id);\n            }\n        };\n    }, [timeoutId]);\n\n    return {\n        isLocked,\n        handleClick,\n    };\n};\n\nexport interface ButtonProps {\n    className?: string;\n    shouldFocusOnMount?: boolean;\n    forwardRef?: React.RefObject<HTMLButtonElement>;\n    view?: ButtonViews;\n    disabled?: boolean;\n    size?: ButtonSize;\n    textAlign?: ButtonTextAlign;\n    shouldLockAfterClick?: boolean;\n    lockTimeout?: number;\n    onClick?: (event: React.SyntheticEvent<HTMLButtonElement>) => void;\n    onFocus?: (event: React.FocusEvent<HTMLButtonElement>) => void;\n}\nexport const Button: React.FC<ButtonProps> = ({\n    shouldFocusOnMount,\n    forwardRef,\n    shouldLockAfterClick,\n    lockTimeout,\n    onClick,\n    view = ButtonViews.secondary,\n    size = ButtonSize.m,\n    textAlign = ButtonTextAlign.center,\n    children,\n    disabled,\n    ...props\n}) => {\n    const mountFocusRef = useFocusOnMount<HTMLButtonElement>();\n    const ref = forwardRef || (shouldFocusOnMount ? mountFocusRef : null);\n\n    const { isLocked, handleClick } = usePressedState({\n        shouldLockAfterClick,\n        lockTimeout,\n        onClick,\n    });\n\n    return (\n        <StyledButton\n            as=\"button\"\n            type=\"button\"\n            view={view}\n            size={size}\n            ref={ref}\n            onClick={handleClick}\n            isLocked={isLocked}\n            disabled={disabled || isLocked}\n            {...props}\n        >\n            <StyledButtonSpinner isVisible={isLocked} pointCount={3} phaseCount={3} phaseDurationMs={300} />\n            <StyledContent isVisible={!isLocked} textAlign={textAlign}>\n                {children}\n            </StyledContent>\n        </StyledButton>\n    );\n};\n","import { doRequest } from 'tools/request';\n\nimport { DGApiResponse } from './common';\n\nconst apiKey = process.env.REACT_APP_ENVIRONMENT === 'production' ? 'rukrby5549' : 'rusrav6003';\n\nconst apiPrefix = 'https://catalog.api.2gis.ru';\n\nexport const doDGApiRequest = async <Params, ResponseType>(\n    url: string,\n    params: Params,\n): Promise<DGApiResponse<ResponseType>> => {\n    const response = await doRequest<DGApiResponse<ResponseType>>(`${apiPrefix}${url}`, {\n        key: apiKey,\n        ...params,\n    });\n\n    return response;\n};\n","const isStatusCode4xx = (statusCode: number) => statusCode >= 400 && statusCode <= 499;\n\nexport const doRequest = async <Result = unknown>(\n    url: string,\n    params: Record<string, string | number | boolean>,\n): Promise<Result> => {\n    const paramsString = Object.keys(params)\n        .reduce<string[]>((acc, key) => {\n            acc.push(`${key}=${params[key as keyof typeof params]}`);\n\n            return acc;\n        }, [])\n        .join('&');\n\n    const response = await fetch(`${url}?${paramsString}`);\n\n    // здесь выбрасываем только сетевые и серверные ошибки\n    if (!response.ok && !isStatusCode4xx(response.status)) {\n        throw response.status;\n    }\n\n    return response.json() as Promise<Result>;\n};\n","import { AppReducer, AppState, initialState } from 'store/constants';\nimport { hasAddressComponents } from 'tools/twoGis/api/suggest';\n\nexport enum TwoGisSuggestFetchingStatus {\n    INITIAL = 'INITIAL',\n    PENDING = 'PENDING',\n    FINISHED = 'FINISHED',\n}\n\nexport const twoGisSuggestsData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'FINISH_FETCHING_TWO_GIS_SUGGESTS': {\n            const [firstSuggest] = action.payload;\n\n            state.twoGisSuggestsData.fetchingStatus = TwoGisSuggestFetchingStatus.FINISHED;\n            state.twoGisSuggestsData.itemsMap = action.payload\n                .filter((suggestItem) => hasAddressComponents(suggestItem))\n                .reduce<AppState['twoGisSuggestsData']['itemsMap']>((result, item) => {\n                    result[item.id] = item;\n\n                    return result;\n                }, {});\n\n            state.twoGisSuggestsData.mostRepresentationSuggest = firstSuggest;\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT':\n        case 'ADDRESS_INPUT_ADD':\n        case 'address/CHANGE_INPUT_VALUE': {\n            state.twoGisSuggestsData = { ...initialState.twoGisSuggestsData };\n\n            break;\n        }\n\n        case 'START_FETCHING_TWO_GIS_SUGGESTS': {\n            state.twoGisSuggestsData.fetchingStatus = TwoGisSuggestFetchingStatus.PENDING;\n\n            break;\n        }\n\n        default: {\n            break;\n        }\n    }\n};\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { doDGApiRequest } from './doApiRequest';\nimport { DGLocale, DGListResult, DGLatLng } from './common';\n\ntype DGGetSuggestsParams = {\n    locale: DGLocale;\n    q: string;\n    fields: string[];\n    suggestType: string;\n    type: string[];\n    polygon?: string;\n    viewpoint1?: [string, string];\n    viewpoint2?: [string, string];\n    location: [string, string];\n};\n\ninterface DGApiGetSuggestsParams {\n    locale: DGLocale;\n    q: string;\n    fields: string;\n    suggest_type: string;\n    type: string;\n    polygon?: string;\n    viewpoint1?: string;\n    viewpoint2?: string;\n    location: string;\n}\n\nexport interface DGSuggest {\n    id: string;\n    full_name: string;\n    name: string;\n    search_attributes: {\n        suggested_text: string;\n    };\n    type: string;\n    point?: DGLatLng;\n}\n\ninterface DGBuildingAddressComponent {\n    number: string;\n    street: string;\n    street_id: string;\n    type: 'street_number';\n}\n\ninterface DGBuildingAddress {\n    building_id: string;\n    components?: DGBuildingAddressComponent[];\n    postcode: string;\n}\n\nexport interface DGBuildingSuggest extends DGSuggest {\n    type: 'building';\n    address_name: string; // Кутузовский проспект, 43 ст2\n    purpose_name: string; // Жилой дом с административными помещениями\n    address: DGBuildingAddress;\n    point: DGLatLng;\n}\n\nexport const hasAddressComponents = (suggest: DGBuildingSuggest) => {\n    // prettier-ignore\n    return (\n        suggest.address.components &&\n        suggest.address.components.length\n    );\n};\n\nconst convertParams = ({\n    fields,\n    type,\n    suggestType,\n    location,\n    viewpoint1,\n    viewpoint2,\n    ...params\n}: DGGetSuggestsParams): DGApiGetSuggestsParams => ({\n    ...params,\n    fields: fields.join(','),\n    type: type.join(','),\n    suggest_type: suggestType,\n    location: location.join(','),\n    ...(viewpoint1 &&\n        viewpoint2 && {\n            viewpoint1: viewpoint1.join(','),\n            viewpoint2: viewpoint2.join(','),\n        }),\n});\n\nconst suggestsEndpointPath = '/3.0/suggests';\n\nexport const getSuggests = async (params: DGGetSuggestsParams) => {\n    return doDGApiRequest<DGApiGetSuggestsParams, DGListResult<DGBuildingSuggest>>(\n        suggestsEndpointPath,\n        convertParams(params),\n    );\n};\n","export enum Character {\n    Sber = 'sber',\n    Eva = 'eva',\n    Joy = 'joy',\n}\n","import { ButtonViews } from 'components/Button/Button';\nimport { LocationState } from 'history';\nimport { ThunkAction } from 'redux-thunk';\nimport { TwoGisSuggestFetchingStatus } from 'store/reducers/data/twoGisSuggestsData';\nimport { AppActionTypes } from 'types/app-actions';\nimport { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\nimport { RouterState, RouterAction } from 'connected-react-router';\nimport { CatalogListItemViewProps } from 'pages/Catalog/ListItem/CatalogListItem';\nimport { CatalogListItemTouchViewProps } from 'pages/Catalog/ListItem/CatalogListItem@touch';\nimport { CartListItemViewProps } from 'pages/Cart/ListItem/CartListItem';\nimport { CartListItemTouchViewProps } from 'pages/Cart/ListItem/CartListItem@touch';\nimport { StatusDetailsListItemViewProps } from 'pages/StatusDetails/ListItem/StatusDetailsListItem';\n\nimport { Character } from './character';\nimport { StoreProductItem, StoreProductItemDiff } from './products';\nimport { OrderStateProductItem, OrderStatus, ParsedDiscountedPrice, ParsedPrice } from './orderStatus';\nimport { StoreUser } from './user';\nimport { ROUTES } from './router';\nimport { ErrorPageProps } from './error';\n\n// Нулевой километр\nconst moscowZeroPoint = {\n    latitude: '55.755833',\n    longitude: '37.617778',\n};\n\nexport const initialState = {\n    /* Общий стейт */\n\n    // здесь важно поставить undefined, подробности смотри в редюсере роутера\n    router: (undefined as unknown) as RouterState<LocationState>,\n    userData: {\n        customerName: '',\n        phoneNumber: '',\n        addressLocationLatitude: moscowZeroPoint.latitude,\n        addressLocationLongitude: moscowZeroPoint.longitude,\n        // addressLocationLatitude: '55.737209', // Москва, Кутузовский проспект\n        // addressLocationLongitude: '37.538145', // Москва, Кутузовский проспект\n        // addressLocationLatitude: '59.84112819369227', // Питер, Дачный проспект\n        // addressLocationLongitude: '30.25827884674072', // Питер, Дачный проспект\n        // addressLocationLatitude: '59.940184', // Питер, Дворцовая набережная\n        // addressLocationLongitude: '30.315266', // Питер, Дворцовая набережная\n        // deviceLocationLatitude: '55.737209', // Москва, Кутузовский проспект\n        // deviceLocationLongitude: '37.538145', // Москва, Кутузовский проспект\n        deviceLocationLatitude: moscowZeroPoint.latitude,\n        deviceLocationLongitude: moscowZeroPoint.longitude,\n        address: '',\n        city: '',\n        street: '',\n        house: '',\n        building: '',\n        floor: '',\n        entrance: '',\n        apartment: '',\n        doorCode: '',\n    } as StoreUser,\n    errorPage: {\n        title: '',\n        subtitle: '',\n    } as ErrorPageProps,\n    layout: {\n        header: {\n            title: '',\n            subtitle: '',\n            isVisible: false,\n            address: {\n                text: '',\n                isVisible: false,\n            },\n            cart: {\n                isVisible: false,\n                count: 0,\n                price: '0',\n            },\n            isBackButtonVisible: false,\n        },\n    },\n    character: {\n        id:\n            process.env.REACT_APP_ENVIRONMENT === 'development'\n                ? Character.Sber\n                : ((undefined as unknown) as Character),\n    },\n\n    /* Флоу заказа */\n\n    delivery: {\n        minimalPrice: 0,\n        deliveryTime: 0,\n    },\n    cart: {\n        itemsMap: {} as Record<string, CartItem>,\n        order: [] as string[],\n        totalCount: 0,\n        totalPrice: 0, // в копейках\n        orderId: '',\n        date: new Date(),\n    },\n    twoGisSuggestsData: {\n        itemsMap: {} as Record<string, DGBuildingSuggest>,\n        mostRepresentationSuggest: undefined as DGBuildingSuggest | undefined,\n        fetchingStatus: TwoGisSuggestFetchingStatus.INITIAL,\n    },\n    productsData: {\n        itemsMap: {} as Record<string, StoreProductItem>,\n    },\n    productsDiffData: {\n        itemsMap: {} as Record<string, StoreProductItemDiff>,\n    },\n    userModel: {\n        customerName: '',\n        phoneNumber: '',\n        addressLocationLatitude: '',\n        addressLocationLongitude: '',\n        deviceLocationLatitude: '',\n        deviceLocationLongitude: '',\n        address: '',\n        city: '',\n        street: '',\n        house: '',\n        building: '',\n        floor: '',\n        entrance: '',\n        apartment: '',\n        doorCode: '',\n        isPhoneValid: false,\n    } as StoreUser,\n    catalogPage: {\n        selectedItemId: '',\n        order: [] as string[],\n        itemsMap: {} as Record<string, CatalogListItemViewProps>,\n        itemsFocusHashMap: {} as Record<string, number>,\n        screenIndexMap: {} as Record<string, number>,\n        wrapperXShift: 0,\n        listIndexOffset: 0,\n    },\n    catalogPageTouch: {\n        order: [] as string[],\n        itemsMap: {} as Record<string, CatalogListItemTouchViewProps>,\n        screenIndexMap: {} as Record<string, number>,\n    },\n    cartPage: {\n        wrapperYShift: 0,\n        selectedItemIndex: 0,\n        topGradientVisible: true,\n        bottomGradientVisible: true,\n        order: [] as string[],\n        itemsMap: {} as Record<string, CartListItemViewProps>,\n        totalPrice: '',\n        toMinimumPrice: 0,\n        hasRequiredData: false,\n        /**\n         * Здесь не объект пропсов для кнопки из-за того что иммер не может нормально прожевать React.refObject и,\n         * соответственно, тайпинги написаны так, чтобы такого не допустить\n         * */\n        makePurchaseButtonView: ButtonViews.primary,\n        isMakePurchaseButtonDisabled: false,\n        phoneNumber: '',\n        personalAddress: '',\n        deliveryTime: 0,\n    },\n    cartPageTouch: {\n        order: [] as string[],\n        itemsMap: {} as Record<string, CartListItemTouchViewProps>,\n        totalPrice: '',\n        toMinimumPrice: 0,\n        hasRequiredData: false,\n        phoneNumber: '',\n        personalAddress: '',\n        deliveryTime: 0,\n    },\n    addressSimplePage: {\n        inputValue: '',\n        suggestsListIndex: 0,\n        selectedSuggestItemId: '',\n        isKeyboardHintVisible: false,\n        isAddressSubmitting: false,\n        addressSubmittingTimerId: 0,\n        suggests: [] as string[],\n    },\n    addressFullPage: {\n        addressInputValue: '',\n        phoneNumberInputValue: '',\n        apartmentInputValue: '',\n        entranceInputValue: '',\n        floorInputValue: '',\n        doorCodeInputValue: '',\n        isPhoneValid: false,\n        isSubmitButtonDisabled: false,\n        nextFocus: ROUTES.ADDRESS_FULL_ALL as string,\n    },\n\n    /* Флоу статуса заказа */\n\n    orderStatusData: {\n        reportPhone: '900',\n        productList: [] as OrderStateProductItem[],\n        orderDate: undefined as Date | undefined,\n        orderStatus: OrderStatus.INITIAL,\n        orderId: '',\n        comment: '',\n        isChanged: false,\n        deliveryPrice: {} as ParsedDiscountedPrice,\n        orderDiscount: {} as ParsedPrice,\n        originalTotalPrice: {} as ParsedDiscountedPrice,\n        originalOrderPrice: {} as ParsedPrice,\n        formedTotalPrice: {} as ParsedDiscountedPrice,\n        formedOrderPrice: {} as ParsedPrice,\n    },\n    orderStatusDetailsPage: {\n        phoneNumber: '',\n        personalAddress: '',\n        order: [] as string[],\n        itemsMap: {} as Record<string, StatusDetailsListItemViewProps>,\n        wrapperYShift: 0,\n        selectedItemId: '',\n        selectedItemIndex: 0,\n        topGradientVisible: true,\n        bottomGradientVisible: true,\n        totalPrice: 0,\n    },\n};\n\nexport const vpsTimeout = 7000;\n// через это время ответ точно не прилетит\nexport const scenarioResponseTimeout = vpsTimeout + 1000;\n\nexport type AppState = typeof initialState;\n\nexport type AppCommonAction = ReturnType<AppActionTypes[keyof AppActionTypes]>;\nexport type AppBaseAction = AppCommonAction | RouterAction<LocationState>;\nexport type AppThunkAction = ThunkAction<void, AppState, {}, AppBaseAction>;\nexport type AppAction = AppThunkAction | AppBaseAction;\nexport type AppDispatch = (action: AppAction) => AppBaseAction;\nexport type AppReducer = (state: AppState, action: AppBaseAction) => void;\nexport interface AppMiddleware {\n    (api: AppMiddlewareAPI): (next: AppDispatch) => (action: AppBaseAction) => AppBaseAction;\n}\n\nexport interface AppMiddlewareAPI {\n    dispatch: AppDispatch;\n    getState(): AppState;\n}\n\nexport interface CartItem {\n    itemId: string;\n    count: number;\n}\n","import { push, replace, goBack } from 'connected-react-router';\nimport { addressSubmitFailAction } from 'store/actions/addressSimplePage';\nimport {\n    addressGuideAction,\n    addressInputAction,\n    addressInputAddAction,\n    addressInputDeclineAction,\n    goToCatalogAction,\n    goToNoAreaAction,\n    goToPromo,\n    validationOkAction,\n} from 'store/actions/native';\nimport { goBackToStart } from 'store/actions/router';\nimport { addressSubmitAction } from 'store/actions/server';\nimport { AppThunkAction, scenarioResponseTimeout } from 'store/constants';\nimport {\n    AddressInputAddPayload,\n    AddressInputPayload,\n    GoToCatalogCommandPayload,\n    GoToNoAreaCommandPayload,\n    GoToPromoCommandPayload,\n    ValidationOkCommandPayload,\n} from 'store/constants/native';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\nimport { addressFullSuccessThunk } from 'store/thunks/addressFullPage';\nimport { isMobile } from 'tools/environment';\nimport { getWaitNextNavigationEventPromise } from 'tools/history';\n\nexport const goBackToStartAndReplaceThunk = (route: ROUTES): AppThunkAction => async (dispatch) => {\n    if (window.history.length > 1) {\n        dispatch(goBackToStart());\n\n        await getWaitNextNavigationEventPromise();\n    }\n\n    dispatch(replace(route));\n};\n\nexport const goToCatalogThunk = (payload: GoToCatalogCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(goToCatalogAction(payload));\n\n    // чтобы при перезагрузке страницы постоянно не переходить в каталог\n    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n        return;\n    }\n\n    dispatch(goBackToStartAndReplaceThunk(ROUTES.CATALOG));\n};\n\nexport const goToNoAreaThunk = (payload: GoToNoAreaCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(goToNoAreaAction(payload));\n    dispatch(push(ROUTES.NO_AREA));\n};\n\nexport const goToPromoThunk = (payload: GoToPromoCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(goToPromo(payload));\n\n    // чтобы при перезагрузке страницы постоянно не переходить в промо\n    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n        return;\n    }\n\n    dispatch(replace(ROUTES.PROMO));\n};\n\nexport const validationOkThunk = (payload: ValidationOkCommandPayload): AppThunkAction => (dispatch) => {\n    dispatch(validationOkAction(payload));\n\n    dispatch(goBackToStartAndReplaceThunk(ROUTES.SUCCESS));\n};\n\nexport const addressInputThunk = (payload: AddressInputPayload): AppThunkAction => (dispatch) => {\n    dispatch(addressInputAction(payload));\n\n    // чтобы при перезагрузке страницы постоянно не переходить на страницу с вопросом\n    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n        return;\n    }\n\n    dispatch(push(ROUTES.ADDRESS_SIMPLE_QUESTION));\n};\n\nexport const addressSubmitThunk = (): AppThunkAction => (dispatch) => {\n    // TODO: убрать таймаут и сделать на промисах\n    // https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-269\n    const timerId = setTimeout(() => {\n        dispatch(addressSubmitFailAction());\n    }, scenarioResponseTimeout);\n\n    dispatch(addressSubmitAction(timerId));\n};\n\nexport const addressGuideThunk = (): AppThunkAction => (dispatch) => {\n    dispatch(addressGuideAction());\n\n    if (isMobile) {\n        dispatch(push(ROUTES.ADDRESS_SIMPLE));\n    } else {\n        dispatch(push(ROUTES.ADDRESS_SIMPLE_GUIDE));\n    }\n};\n\nexport const addressInputDeclineThunk = (): AppThunkAction => (dispatch, getState) => {\n    const {\n        addressSimplePage: { suggests },\n    } = getState();\n    const totalSuggestsCount = suggests.length;\n\n    dispatch(addressInputDeclineAction());\n\n    if (totalSuggestsCount > 1) {\n        dispatch(replace(ROUTES.ADDRESS_SIMPLE));\n    } else {\n        dispatch(goBack());\n    }\n};\n\nexport const addressInputAddThunk = (payload: AddressInputAddPayload): AppThunkAction => (dispatch) => {\n    dispatch(addressInputAddAction(payload));\n    dispatch(push(ROUTES.ADDRESS_SIMPLE_QUESTION));\n};\n\nexport const goToAddressFullAllThunk = (): AppThunkAction => (dispatch, getState) => {\n    const state = getState();\n    const {\n        addressFullPage: { isSubmitButtonDisabled },\n    } = state;\n\n    // значит мы заходим не впервые и нужно показывать все инпуты\n    if (!isSubmitButtonDisabled) {\n        dispatch(push(ROUTES.ADDRESS_FULL_ALL));\n\n        return;\n    }\n\n    dispatch(push(ROUTES.ADDRESS_FULL_PHONE_GUIDE));\n};\n\nexport const goToValidationThunk = (): AppThunkAction => (dispatch, getState) => {\n    const state = getState();\n    const currentPathname = selectPathname(state);\n\n    switch (currentPathname) {\n        // это значит что ввод доп. адреса сохранился успешно\n        case ROUTES.ADDRESS_FULL_ALL: {\n            dispatch(addressFullSuccessThunk());\n            break;\n        }\n        case ROUTES.WAIT: {\n            dispatch(goBack());\n            break;\n        }\n\n        default: {\n            dispatch(push(ROUTES.CART));\n            break;\n        }\n    }\n};\n","import { go } from 'connected-react-router';\n\nexport const goBackToStart = () => {\n    const delta =\n        // prettier-ignore\n        (\n            window.history.length\n            // потому что мы должны прийти в 1, а не в 0; у history.length не может быть 0\n            - 1\n            // при отладке в браузере на выкинет на стартовую страницу хрома\n            - (process.env.REACT_APP_ENVIRONMENT !== 'production' ? 1 : 0)\n        )\n        // мы считаем отрицательную дельту, чтобы снавигироваться назад\n        * -1;\n\n    return go(delta);\n};\n","import { createAction, createEmptyAction } from 'tools/create-action';\n\n/* Изменить адрес */\nexport const addressChangeInputValueAction = (payload: string) => createAction('address/CHANGE_INPUT_VALUE', payload);\n\n/* Выбрать предложенный */\nexport const addressSelectSuggestItemAction = (payload: string) => createAction('address/SELECT_SUGGEST_ITEM', payload);\n\n/* Ошибка подтверждения */\nexport const addressSubmitFailAction = () => createEmptyAction('address/SUBMIT_FAIL');\n\n/* Показать подсказку об открытии клавиатуры */\nexport const addressShowKeyboardHintAction = () => createEmptyAction('address/SHOW_KEYBOARD_HINT');\n","import { SberVisorAnalytics, SberVisorPushParams, SberVisorPushProps } from '@sberdevices/analytics/lib/sbervisor';\nimport amplitude, { AmplitudeClient } from 'amplitude-js';\nimport { isSberBox, isPortal, isPROMStand } from 'tools/environment';\n\nconst sberVisorApiKey = '6a619dbfc07f390933233c530907f92fc89607711eed7508d4d59cb8636b674a';\nconst sberVisorEndpoint = 'https://sa.online.sberbank.ru:8098/metrics/partners';\n\nconst amplitudeApiKey = isPROMStand ? '7708ad44aba64d66d6f0f7aa06da4378' : '8a7afa2bca611718d7ed11baaea3d14d';\n\nconst getCurrentDeviceFamily = () => {\n    if (isSberBox) {\n        return 'sberbox';\n    }\n\n    if (isPortal) {\n        return 'stargate';\n    }\n\n    return 'unknown';\n};\n\ntype AnalyticsPushParams = SberVisorPushParams;\n\ninterface AnalyticsOptions {\n    tags?: string[];\n    properties?: SberVisorPushProps;\n}\n\ninterface AnalyticsEngine {\n    type: string;\n    setUserId(userId: string): void;\n    setDeviceId(deviceId: string): void;\n    push(params: AnalyticsPushParams): void;\n}\n\nclass SberAnalytics implements AnalyticsEngine {\n    public type = 'sber';\n\n    private userId = '';\n\n    private deviceId = '';\n\n    private instance = new SberVisorAnalytics({\n        url: sberVisorEndpoint,\n        apiKey: sberVisorApiKey,\n        buffer: 1,\n    });\n\n    public setUserId(userId: string): void {\n        this.userId = userId;\n    }\n\n    public setDeviceId(deviceId: string): void {\n        this.deviceId = deviceId;\n    }\n\n    public push(params: AnalyticsPushParams) {\n        this.instance.sendEvent(() => ({\n            ...params,\n            properties: { ...params.properties, userId: this.userId, deviceId: this.deviceId },\n        }));\n    }\n}\n\nclass AmpAnalytics implements AnalyticsEngine {\n    public type = 'amp';\n\n    private instance: AmplitudeClient = amplitude.getInstance();\n\n    public constructor() {\n        this.instance.init(amplitudeApiKey);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        // eslint-disable-next-line no-underscore-dangle\n        (this.instance as any)._ua = {\n            browser: {\n                name: null,\n                major: null,\n            },\n            os: {\n                name: getCurrentDeviceFamily(),\n            },\n        };\n    }\n\n    public setUserId(userId: string): void {\n        this.instance.setUserId(userId);\n    }\n\n    public setDeviceId(deviceId: string): void {\n        this.instance.setDeviceId(deviceId);\n    }\n\n    public push(params: AnalyticsPushParams) {\n        const { eventAction: event, ...data } = params;\n        this.instance.logEvent(event, data);\n    }\n}\n\nfunction createAnalyticsEngine(): AnalyticsEngine[] {\n    const amp = new AmpAnalytics();\n    const sber = new SberAnalytics();\n    return [amp, sber];\n}\n\nclass Analytics {\n    private analytics: AnalyticsEngine[];\n\n    private deviceId = '';\n\n    public constructor(analytics: AnalyticsEngine[]) {\n        this.analytics = analytics;\n\n        const userId = (Date.now() + Math.floor(Math.random() * 1000)).toString();\n\n        this.setUserId(userId);\n\n        // eslint-disable-next-line no-console\n        console.log('userId', userId);\n\n        this.push({\n            eventAction: 'Cтарт',\n            eventCategory: 'foodtech',\n            eventType: 'init',\n            value: 'start',\n        });\n    }\n\n    public getDeviceId() {\n        return this.deviceId;\n    }\n\n    public setUserId(userId: string) {\n        this.analytics.forEach((a) => a.setUserId(userId));\n    }\n\n    public setDeviceId(deviceId: string) {\n        this.analytics.forEach((a) => a.setDeviceId(deviceId));\n        this.deviceId = deviceId;\n    }\n\n    public push(params: AnalyticsPushParams) {\n        this.analytics.forEach((a) => a.push(params));\n    }\n\n    public remoteNavigate(label: string, opts?: AnalyticsOptions) {\n        this.push({\n            eventAction: label,\n            eventCategory: 'foodtech',\n            eventType: 'navigate',\n            value: label,\n            properties: opts?.properties,\n            tags: opts?.tags,\n        });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public redux(label: string, action: any, opts?: AnalyticsOptions) {\n        const { payload = {} } = action;\n\n        this.push({\n            eventAction: label,\n            eventCategory: 'foodtech',\n            eventType: 'redux',\n            value: opts?.toString() || '',\n            properties: { payload, ...opts?.properties },\n            tags: opts?.tags,\n        });\n    }\n}\n\nexport const analyticsInstance = new Analytics(createAnalyticsEngine());\n","import { analyticsInstance } from 'api/analytics';\n\ndocument.addEventListener('keydown', (e: KeyboardEvent) => {\n    const allowedKeys = ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Enter'];\n    const { key } = e;\n    if (allowedKeys.includes(key)) {\n        analyticsInstance.remoteNavigate(key);\n    }\n});\n\nexport const analytics = analyticsInstance;\n","import { AppReducer, AppState } from 'store/constants';\nimport { StoreProductItem, ProductItem } from 'store/constants/products';\nimport { selectProductById, selectProductDiffById } from 'store/selectors';\n\nconst normalizeProductItem = (productItem: ProductItem): StoreProductItem => ({\n    name: productItem.name,\n    id: productItem.guid,\n    price: Number(productItem.price),\n    quantityLeft: Number(productItem.quantity_left),\n    imageUrl: productItem.images_urls[0] || '',\n});\n\nexport const normalizeProducts = (productsMaps: Record<string, ProductItem>): Record<string, StoreProductItem> =>\n    Object.keys(productsMaps).reduce<Record<string, StoreProductItem>>((acc, itemId) => {\n        acc[itemId] = normalizeProductItem(productsMaps[itemId]);\n\n        return acc;\n    }, {});\n\nexport const computeProductItemsMapBasedOnChanges = (state: AppState) => {\n    return Object.keys(state.productsData.itemsMap).reduce<AppState['productsData']['itemsMap']>((result, itemId) => {\n        const productItem = selectProductById(state, itemId);\n        const productItemDiff = selectProductDiffById(state, itemId);\n\n        result[itemId] = Object.assign(productItem, productItemDiff);\n\n        return result;\n    }, {});\n};\n\nexport const productsData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'SHOW_ITEMS': {\n            state.productsData.itemsMap = normalizeProducts(action.payload.stock);\n            break;\n        }\n\n        case 'APPLY_ITEMS_CHANGES': {\n            state.productsData.itemsMap = computeProductItemsMapBasedOnChanges(state);\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { AppReducer } from 'store/constants';\nimport { ProductItemDiff, StoreProductItemDiff } from 'store/constants/products';\n\nconst normalizeProductItemsDiffMap = (productsDiffMap: Record<string, ProductItemDiff>) =>\n    Object.entries(productsDiffMap).reduce((result, [itemId, productItemDiff]) => {\n        const { quantity_left: quantityLeftString, price: priceString } = productItemDiff;\n\n        if (!quantityLeftString && !priceString) {\n            return result;\n        }\n\n        result[itemId] = {};\n\n        if (quantityLeftString) {\n            result[itemId].quantityLeft = Number(quantityLeftString);\n        }\n\n        if (priceString) {\n            result[itemId].price = Number(priceString);\n        }\n\n        return result;\n    }, {} as Record<string, StoreProductItemDiff>);\n\nexport const productsDiffData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'ITEMS_CHANGES': {\n            state.productsDiffData.itemsMap = normalizeProductItemsDiffMap(action.payload.changes);\n\n            break;\n        }\n\n        case 'APPLY_ITEMS_CHANGES': {\n            state.productsDiffData.itemsMap = {};\n\n            break;\n        }\n\n        default: {\n            break;\n        }\n    }\n};\n","import { AppReducer, initialState } from 'store/constants';\nimport { GoToCatalogCommandPayload, GoToNoAreaCommandPayload } from 'store/constants/native';\nimport { StoreUser } from 'store/constants/user';\n\nconst normalizeUserData = (payload: GoToCatalogCommandPayload | GoToNoAreaCommandPayload): StoreUser => {\n    const { address, device_location: deviceLocation } = payload;\n\n    // TODO: FOODTECHUI-325: Сделать обязательными поля address и device_location в команде GO_TO_NO_AREA\n    const addressData = address && {\n        customerName: address.customer_name,\n        phoneNumber: address.phone_num,\n        addressLocationLatitude: address.address.location.latitude,\n        addressLocationLongitude: address.address.location.longitude,\n        address: address.address.address_string,\n        city: address.address.city,\n        street: address.address.street,\n        house: address.address.house,\n        building: address.address.building,\n        floor: address.address.floor,\n        entrance: address.address.entrance,\n        apartment: address.address.apartment,\n        doorCode: address.address.door_code,\n        isPhoneValid: true,\n    };\n\n    // TODO: FOODTECHUI-325: Сделать обязательными поля address и device_location в команде GO_TO_NO_AREA\n    const locationData = deviceLocation && {\n        deviceLocationLatitude: deviceLocation.latitude,\n        deviceLocationLongitude: deviceLocation.longitude,\n    };\n\n    // TODO: FOODTECHUI-325: Сделать обязательными поля address и device_location в команде GO_TO_NO_AREA\n    return {\n        ...initialState.userData,\n        ...addressData,\n        ...locationData,\n    };\n};\n\nexport const userData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'GO_TO_PROMO': {\n            const { latitude, longitude } = action.payload.device_location;\n            state.userData.deviceLocationLatitude = latitude;\n            state.userData.deviceLocationLongitude = longitude;\n            break;\n        }\n\n        case 'GO_TO_CATALOG': {\n            state.userData = normalizeUserData(action.payload);\n            break;\n        }\n\n        case 'GO_TO_NO_AREA': {\n            state.userData = normalizeUserData(action.payload);\n            break;\n        }\n\n        case 'ADDRESS_FULL_SUCCESS': {\n            state.userData.phoneNumber = state.userModel.phoneNumber;\n            state.userData.apartment = state.userModel.apartment;\n            state.userData.entrance = state.userModel.entrance;\n            state.userData.floor = state.userModel.floor;\n            state.userData.doorCode = state.userModel.doorCode;\n\n            break;\n        }\n\n        case 'LAST_ORDER_INFO': {\n            const payload = action.payload.info;\n\n            state.userData = {\n                addressLocationLatitude: payload.address.location.latitude,\n                addressLocationLongitude: payload.address.location.longitude,\n                customerName: payload.customer.name,\n                phoneNumber: payload.customer.phone,\n                city: payload.address.city,\n                street: payload.address.street,\n                house: payload.address.house,\n                floor: payload.address.floor,\n                entrance: payload.address.entrance,\n                apartment: payload.address.apartment,\n                doorCode: payload.address.door_code,\n                address: `${payload.address.street}, ${payload.address.house}`,\n                building: '',\n                deviceLocationLatitude: payload.address.location.latitude,\n                deviceLocationLongitude: payload.address.location.longitude,\n                isPhoneValid: true,\n            };\n\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { AppReducer } from '../../constants';\n\nexport const deliveryData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'GO_TO_CATALOG': {\n            state.delivery.deliveryTime = action.payload.time;\n            state.delivery.minimalPrice = action.payload.minimal_amount;\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { AppReducer } from 'store/constants';\nimport { isCharacter } from 'typeguards/isCharacter';\n\nexport const characterData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'character/SET_CHARACTER': {\n            if (isCharacter(action.payload)) {\n                state.character.id = action.payload;\n            }\n\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { Character } from 'store/constants/character';\n\nexport function isCharacter(value: any): value is Character[keyof Character] {\n    return Object.values(Character).includes(value);\n}\n","import { AppReducer, initialState } from 'store/constants';\nimport {\n    LastOrderPosition,\n    OrderStateProductItem,\n    Price,\n    ParsedPrice,\n    DiscountedPrice,\n    ParsedDiscountedPrice,\n} from 'store/constants/orderStatus';\n\nconst parsePrice = ({ value, ccy: currency }: Price): ParsedPrice => ({\n    value: parseInt(value, 10) / 100,\n    currency,\n});\n\nconst parseDiscountedPrice = ({ discountValue, ...price }: DiscountedPrice): ParsedDiscountedPrice => ({\n    ...parsePrice(price),\n    discountValue: parseInt(discountValue, 10) / 100,\n});\n\nconst getOrderStateProductItem = (position: LastOrderPosition): OrderStateProductItem => ({\n    ...position,\n    originalPrice: parseDiscountedPrice(position.originalPrice),\n    originalTotalPrice: parseDiscountedPrice(position.originalTotalPrice),\n    originalQuantity: parseInt(position.originalQuantity, 10),\n    formedPrice: parseDiscountedPrice(position.formedPrice),\n    formedQuantity: parseInt(position.formedQuantity, 10),\n    formedTotalPrice: parseDiscountedPrice(position.formedTotalPrice),\n    imageUrl: position.images_urls[0],\n});\n\nconst parseBoolean = (value: string): boolean => value === 'False';\n\nexport const orderStatusData: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'LAST_ORDER_INFO': {\n            const payload = action.payload.info;\n\n            state.orderStatusData = {\n                ...initialState.orderStatusData,\n                productList: payload.positions.map(getOrderStateProductItem),\n                orderDate: new Date(payload.expectedDateTime),\n                orderStatus: payload.orderStatus,\n                orderId: payload.orderId,\n                comment: payload.comment !== 'None' ? payload.comment : '',\n                isChanged: parseBoolean(payload.changedOnFormed),\n                deliveryPrice: parseDiscountedPrice(payload.deliveryPrice),\n                orderDiscount: parsePrice(payload.orderDiscount),\n                originalTotalPrice: parseDiscountedPrice(payload.originalTotalPrice),\n                originalOrderPrice: parsePrice(payload.originalOrderPrice),\n                formedTotalPrice: parseDiscountedPrice(payload.formedTotalPrice),\n                formedOrderPrice: parsePrice(payload.formedOrderPrice),\n            };\n\n            break;\n        }\n\n        case 'LAST_ORDER_EMPTY':\n        case 'LAST_ORDER_ERROR':\n        case 'ASK_FOR_LAST_ORDER_INFO': {\n            state.orderStatusData = { ...initialState.orderStatusData };\n\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n","import { getCountById, getPriceById, getQuantityLeftById } from 'store/reducers/helpers/catalogPage';\nimport { selectCartItemById, selectProductById } from 'store/selectors';\nimport { AppReducer, AppState, initialState } from 'store/constants';\n\nconst getTotalCount = (state: AppState) =>\n    Object.values(state.cart.itemsMap).reduce((acc, { itemId }) => {\n        acc += getCountById(state, itemId);\n\n        return acc;\n    }, 0);\n\nconst getTotalPrice = (state: AppState) =>\n    state.cart.order.reduce((acc, itemId) => {\n        const count = getCountById(state, itemId);\n        const price = getPriceById(state, itemId);\n\n        acc += count * price;\n\n        return acc;\n    }, 0);\n\nexport const cartModel: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_ITEM': {\n            const { count: countString, item: itemId } = action.payload;\n            const count = Number(countString);\n            const productItem = selectProductById(state, itemId);\n            const quantityLeft = getQuantityLeftById(state, itemId);\n\n            if (!productItem) {\n                return;\n            }\n\n            const cartItem = selectCartItemById(state, itemId);\n\n            if (cartItem) {\n                cartItem.count = Math.min(quantityLeft, cartItem.count + count);\n            } else if (count <= quantityLeft) {\n                state.cart.itemsMap[itemId] = {\n                    itemId,\n                    count,\n                };\n\n                state.cart.order.push(itemId);\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ITEM': {\n            const { item: itemId, count: countString, shouldRemoveMention } = action.payload;\n            const count = Number(countString);\n\n            const cartItem = selectCartItemById(state, itemId);\n            const productItem = selectProductById(state, itemId);\n            const actualCount = getCountById(state, itemId);\n\n            if (!cartItem || !productItem) {\n                return;\n            }\n\n            cartItem.count = Math.max(0, actualCount - count);\n\n            if (!cartItem.count && shouldRemoveMention) {\n                delete state.cart.itemsMap[itemId];\n                state.cart.order = state.cart.order.filter((cartItemId) => cartItemId !== itemId);\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ALL': {\n            state.cart = { ...initialState.cart };\n\n            break;\n        }\n\n        case 'GO_TO_CATALOG': {\n            if (action.payload.clear) {\n                state.cart = { ...initialState.cart };\n            }\n\n            break;\n        }\n\n        case 'VALIDATION_OK': {\n            state.cart = { ...initialState.cart };\n            state.cart.orderId = action.payload.order_id;\n            state.cart.date = new Date(action.payload.date);\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    state.cart.totalCount = getTotalCount(state);\n    state.cart.totalPrice = getTotalPrice(state);\n};\n","import { parsePhoneNumberFromString, AsYouType, CountryCode, NumberType } from 'libphonenumber-js';\nimport { memoize } from 'tools/memoize';\n\n// TODO: FOODTECHUI-224 Валидация и форматирование иностранных номеров\n\nconst defaultDefaultCountryCode = 'RU';\n\n// чистим ввод от всего лишнего\n// +7 (123123) 12-3=12+3 => +7123123123123\nexport const filterPhoneInput = (input?: string | null) =>\n    (input ?? '')\n        .replace(/\\+/g, (match, offset) => (offset > 0 ? '' : match)) // удаляем все плюсы, кроме первого\n        .replace(/[^\\d+]/g, ''); // ищем все, кроме цифр и плюсов, и удаляем\n\n// парсим телефон и форматируем в международный формат\n//\n// NB: эта функция предназначена для обработанных и отфильтрованных данных\n// поэтому она и позволяет всякие извращения типа 8 800\nexport const formatPhone = memoize(\n    (input: string, defaultCountryCode: CountryCode = defaultDefaultCountryCode): string => {\n        // делаем очевидное исключение\n        if (input === '900') {\n            return input;\n        }\n\n        const parsedPhone = parsePhoneNumberFromString(input, defaultCountryCode);\n\n        if (!parsedPhone) {\n            return '';\n        }\n\n        const formattedPhone = parsedPhone.formatInternational();\n\n        // делаем исключение для платных номеров вида 8 800...\n        if (formattedPhone.startsWith('+7 800')) {\n            return formattedPhone.replace(/^\\+7/, '8');\n        }\n\n        return formattedPhone;\n    },\n);\n\n// парсим вводимый телефон, предполагая, что он может быть в национальном формате\nconst parseNationalNumberInput = (input: string, defaultCountryCode: CountryCode) => {\n    const typeFormatter = new AsYouType(defaultCountryCode);\n\n    const formattedInput = typeFormatter.input(filterPhoneInput(input));\n\n    const parsedNumber = typeFormatter.getNumber();\n\n    return { formattedInput, parsedNumber };\n};\n\nconst formatInternationalNumberInput = (input: string) => new AsYouType().input(input);\n\n// форматируем номер во время вводв\nexport const formatPhoneInput = memoize(\n    (input: string, defaultCountryCode: CountryCode = defaultDefaultCountryCode): string => {\n        const { formattedInput, parsedNumber } = parseNationalNumberInput(input, defaultCountryCode);\n\n        const parsedInternationalNumberInput = String(parsedNumber?.number ?? '');\n\n        // хак, чтобы исключить форматирование частичного ввода 8 (987) 654-32-1 как +78987654321\n        // негеографические коды 800–899 относятся к специальным, сервисным или резервным,\n        // поэтому мы можем тут безопасно на них забить и заменить начальную 8 на +7\n        if (input.startsWith('8') && parsedInternationalNumberInput.startsWith('+78')) {\n            return formatPhoneInput(`+7${input.slice(1)}`);\n        }\n\n        // хак, чтобы при первой же возможности приводить номера к международному формату\n        if (parsedInternationalNumberInput) {\n            return formatInternationalNumberInput(parsedInternationalNumberInput);\n        }\n\n        return formattedInput;\n    },\n);\n\n// приводит номер к международному формату и чистит от форматирования\nexport const normalizePhoneInput = (\n    input: string,\n    defaultCountryCode: CountryCode = defaultDefaultCountryCode,\n): string => {\n    return filterPhoneInput(formatPhoneInput(input, defaultCountryCode));\n};\n\n// разрешаем мобильные и стацмонарные телефоны\n// в некоторых странах (например, Украина) такие телефоны не имеют маркировки и пишутся как undefined\nconst allowedPhoneTypes: NumberType[] = [undefined, 'FIXED_LINE', 'FIXED_LINE_OR_MOBILE', 'MOBILE'];\n\nconst allowedCountries: CountryCode[] = ['RU'];\n\nexport const isValidPhone = memoize(\n    (input: string, defaultCountryCode: CountryCode = defaultDefaultCountryCode): boolean => {\n        const phoneNumber = parsePhoneNumberFromString(input, defaultCountryCode);\n\n        return Boolean(\n            phoneNumber?.isValid() &&\n                allowedPhoneTypes.includes(phoneNumber.getType()) &&\n                phoneNumber.country &&\n                allowedCountries.includes(phoneNumber.country),\n        );\n    },\n);\n","import { AppState, initialState, AppReducer } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\nimport { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\nimport { normalizePhoneInput, isValidPhone } from 'tools/phoneNumber';\n\nconst updateUserAddressBasedOnBuilding = ({ userModel }: AppState, suggest: DGBuildingSuggest) => {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    const { point, address, address_name, full_name } = suggest;\n    /**\n     * этот ифак скорее тайпгвард\n     * саджесты без компонентов адреса фильтруются в самом начале\n     */\n    if (!address.components || !address.components.length) {\n        return;\n    }\n\n    const [addressComponent] = address.components;\n    const { street, number } = addressComponent;\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    const [city] = full_name.split(', ');\n\n    userModel.city = city;\n    userModel.street = street;\n    userModel.house = number;\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    userModel.address = address_name;\n    userModel.addressLocationLatitude = String(point.lat);\n    userModel.addressLocationLongitude = String(point.lon);\n};\n\nexport const userModel: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'address/CHANGE_INPUT_VALUE': {\n            state.userModel = { ...initialState.userModel };\n\n            break;\n        }\n\n        case 'REVERT_USER_CHANGES': {\n            state.userModel = { ...state.userData };\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT': {\n            state.userModel = { ...initialState.userModel };\n            state.userModel.address = action.payload.input;\n\n            break;\n        }\n\n        case 'FINISH_FETCHING_TWO_GIS_SUGGESTS': {\n            const suggestItem = state.twoGisSuggestsData.mostRepresentationSuggest;\n\n            if (suggestItem) {\n                updateUserAddressBasedOnBuilding(state, suggestItem);\n            }\n\n            break;\n        }\n\n        case 'address/SELECT_SUGGEST_ITEM': {\n            const suggestItem = state.twoGisSuggestsData.itemsMap[action.payload];\n\n            updateUserAddressBasedOnBuilding(state, suggestItem);\n\n            break;\n        }\n\n        case 'address/SELECT_SUGGEST': {\n            const suggestItem = action.payload;\n\n            if (suggestItem) {\n                updateUserAddressBasedOnBuilding(state, suggestItem);\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT_ADD': {\n            state.userModel = { ...initialState.userModel };\n            state.userModel.address = action.payload.input;\n\n            break;\n        }\n\n        case 'ADDRESS_INPUT_CLEAR': {\n            state.userModel = { ...initialState.userModel };\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_INPUT': {\n            if (action.payload.input.apartment) {\n                state.userModel.apartment = action.payload.input.apartment;\n            }\n\n            if (action.payload.input.floor) {\n                state.userModel.floor = action.payload.input.floor;\n            }\n\n            if (action.payload.input.entrance) {\n                state.userModel.entrance = action.payload.input.entrance;\n            }\n\n            if (action.payload.input.phone_num) {\n                state.userModel.phoneNumber = normalizePhoneInput(action.payload.input.phone_num);\n            }\n\n            if (action.payload.input.door_code) {\n                state.userModel.doorCode = action.payload.input.door_code;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_INPUT_ADD': {\n            const pathname = selectPathname(state);\n\n            switch (pathname) {\n                case ROUTES.ADDRESS_FULL_PHONE: {\n                    state.userModel.phoneNumber = normalizePhoneInput(action.payload.input);\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_APARTMENT: {\n                    state.userModel.apartment = action.payload.input;\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_ENTRANCE: {\n                    state.userModel.entrance = action.payload.input;\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_FLOOR: {\n                    state.userModel.floor = action.payload.input;\n\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_DOOR_CODE: {\n                    state.userModel.doorCode = action.payload.input;\n\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_INPUT_CLEAR': {\n            const pathname = selectPathname(state);\n\n            switch (pathname) {\n                case ROUTES.ADDRESS_FULL_PHONE: {\n                    state.userModel.phoneNumber = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_APARTMENT: {\n                    state.userModel.apartment = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_ENTRANCE: {\n                    state.userModel.entrance = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_FLOOR: {\n                    state.userModel.floor = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_DOOR_CODE: {\n                    state.userModel.doorCode = '';\n                    break;\n                }\n\n                case ROUTES.ADDRESS_FULL_ALL: {\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    const { phone_num, apartment, entrance, floor, door_code } = action.payload.input;\n\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    if (phone_num) {\n                        state.userModel.phoneNumber = '';\n                    }\n\n                    if (apartment) {\n                        state.userModel.apartment = '';\n                    }\n\n                    if (entrance) {\n                        state.userModel.entrance = '';\n                    }\n\n                    if (floor) {\n                        state.userModel.floor = '';\n                    }\n\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    if (door_code) {\n                        state.userModel.doorCode = '';\n                    }\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            break;\n        }\n\n        case 'ADDRESS_FULL_COMMENT': {\n            state.userModel.doorCode = action.payload.input;\n\n            break;\n        }\n\n        case 'addressFull/PHONE_NUMBER_INPUT_CHANGE': {\n            const { inputType, data } = action.payload;\n\n            if (inputType === 'insertText') {\n                state.userModel.phoneNumber = normalizePhoneInput(`${state.userModel.phoneNumber}${data}`);\n            } else {\n                state.userModel.phoneNumber = state.userModel.phoneNumber.slice(0, -1);\n            }\n\n            break;\n        }\n\n        case 'addressFull/APARTMENT_INPUT_CHANGE': {\n            state.userModel.apartment = action.payload;\n\n            break;\n        }\n\n        case 'addressFull/ENTRANCE_INPUT_CHANGE': {\n            state.userModel.entrance = action.payload;\n\n            break;\n        }\n\n        case 'addressFull/FLOOR_INPUT_CHANGE': {\n            state.userModel.floor = action.payload;\n\n            break;\n        }\n\n        case 'addressFull/DOORCODE_INPUT_CHANGE': {\n            state.userModel.doorCode = action.payload;\n\n            break;\n        }\n\n        case 'GO_TO_NO_AREA':\n        case 'GO_TO_CATALOG': {\n            state.userModel = { ...state.userData };\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    state.userModel.isPhoneValid = isValidPhone(state.userModel.phoneNumber);\n};\n","import { CatalogListItemViewProps } from 'pages/Catalog/ListItem/CatalogListItem';\nimport { AppState, AppReducer, initialState } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport {\n    canAddMore,\n    getCountById,\n    getDisabled,\n    getOldPriceById,\n    preparePriceById,\n    getQuantityLeftById,\n    formatSale,\n    wantMoreThanHave,\n} from 'store/reducers/helpers/catalogPage';\nimport { selectProductById, selectPathname, selectProductDiffById } from 'store/selectors';\n\nconst screenWidth = 1920;\nconst cardWidth = 392;\nconst cardGap = 32;\n\nconst screenItemCount = Math.floor(screenWidth / (cardWidth + cardGap));\n\nconst listOffset = (-1 * (screenWidth % (cardWidth + cardGap))) / 2;\n\nconst itemWidth = cardWidth + cardGap;\n\nconst getListIndexOffset = ({ catalogPage: { selectedItemId, order, listIndexOffset } }: AppState) => {\n    const currentListIndex = listIndexOffset;\n    const selectedItemIndex = order.indexOf(selectedItemId);\n\n    if (selectedItemIndex === -1) {\n        return 0;\n    }\n\n    if (selectedItemIndex <= currentListIndex) {\n        return Math.max(0, selectedItemIndex - 1);\n    }\n\n    if (selectedItemIndex >= currentListIndex + screenItemCount - 1) {\n        const maxValue = order.length - screenItemCount;\n        return Math.min(maxValue, selectedItemIndex - 2);\n    }\n\n    return currentListIndex;\n};\n\nconst getWrapperXShift = ({ catalogPage: { listIndexOffset } }: AppState) =>\n    listOffset + listIndexOffset * itemWidth - cardGap / 2;\n\nconst getScreenIndexMap = ({ catalogPage: { listIndexOffset, order } }: AppState): Record<string, number> =>\n    new Array(screenItemCount).fill(0).reduce(\n        (result, _, index) => ({\n            ...result,\n            [order[index + listIndexOffset]]: index + 1,\n        }),\n        {} as Record<string, number>,\n    );\n\nconst prepareBadge = (state: AppState, itemId: string): CatalogListItemViewProps['badge'] => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n    const count = getCountById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n    const productItem = selectProductById(state, itemId);\n\n    // раскупили\n    if (quantityLeft === 0) {\n        return { type: 'sold-out' };\n    }\n\n    // больше не осталось\n    if (count === quantityLeft) {\n        return { type: 'few-left' };\n    }\n\n    // изменение цены\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        // подорожание\n        if (productItemDiff.price > productItem.price) {\n            return { type: 'price-changed' };\n        }\n\n        // скидка\n        if (productItemDiff.price < productItem.price) {\n            const content = formatSale(productItem.price, productItemDiff.price);\n            return { type: 'sale', content };\n        }\n    }\n\n    return undefined;\n};\n\nconst prepareIndex = ({ catalogPage: { screenIndexMap } }: AppState, itemId: string) => screenIndexMap[itemId];\n\nconst prepareCatalogItemsMap = (state: AppState) => {\n    const { productsData } = state;\n\n    return Object.keys(productsData.itemsMap).reduce<AppState['catalogPage']['itemsMap']>((acc, itemId) => {\n        const { name, imageUrl } = selectProductById(state, itemId);\n\n        acc[itemId] = {\n            imageUrl,\n            name,\n            price: preparePriceById(state, itemId),\n            oldPrice: getOldPriceById(state, itemId),\n            isWantMoreThanHave: wantMoreThanHave(state, itemId),\n            count: getCountById(state, itemId),\n            index: prepareIndex(state, itemId),\n            badge: prepareBadge(state, itemId),\n            isButtonDisabled: !canAddMore(state, itemId),\n            disabled: getDisabled(state, itemId),\n        };\n\n        return acc;\n    }, {});\n};\n\nconst prepareItemsFocusHashMap = (state: AppState) => {\n    const {\n        catalogPage: { itemsFocusHashMap, order },\n    } = state;\n\n    const isEmpty = Object.keys(itemsFocusHashMap).length === 0;\n    const [firstItem] = order;\n\n    return isEmpty && firstItem ? { [firstItem]: Math.random() } : itemsFocusHashMap;\n};\n\nexport const catalogPageView: AppReducer = (state, action) => {\n    const { productsData, catalogPage } = state;\n\n    switch (action.type) {\n        case 'ADD_ITEM': {\n            if (selectPathname(state) === ROUTES.CATALOG) {\n                catalogPage.selectedItemId = action.payload.item;\n\n                if (!action.payload.skipFocus) {\n                    catalogPage.itemsFocusHashMap[action.payload.item] = Math.random();\n                }\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ITEM': {\n            if (selectPathname(state) === ROUTES.CATALOG) {\n                catalogPage.selectedItemId = action.payload.item;\n                catalogPage.itemsFocusHashMap[action.payload.item] = Math.random();\n            }\n\n            break;\n        }\n\n        case 'REMOVE_ALL': {\n            catalogPage.selectedItemId = initialState.catalogPage.selectedItemId;\n            catalogPage.itemsFocusHashMap = initialState.catalogPage.itemsFocusHashMap;\n\n            break;\n        }\n\n        case 'catalog/SELECT_ITEM': {\n            catalogPage.selectedItemId = action.payload;\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    catalogPage.order = Object.keys(productsData.itemsMap);\n    catalogPage.listIndexOffset = getListIndexOffset(state);\n    catalogPage.wrapperXShift = getWrapperXShift(state);\n    catalogPage.screenIndexMap = getScreenIndexMap(state);\n    catalogPage.itemsMap = prepareCatalogItemsMap(state);\n    catalogPage.itemsFocusHashMap = prepareItemsFocusHashMap(state);\n};\n","import { CatalogListItemTouchViewProps } from 'pages/Catalog/ListItem/CatalogListItem@touch';\nimport { AppState, AppReducer } from 'store/constants';\nimport { selectCartItemById, selectProductById } from 'store/selectors';\nimport { calculateButtonDisabled, formatPrice, prepareCount } from 'store/reducers/helpers/catalogPage';\n\nconst prepareBadge = (state: AppState, itemId: string): CatalogListItemTouchViewProps['badge'] => {\n    const cartItem = selectCartItemById(state, itemId);\n    const productItem = selectProductById(state, itemId);\n\n    if (productItem.quantityLeft === 0) {\n        return 'sold-out';\n    }\n\n    if (cartItem && cartItem.count === productItem.quantityLeft) {\n        return 'few-left';\n    }\n\n    return undefined;\n};\n\nconst prepareIndex = ({ catalogPageTouch: { order } }: AppState, itemId: string) => order.indexOf(itemId) + 1;\n\nconst prepareCatalogItemsMap = (state: AppState) => {\n    const { productsData } = state;\n\n    return Object.keys(productsData.itemsMap).reduce<AppState['catalogPageTouch']['itemsMap']>((acc, itemId) => {\n        const productItem = selectProductById(state, itemId);\n\n        acc[itemId] = {\n            imageUrl: productItem.imageUrl,\n            name: productItem.name,\n            price: formatPrice(productItem.price),\n            count: prepareCount(state, itemId),\n            index: prepareIndex(state, itemId),\n            badge: prepareBadge(state, itemId),\n            buttonDisabled: calculateButtonDisabled(state, itemId),\n            disabled: productItem.quantityLeft === 0,\n        };\n\n        return acc;\n    }, {});\n};\n\nexport const catalogPageTouchView: AppReducer = (state) => {\n    const { productsData, catalogPageTouch } = state;\n\n    catalogPageTouch.order = Object.keys(productsData.itemsMap);\n    catalogPageTouch.itemsMap = prepareCatalogItemsMap(state);\n};\n","// 1. (?=(\\d{3})+$) - матчит подстроки нулевой длины, после которых идет три цифры подряд\n// 2. (?=...) - positive lookahead, конструкция, которая матчит позицию, после которой срабатывает указанный паттерн\n// 3. (?:\\d{3})+ - повторяющаяся незахватывающая группа, которая матчит подстроки из трех цифр\n// 4. $ - EOL - чтобы выровнять [3] по концу строки\nexport const splitByThousands = (n: number) => n.toString().replace(/(?=(?:\\d{3})+$)/g, ' ');\n","import { AppState } from 'store/constants';\nimport { splitByThousands } from 'tools/split-by-thousands';\nimport { formatPhone } from 'tools/phoneNumber';\n\nimport { formatPrice } from './catalogPage';\n\nexport const prepareTotalPrice = ({ cart: { totalPrice } }: AppState) => splitByThousands(formatPrice(totalPrice));\n\nexport const prepareToMinimumPrice = ({ cart: { totalPrice }, delivery: { minimalPrice } }: AppState) =>\n    Math.max(0, Math.ceil((minimalPrice - totalPrice) / 100));\n\nexport const getFormattedPersonalAddress = ({ userData: { apartment, entrance, floor } }: AppState) =>\n    [\n        apartment && `квартира ${apartment}`, //\n        entrance && `подъезд ${entrance}`,\n        floor && `этаж ${floor}`,\n    ]\n        .filter(Boolean)\n        .join(', ');\n\nexport const prepareHasRequiredData = ({ userData: { phoneNumber, address } }: AppState) =>\n    Boolean(address && phoneNumber);\n\nexport const getWrapperYShift = (index: number, count: number, itemHeight: number) => {\n    if (index === -1) {\n        return 0;\n    }\n\n    // так как индекс начинается с 0, то расчеты бы имели смысл начиная\n    // со второго элемента (индекс = 1), но нам нужно начинать скролл с\n    // 3-го элемента, поэтому сдвигаем значение на 1\n    let relatedIndex = Math.max(0, index - 1);\n\n    // ограничиваем максимальное значение индекса\n    relatedIndex = Math.min(Math.max(0, count - 4), relatedIndex);\n\n    // домножаем отступ на коэффициент высоты айтема\n    return relatedIndex * itemHeight;\n};\n\nexport const prepareTopGradientVisible = (wrapperYShift: number) => wrapperYShift !== 0;\n\nexport const prepareBottomGradientVisible = (wrapperYShift: number, count: number, itemHeight: number) =>\n    count > 4 && wrapperYShift !== (count - 4) * itemHeight;\n\nexport const getFormattedPhoneNumber = ({ userData }: AppState) =>\n    userData.phoneNumber && formatPhone(userData.phoneNumber);\n","import { ButtonViews } from 'components/Button/Button';\nimport { CartListItemViewProps } from 'pages/Cart/ListItem/CartListItem';\nimport {\n    canAddMore,\n    getCountById,\n    getDisabled,\n    getOldPriceById,\n    preparePriceById,\n    getQuantityLeftById,\n    formatSale,\n    wantMoreThanHave,\n} from 'store/reducers/helpers/catalogPage';\nimport {\n    getFormattedPersonalAddress,\n    getFormattedPhoneNumber,\n    prepareHasRequiredData,\n    prepareToMinimumPrice,\n    prepareTotalPrice,\n    getWrapperYShift,\n    prepareTopGradientVisible,\n    prepareBottomGradientVisible,\n} from 'store/reducers/helpers/cartPage';\nimport { selectProductById, selectCartItemById, selectProductDiffById } from 'store/selectors';\nimport { AppReducer, AppState } from 'store/constants';\n\nconst prepareLabel = (state: AppState, itemId: string): CartListItemViewProps['label'] => {\n    const quantityLeft = getQuantityLeftById(state, itemId);\n    const productItem = selectProductById(state, itemId);\n    const productItemDiff = selectProductDiffById(state, itemId);\n    const cartItem = selectCartItemById(state, itemId);\n    const isWantMoreThanHave = wantMoreThanHave(state, itemId);\n\n    // раскупили\n    if (quantityLeft === 0) {\n        return { type: 'sold-out' };\n    }\n\n    // есть меньше чем добавили\n    if (isWantMoreThanHave) {\n        return {\n            type: 'you-want',\n            content: String(cartItem.count),\n        };\n    }\n\n    // изменение цены\n    if (productItemDiff && typeof productItemDiff.price !== 'undefined') {\n        // подорожание\n        if (productItemDiff.price > productItem.price) {\n            return { type: 'price-changed' };\n        }\n\n        // скидка\n        if (productItemDiff.price < productItem.price) {\n            const content = formatSale(productItem.price, productItemDiff.price);\n            return { type: 'sale', content };\n        }\n    }\n\n    return undefined;\n};\n\nconst prepareItemsMap = (state: AppState) => {\n    const { cartPage } = state;\n\n    return cartPage.order.reduce<AppState['cartPage']['itemsMap']>((result, itemId) => {\n        const cartItem = selectCartItemById(state, itemId);\n        const { imageUrl, name } = selectProductById(state, itemId);\n\n        if (cartItem) {\n            result[itemId] = {\n                imageUrl,\n                name,\n                price: preparePriceById(state, itemId),\n                oldPrice: getOldPriceById(state, itemId),\n                count: getCountById(state, itemId),\n                isWantMoreThanHave: wantMoreThanHave(state, itemId),\n                disabled: getDisabled(state, itemId),\n                label: prepareLabel(state, itemId),\n                isMoreButtonDisabled: !canAddMore(state, itemId),\n            };\n        }\n\n        return result;\n    }, {});\n};\n\nconst itemHeight = 152;\n\nconst calculateMakePurchaseDisabled = (state: AppState) => {\n    const {\n        cart: { totalPrice },\n        delivery: { minimalPrice },\n    } = state;\n\n    return totalPrice < minimalPrice;\n};\n\nconst calculateMakePurchaseButtonView = (state: AppState): AppState['cartPage']['makePurchaseButtonView'] => {\n    return state.cartPage.isMakePurchaseButtonDisabled ? ButtonViews.secondary : ButtonViews.primary;\n};\n\nexport const cartPageView: AppReducer = (state, action) => {\n    const { cart, delivery, cartPage } = state;\n\n    switch (action.type) {\n        case 'cart/SELECT_ITEM': {\n            cartPage.selectedItemIndex = cartPage.order.indexOf(action.payload);\n\n            break;\n        }\n\n        default:\n            break;\n    }\n\n    cartPage.order = cart.order;\n    cartPage.deliveryTime = delivery.deliveryTime;\n    cartPage.itemsMap = prepareItemsMap(state);\n    cartPage.totalPrice = prepareTotalPrice(state);\n    cartPage.toMinimumPrice = prepareToMinimumPrice(state);\n    cartPage.wrapperYShift = getWrapperYShift(\n        state.cartPage.selectedItemIndex,\n        state.cartPage.order.length,\n        itemHeight,\n    );\n    cartPage.isMakePurchaseButtonDisabled = calculateMakePurchaseDisabled(state);\n\n    cartPage.makePurchaseButtonView = calculateMakePurchaseButtonView(state);\n    cartPage.topGradientVisible = prepareTopGradientVisible(cartPage.wrapperYShift);\n    cartPage.bottomGradientVisible = prepareBottomGradientVisible(\n        cartPage.wrapperYShift,\n        cartPage.order.length,\n        itemHeight,\n    );\n    cartPage.hasRequiredData = prepareHasRequiredData(state);\n    cartPage.phoneNumber = getFormattedPhoneNumber(state);\n    cartPage.personalAddress = getFormattedPersonalAddress(state);\n};\n","import { selectCartItemById, selectProductById } from 'store/selectors';\nimport { AppReducer, AppState } from 'store/constants';\nimport { canAddMore, getCountById, getDisabled, preparePriceById } from 'store/reducers/helpers/catalogPage';\nimport {\n    getFormattedPersonalAddress,\n    getFormattedPhoneNumber,\n    prepareHasRequiredData,\n    prepareToMinimumPrice,\n    prepareTotalPrice,\n} from 'store/reducers/helpers/cartPage';\n\nconst prepareItemsMap = (state: AppState) => {\n    const { cartPageTouch } = state;\n\n    return cartPageTouch.order.reduce<AppState['cartPageTouch']['itemsMap']>((result, itemId) => {\n        const cartItem = selectCartItemById(state, itemId);\n        const { imageUrl, name } = selectProductById(state, itemId);\n\n        if (cartItem) {\n            result[itemId] = {\n                imageUrl,\n                name,\n                price: preparePriceById(state, itemId),\n                count: getCountById(state, itemId),\n                disabled: getDisabled(state, itemId),\n                isMoreButtonDisabled: !canAddMore(state, itemId),\n            };\n        }\n\n        return result;\n    }, {});\n};\n\nexport const cartPageTouchView: AppReducer = (state) => {\n    const { cart, delivery, cartPageTouch } = state;\n\n    cartPageTouch.order = cart.order;\n    cartPageTouch.deliveryTime = delivery.deliveryTime;\n    cartPageTouch.itemsMap = prepareItemsMap(state);\n    cartPageTouch.totalPrice = prepareTotalPrice(state);\n    cartPageTouch.toMinimumPrice = prepareToMinimumPrice(state);\n    cartPageTouch.hasRequiredData = prepareHasRequiredData(state);\n    cartPageTouch.phoneNumber = getFormattedPhoneNumber(state);\n    cartPageTouch.personalAddress = getFormattedPersonalAddress(state);\n};\n","import { AppState, AppReducer } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport { formatPhoneInput } from 'tools/phoneNumber';\n\nconst computeNextFocus = (state: AppState) => {\n    const { phoneNumber, apartment, entrance, floor, doorCode } = state.userModel;\n\n    const options = {\n        [ROUTES.ADDRESS_FULL_PHONE]: phoneNumber,\n        [ROUTES.ADDRESS_FULL_APARTMENT]: apartment,\n        [ROUTES.ADDRESS_FULL_ENTRANCE]: entrance,\n        [ROUTES.ADDRESS_FULL_FLOOR]: floor,\n        [ROUTES.ADDRESS_FULL_DOOR_CODE]: doorCode,\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const result = Object.entries(options).find(([_, value]) => !value);\n\n    return result ? result[0] : ROUTES.ADDRESS_FULL_ALL;\n};\n\nexport const addressFullPageView: AppReducer = (state) => {\n    state.addressFullPage.nextFocus = computeNextFocus(state);\n    state.addressFullPage.addressInputValue = state.userModel.address;\n    state.addressFullPage.phoneNumberInputValue = formatPhoneInput(state.userModel.phoneNumber);\n    state.addressFullPage.apartmentInputValue = state.userModel.apartment;\n    state.addressFullPage.entranceInputValue = state.userModel.entrance;\n    state.addressFullPage.floorInputValue = state.userModel.floor;\n    state.addressFullPage.doorCodeInputValue = state.userModel.doorCode;\n    state.addressFullPage.isPhoneValid = state.userModel.isPhoneValid;\n    state.addressFullPage.isSubmitButtonDisabled = !(state.userModel.phoneNumber && state.userModel.isPhoneValid);\n};\n","import { splitByThousands } from 'tools/split-by-thousands';\nimport { AppState, AppReducer } from 'store/constants';\nimport { ROUTES } from 'store/constants/router';\nimport { selectPathname } from 'store/selectors';\nimport { OrderStatus } from 'store/constants/orderStatus';\n\nconst getOrderStatusTitle = (state: AppState): string =>\n    state.orderStatusData.orderId ? `Заказ #${state.orderStatusData.orderId}` : 'Статус заказа';\n\nconst routeToTitleMap: Record<string, (state: AppState) => string> = {\n    [ROUTES.CATALOG]: () => 'Самокат',\n    [ROUTES.CART]: () => 'Корзина',\n    [ROUTES.SUCCESS]: (state) => `Заказ #${state.cart.orderId}`,\n    [ROUTES.ERROR]: () => 'Самокат',\n    [ROUTES.NO_AREA]: () => 'Адрес доставки',\n    [ROUTES.ADDRESS_FULL_ALL]: () => 'Адрес доставки и телефон',\n    [ROUTES.ADDRESS_SIMPLE_QUESTION]: () => 'Адрес доставки',\n    [ROUTES.ADDRESS_SIMPLE_GUIDE]: () => 'Адрес доставки',\n    [ROUTES.ADDRESS_SIMPLE]: () => 'Адрес доставки',\n    [ROUTES.ADDRESS_MAP]: () => 'Адрес доставки',\n    [ROUTES.STATUS_SUMMARY]: getOrderStatusTitle,\n    [ROUTES.STATUS_DETAILS]: getOrderStatusTitle,\n    [ROUTES.STATUS_REPORT]: getOrderStatusTitle,\n};\n\nconst formatDate = (date: Date) =>\n    date.toLocaleString('ru-RU', {\n        day: 'numeric',\n        month: 'long',\n        hour: 'numeric',\n        minute: 'numeric',\n    });\n\nconst getTitle = (state: AppState) => {\n    const pathname = selectPathname(state);\n\n    return routeToTitleMap[pathname]?.(state) ?? '';\n};\n\nconst getSubtitle = (state: AppState) => {\n    const pathname = selectPathname(state);\n\n    switch (pathname) {\n        case ROUTES.STATUS_SUMMARY:\n        case ROUTES.STATUS_DETAILS:\n        case ROUTES.STATUS_REPORT: {\n            if (state.orderStatusData.orderStatus !== OrderStatus.INITIAL) {\n                const { orderDate } = state.orderStatusData;\n                return orderDate ? formatDate(orderDate) : '';\n            }\n\n            return '';\n        }\n\n        case ROUTES.SUCCESS: {\n            return formatDate(state.cart.date);\n        }\n\n        default: {\n            return '';\n        }\n    }\n};\n\nconst routesForAddressVisibility = [ROUTES.CATALOG, ROUTES.ADDRESS_SIMPLE] as string[];\n\nconst getAddress = (state: AppState) => ({\n    text: state.userData.address,\n    isVisible: routesForAddressVisibility.includes(selectPathname(state)),\n});\n\nconst getCart = (state: AppState) => ({\n    isVisible: state.cart.totalCount > 0 && selectPathname(state) === ROUTES.CATALOG,\n    count: state.cart.totalCount,\n    price: splitByThousands(Math.ceil(state.cart.totalPrice / 100)),\n});\n\nconst routeToVisibilityMap: Record<string, boolean> = {\n    [ROUTES.CATALOG]: true,\n    [ROUTES.CART]: true,\n    [ROUTES.SUCCESS]: true,\n    [ROUTES.STATUS_DETAILS]: true,\n    [ROUTES.STATUS_SUMMARY]: true,\n    [ROUTES.STATUS_REPORT]: true,\n    [ROUTES.ERROR]: true,\n    [ROUTES.NO_AREA]: true,\n    [ROUTES.ADDRESS_FULL_ALL]: true,\n    [ROUTES.ADDRESS_SIMPLE_QUESTION]: true,\n    [ROUTES.ADDRESS_SIMPLE_GUIDE]: true,\n    [ROUTES.ADDRESS_SIMPLE]: true,\n    [ROUTES.ADDRESS_MAP]: true,\n};\n\nconst isVisible = ({ router }: AppState) => routeToVisibilityMap[router.location.pathname] || false;\n\nexport const headerView: AppReducer = (state) => {\n    const { header } = state.layout;\n\n    header.title = getTitle(state);\n    header.subtitle = getSubtitle(state);\n    header.address = getAddress(state);\n    header.cart = getCart(state);\n    header.isVisible = isVisible(state);\n    header.isBackButtonVisible = Boolean(window.history.length);\n};\n","import { AppReducer, AppState } from 'store/constants';\nimport { OrderErrorPayload } from 'store/constants/native';\n\nconst mapOrderErrorTypeToProps: Record<OrderErrorPayload['type'], AppState['errorPage']> = {\n    partner: {\n        title: 'Не получилось\\n оформить заказ',\n        subtitle: 'Пожалуйста, попробуйте ещё раз',\n        retryButtonText: 'Повторить',\n        closeButtonText: 'Не сейчас',\n    },\n    payment: {\n        title: 'Не получилось\\n оформить заказ',\n        subtitle: 'Пожалуйста, попробуйте ещё раз',\n        retryButtonText: 'Повторить',\n        closeButtonText: 'Не сейчас',\n    },\n    timing: {\n        title: 'Доставка работает\\n с 8:00 до 23:00',\n        subtitle: 'К сожалению, сейчас нельзя оформить заказ',\n        closeButtonText: 'Очень жаль',\n    },\n};\n\nexport const errorPageView: AppReducer = (state, action) => {\n    switch (action.type) {\n        case 'ORDER_ERROR': {\n            state.errorPage = mapOrderErrorTypeToProps[action.payload.type];\n            break;\n        }\n        case 'LAST_ORDER_ERROR': {\n            state.errorPage = {\n                title: 'Не получилось получить статус заказа',\n                subtitle: 'Пожалуйста, попробуйте ещё раз',\n                retryButtonText: 'Повторить',\n                closeButtonText: 'Очень жаль',\n            };\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n};\n","import { AppReducer } from 'store/constants';\nimport { OrderStateProductItem } from 'store/constants/orderStatus';\nimport { formatPhone } from 'tools/phoneNumber';\nimport { StatusDetailsListItemViewProps } from 'pages/StatusDetails/ListItem/StatusDetailsListItem';\n\nimport {\n    getFormattedPersonalAddress,\n    getWrapperYShift,\n    prepareTopGradientVisible,\n    prepareBottomGradientVisible,\n} from '../helpers/cartPage';\n\nconst itemHeight = 152;\n\nconst getItemsMap = (productList: OrderStateProductItem[]) =>\n    productList\n        .map((item) => ({\n            productId: item.productId,\n            imageUrl: item.imageUrl,\n            name: item.name,\n            price: item.formedPrice.discountValue,\n            oldPrice: item.formedPrice.discountValue !== item.formedPrice.value ? item.formedPrice.value : undefined,\n            count: item.formedQuantity,\n            disabled: item.formedQuantity === 0,\n        }))\n        .reduce((acc, item) => {\n            acc[item.productId] = item;\n            return acc;\n        }, {} as Record<string, StatusDetailsListItemViewProps>);\n\nexport const statusPageView: AppReducer = (state, action) => {\n    const { orderStatusDetailsPage, orderStatusData, userData } = state;\n    const { productList, formedOrderPrice } = orderStatusData;\n    const { phoneNumber } = userData;\n\n    switch (action.type) {\n        case 'statusDetails/SELECT_ITEM': {\n            orderStatusDetailsPage.selectedItemId = action.payload;\n            break;\n        }\n\n        default: {\n            break;\n        }\n    }\n\n    // details page\n\n    orderStatusDetailsPage.order = productList.map(({ productId }) => productId);\n    orderStatusDetailsPage.itemsMap = getItemsMap(productList);\n    orderStatusDetailsPage.totalPrice = formedOrderPrice.value;\n\n    orderStatusDetailsPage.phoneNumber = formatPhone(phoneNumber);\n    orderStatusDetailsPage.personalAddress = getFormattedPersonalAddress(state);\n\n    orderStatusDetailsPage.selectedItemIndex = orderStatusDetailsPage.order.indexOf(\n        orderStatusDetailsPage.selectedItemId,\n    );\n\n    orderStatusDetailsPage.wrapperYShift = getWrapperYShift(\n        orderStatusDetailsPage.selectedItemIndex,\n        orderStatusDetailsPage.order.length,\n        itemHeight,\n    );\n\n    orderStatusDetailsPage.topGradientVisible = prepareTopGradientVisible(orderStatusDetailsPage.wrapperYShift);\n    orderStatusDetailsPage.bottomGradientVisible = prepareBottomGradientVisible(\n        orderStatusDetailsPage.wrapperYShift,\n        orderStatusDetailsPage.order.length,\n        itemHeight,\n    );\n};\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable @typescript-eslint/camelcase */\nimport { GO_TO_CATALOG_POOR, GO_TO_CATALOG_COMMAND } from 'mocks/goToCatalog';\nimport { ITEMS_CHANGES_MOCK } from 'mocks/itemsChanges';\nimport { SHOW_ITEMS_MOCK } from 'mocks/showItems';\nimport { lastOrderInfoMock } from 'mocks/lastOrderInfo';\nimport { createStore as createReduxStore, Middleware, applyMiddleware, compose, StoreEnhancer } from 'redux';\nimport { routerMiddleware, push, replace, goBack, LOCATION_CHANGE } from 'connected-react-router';\nimport thunk from 'redux-thunk';\nimport { applyItemsChanges, revertUserChanges } from 'store/actions/app';\nimport { getCountById } from 'store/reducers/helpers/catalogPage';\nimport { getHasValidAddress } from 'store/reducers/view/addressSimplePage';\nimport {\n    addressFullInputThunk,\n    addressFullSuccessThunk,\n    addressFullValidationOkThunk,\n} from 'store/thunks/addressFullPage';\nimport {\n    addressGuideThunk,\n    addressInputAddThunk,\n    addressInputDeclineThunk,\n    addressInputThunk,\n    goBackToStartAndReplaceThunk,\n    goToAddressFullAllThunk,\n    goToCatalogThunk,\n    goToNoAreaThunk,\n    goToPromoThunk,\n    goToValidationThunk,\n    validationOkThunk,\n} from 'store/thunks/native';\nimport { history } from 'tools/history';\nimport { AppStateInterface } from 'types/app-state';\nimport { analytics as analyticsInstance } from 'tools/analytics/getAnalytics';\nimport { getStand, isPROM } from 'tools/environment';\n\nimport { AssistantSdkCommand, SmartAppCommand } from './constants/native';\nimport { AssistantSdkServerAction } from './constants/server';\nimport { ROUTES } from './constants/router';\nimport { AppState, AppBaseAction, AppMiddleware, AppDispatch } from './constants';\nimport { getRootReducer } from './reducers';\nimport {\n    showItemsAction,\n    addItemAction,\n    removeAllAction,\n    removeItemAction,\n    addressInputClearAction,\n    addressFullInputAddAction,\n    addressFullInputClearAction,\n    addressFullValidationErrorAction,\n    askAgainForOrderStatusFinalAction,\n    goBackAction,\n    askAgainForOrderStatusAction,\n    orderErrorAction,\n    itemsChangesAction,\n    goToWaitAction,\n    addressFullCommentAction,\n    lastOrderInfoAction,\n    lastOrderErrorAction,\n    lastOrderEmptyAction,\n    orderSuccessAction,\n    setCharacterAction,\n    setAppContextAction,\n} from './actions/native';\nimport {\n    askForOrderStatusFinalAction,\n    askForOrderStatusAction,\n    askForStockAction,\n    askForItemsChangesAction,\n    pageChangeAction,\n    askForLastOrderInfoAction,\n    openPaymentAction,\n} from './actions/server';\nimport { selectPathname } from './selectors';\nimport { ScenarioUser, ScenarioUserAddress, StoreUser } from './constants/user';\n\nconst analyticsMiddleware: AppMiddleware = ({ getState }) => (next) => (action) => {\n    const label = action.type !== LOCATION_CHANGE ? action.type : 'LOCATION_CHANGE';\n    const state = getState();\n    const pathname = selectPathname(state);\n    const currentScreen = pathname.substring(1);\n\n    console.log('dispatch action', action);\n\n    if (action.type === 'appContext/SET_APP_CONTEXT') {\n        const lastDeviceId = analyticsInstance.getDeviceId();\n        const newDeviceId = action.payload.device_id;\n\n        if (newDeviceId !== lastDeviceId) {\n            analyticsInstance.setDeviceId(newDeviceId);\n        }\n    }\n\n    const frontendVersion = process.env.REACT_APP_REV || 'local';\n    const stand = getStand();\n    const opts = {\n        properties: {\n            // eslint-disable-next-line @typescript-eslint/camelcase\n            screen_name: currentScreen,\n            frontendVersion,\n            stand,\n        },\n    };\n    analyticsInstance.redux(label, action, opts);\n    return next(action);\n};\n\nconst serverActionMiddleware: AppMiddleware = ({ dispatch, getState }) => (next) => (action) => {\n    switch (action.type) {\n        case 'CLOSE_APP': {\n            window.AssistantClient.close();\n            break;\n        }\n        case 'ASK_FOR_STOCK': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: SHOW_ITEMS_MOCK,\n                    });\n                }, 500);\n\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'ADD_ITEM',\n                            item: '21ff407a-fa98-11e8-80c5-0cc47a817925',\n                            count: '5',\n                        },\n                    });\n                }, 1000);\n\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'ADD_ITEM',\n                            item: '21ff407c-fa98-11e8-80c5-0cc47a817925',\n                            count: '2',\n                        },\n                    });\n                }, 1500);\n            }\n\n            break;\n        }\n        case 'ASK_FOR_ITEMS_CHANGES': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line\n                        smart_app_data: ITEMS_CHANGES_MOCK,\n                    });\n                }, 500);\n            }\n\n            break;\n        }\n        case 'ADDRESS_SUBMIT': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData(GO_TO_CATALOG_COMMAND);\n                }, 500);\n            }\n\n            break;\n        }\n        case 'ADDRESS_FULL_SUBMIT': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                window.AssistantClient.onData({\n                    type: 'smart_app_data',\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    smart_app_data: {\n                        command: 'GO_TO_VALIDATION',\n                    },\n                });\n            }\n\n            break;\n        }\n        case 'ASK_FOR_ORDER_STATUS': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                window.AssistantClient.onData({\n                    type: 'smart_app_data',\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    smart_app_data: {\n                        command: 'ASK_AGAIN_FOR_ORDER_STATUS_FINAL',\n                    },\n                });\n            }\n\n            break;\n        }\n        case 'ASK_FOR_ORDER_STATUS_FINAL': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                window.AssistantClient.onData({\n                    type: 'smart_app_data',\n                    // eslint-disable-next-line @typescript-eslint/camelcase\n                    smart_app_data: {\n                        command: 'VALIDATION_OK',\n                        status: true,\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        order_id: '364528',\n                        date: '2020-05-11T10:35:08.003578+03:00',\n                    },\n                });\n            }\n\n            break;\n        }\n        case 'MAKE_PURCHASE': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'GO_TO_WAIT',\n                        },\n                    });\n                }, 500);\n            }\n\n            break;\n        }\n        case 'ASK_FOR_LAST_ORDER_INFO': {\n            window.AssistantClient.sendData({ action_id: action.type });\n\n            // эмуляция ответа бэка для отладки в браузере\n            if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                setTimeout(() => {\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        smart_app_data: {\n                            command: 'LAST_ORDER_INFO',\n                            info: lastOrderInfoMock,\n                        },\n                    });\n                }, 500);\n            }\n\n            break;\n        }\n        case 'PAGE_CHANGE': {\n            window.AssistantClient.sendData({ action_id: action.type });\n            break;\n        }\n        case 'OPEN_PAYMENT': {\n            window.AssistantClient.sendData({ action_id: action.type });\n            break;\n        }\n        /**\n         * tldr; В кейсе LOCATION_CHANGE все dispatch'и нужно ОБЯЗАТЕЛЬНО оборачивать в setTimeout.\n         * Нельзя влазить и диспатчить action'ы перед LOCATION_CHANGE, от этого ломается\n         * взаимодействие connected-react-router и history.\n         *\n         * Внимание! Перед прочтением этого коммента лучше пойти взять бутылку чего нибудь покрепче,\n         * потому что без нее не разобраться.\n         *\n         * Так вот, для понимания того, почему это нужно делать. Сперва, нужно понять то,\n         * как работает навигация в кишках connected-react-router и history.\n         * Предположим, мы хотим перейти на другую страницу. Для этого\n         * dispatch'им push action react-connected-router'a с типом @@router/CALL_HISTORY_METHOD\n         * который подхватывает router middleware и вызывает\n         * соответствующий метод (push) у библиотеки history.\n         * В результате чего history меняет урл через History API браузера\n         * и обновляет свой стейт. После оповещает слушателей, подписанных на это.\n         * Внутри connected-react-router'а вызывается обработчик, который подписан\n         * на изменение стейта (локального, внутри библиотеки) history.\n         * Он dispatch'ит action, с типом @@router/LOCATION_CHANGE, который должен долететь\n         * до редюсера connected-react-router’а и актуализировать (синкнуть со стейтом в history) стейт router'a.\n         * После чего на изменение стейта срабатывает обработчик который обычно триггерит рендер react'а,\n         * но у connected-react-router’a есть свой такой, который нужен для того,\n         * чтобы синкать стейт router'a в сторе и стейт пакета history.\n         * То есть в обратную сторону. Вот в этом то месте и происходит рассинхрон.\n         *\n         * Из-за того что этот обработчик в connected-react-router'е не смотрит на action,\n         * который к нему прилетает (redux его не прокидывает), он пытается синкать\n         * состояния на каждый чих. Валидно убеждается в том, что состояния разные из-за того что history\n         * уже внесла в свой стейт изменения, а редюсер router'a еще не отработал, потому что\n         * до него влез другой action.\n         * После чего вызывает соответствующий метод у history, который снова меняет ее состояние\n         * и снова триггерит об этом экшен и все это еще больше запутывается.\n         **/\n        case LOCATION_CHANGE: {\n            const state = getState();\n\n            const currentPathname = selectPathname(state);\n            const nextPathname = action.payload.location.pathname;\n\n            /**\n             * Кейс LOCATION_CHANGE отвечает за сайд эффекты во время переходов\n             * между экранами. Может случиться так что реплейсится текущий экран\n             * (если мы с каталога пошли в ввода адреса, а потом вычистили историю),\n             * и в этом случае делать ничего не нужно.\n             */\n            if (currentPathname === nextPathname) {\n                break;\n            }\n\n            switch (currentPathname) {\n                case ROUTES.CATALOG:\n                case ROUTES.CART: {\n                    setTimeout(() => {\n                        dispatch(applyItemsChanges());\n                    });\n\n                    break;\n                }\n                case ROUTES.ADDRESS_SIMPLE:\n                case ROUTES.ADDRESS_SIMPLE_QUESTION: {\n                    /**\n                     * Если мы возвращаемся обратно на страницу ввода\n                     * полного адреса со страницы ввода базового адреса,\n                     * без сохранения, то нужно вернуть все поля в исходное\n                     * положение, но есть нюанс ;)\n                     */\n                    if (nextPathname === ROUTES.ADDRESS_FULL_ALL) {\n                        /**\n                         *  Если удалить один символ в инпуте, а потом ввести его,\n                         *  то адрес не поменяется (строковое значение), но все остальные поля\n                         *  (дом, улица, город) будут сброшены (потому что они сбрасываются при\n                         *  изменении значения инпуте).\n                         *  Поэтому здесь так же есть проверка на заполненность.\n                         */\n                        const isAddressChanged = state.userData.address !== state.userModel.address;\n                        const hasValidAddress = getHasValidAddress(state.userModel);\n                        if (!hasValidAddress || isAddressChanged) {\n                            setTimeout(() => {\n                                dispatch(revertUserChanges());\n                            });\n                        }\n                    }\n\n                    break;\n                }\n                case ROUTES.ADDRESS_FULL_ALL: {\n                    if (nextPathname === ROUTES.CART) {\n                        setTimeout(() => {\n                            dispatch(revertUserChanges());\n                        });\n                    }\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            switch (nextPathname) {\n                case ROUTES.CATALOG: {\n                    if (Object.keys(state.productsData.itemsMap).length) {\n                        setTimeout(() => {\n                            dispatch(askForItemsChangesAction());\n                        });\n                    } else {\n                        setTimeout(() => {\n                            dispatch(askForStockAction());\n                        });\n                    }\n\n                    break;\n                }\n                case ROUTES.CART: {\n                    if (process.env.REACT_APP_ENVIRONMENT === 'development') {\n                        if (!Object.keys(state.productsData.itemsMap).length) {\n                            setTimeout(() => {\n                                dispatch(askForStockAction());\n                            });\n                        }\n                    }\n\n                    setTimeout(() => {\n                        dispatch(askForItemsChangesAction());\n                    });\n\n                    break;\n                }\n\n                case ROUTES.STATUS_SUMMARY: {\n                    setTimeout(() => {\n                        dispatch(askForLastOrderInfoAction());\n                    });\n\n                    break;\n                }\n\n                default:\n                    break;\n            }\n\n            // при ините приложения прилетает LOCATION_CHANGE,\n            // это проверка нужна чтобы не слать лишний сервер экшен\n            if (currentPathname !== nextPathname) {\n                setTimeout(() => {\n                    dispatch(pageChangeAction());\n                });\n            }\n\n            break;\n        }\n        default:\n            break;\n    }\n\n    return next(action);\n};\n\nconst enhancers: StoreEnhancer[] = [];\nconst middlewares: Middleware[] = [\n    thunk,\n    routerMiddleware(history),\n    serverActionMiddleware as Middleware,\n    analyticsMiddleware as Middleware,\n];\n\nif (!isPROM) {\n    if (typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION__) {\n        enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());\n    }\n}\n\nexport const store = createReduxStore<AppState, AppBaseAction, {}, {}>(\n    /**\n     * TODO: прикрутить валидацию recoveryStat'a\n     * @see https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-200\n     */\n    getRootReducer(history, window.appRecoveryState as AppState),\n    compose(applyMiddleware(...middlewares), ...enhancers),\n);\nconst dispatch = store.dispatch as AppDispatch;\n\nif (!isPROM) {\n    window.__store = store;\n}\n\nconst dispatchSmartAppCommand = ({ smart_app_data }: SmartAppCommand) => {\n    switch (smart_app_data.command) {\n        case 'SHOW_ITEMS':\n            dispatch(showItemsAction(smart_app_data));\n            break;\n        case 'ITEMS_CHANGES': {\n            dispatch(itemsChangesAction(smart_app_data));\n            break;\n        }\n        case 'ADD_ITEM': {\n            dispatch(addItemAction(smart_app_data));\n            break;\n        }\n        case 'REMOVE_ALL': {\n            dispatch(removeAllAction());\n            break;\n        }\n        case 'REMOVE_ITEM': {\n            dispatch(removeItemAction({ ...smart_app_data, shouldRemoveMention: true }));\n            break;\n        }\n        case 'GO_TO_CATALOG': {\n            dispatch(goToCatalogThunk(smart_app_data));\n            break;\n        }\n        case 'GO_TO_NO_AREA': {\n            dispatch(goToNoAreaThunk(smart_app_data));\n            break;\n        }\n        case 'GO_TO_VALIDATION': {\n            dispatch(goToValidationThunk());\n            break;\n        }\n        case 'GO_TO_PROMO': {\n            dispatch(goToPromoThunk(smart_app_data));\n            break;\n        }\n        case 'GO_TO_ADDRESS_SIMPLE': {\n            dispatch(push(ROUTES.ADDRESS_SIMPLE));\n            break;\n        }\n        case 'GO_TO_ADDRESS_FULL': {\n            dispatch(goToAddressFullAllThunk());\n            break;\n        }\n        case 'VALIDATION_OK': {\n            dispatch(validationOkThunk(smart_app_data));\n            break;\n        }\n        case 'ORDER_ERROR': {\n            dispatch(orderErrorAction(smart_app_data));\n            dispatch(replace(ROUTES.ERROR));\n            break;\n        }\n        case 'ADDRESS_GUIDE': {\n            dispatch(addressGuideThunk());\n            break;\n        }\n        case 'ADDRESS_INPUT': {\n            dispatch(addressInputThunk(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_INPUT_ADD': {\n            dispatch(addressInputAddThunk(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_INPUT_DECLINE': {\n            dispatch(addressInputDeclineThunk());\n            break;\n        }\n        case 'ADDRESS_INPUT_CLEAR': {\n            dispatch(addressInputClearAction());\n            break;\n        }\n        case 'ADDRESS_FULL_SUCCESS': {\n            dispatch(addressFullSuccessThunk());\n            break;\n        }\n        case 'ADDRESS_FULL_INPUT': {\n            dispatch(addressFullInputThunk(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_INPUT_ADD': {\n            dispatch(addressFullInputAddAction(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_INPUT_CLEAR': {\n            dispatch(addressFullInputClearAction(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_COMMENT': {\n            dispatch(addressFullCommentAction(smart_app_data));\n            break;\n        }\n        case 'ADDRESS_FULL_VALIDATION_OK': {\n            dispatch(addressFullValidationOkThunk());\n            break;\n        }\n        case 'ADDRESS_FULL_VALIDATION_ERROR': {\n            dispatch(addressFullValidationErrorAction());\n            break;\n        }\n        case 'ASK_AGAIN_FOR_ORDER_STATUS_FINAL': {\n            dispatch(askAgainForOrderStatusFinalAction());\n            setTimeout(() => dispatch(askForOrderStatusFinalAction()), 500);\n            break;\n        }\n        case 'GO_TO_WAIT': {\n            dispatch(push(ROUTES.WAIT));\n            dispatch(goToWaitAction());\n            dispatch(askForOrderStatusAction());\n            break;\n        }\n        case 'GO_BACK': {\n            dispatch(goBackAction());\n            dispatch(goBack());\n            break;\n        }\n        case 'ASK_AGAIN_FOR_ORDER_STATUS': {\n            dispatch(askAgainForOrderStatusAction());\n            setTimeout(() => dispatch(askForOrderStatusAction()), 500);\n            break;\n        }\n        case 'ORDER_SUCCESS': {\n            dispatch(orderSuccessAction());\n            dispatch(openPaymentAction());\n            break;\n        }\n        case 'GO_TO_ORDER_SEARCH': {\n            dispatch(replace(ROUTES.STATUS_SUMMARY));\n            break;\n        }\n        case 'LAST_ORDER_INFO': {\n            dispatch(lastOrderInfoAction(smart_app_data));\n            break;\n        }\n        case 'LAST_ORDER_EMPTY': {\n            dispatch(lastOrderEmptyAction());\n            dispatch(goBackToStartAndReplaceThunk(ROUTES.STATUS_EMPTY));\n            break;\n        }\n        case 'LAST_ORDER_ERROR': {\n            dispatch(lastOrderErrorAction());\n            dispatch(push(ROUTES.ERROR));\n            break;\n        }\n        case 'GO_TO_LAST_ORDER_DETAILS': {\n            dispatch(push(ROUTES.STATUS_DETAILS));\n            break;\n        }\n        case 'GO_TO_LAST_ORDER_REPORT': {\n            dispatch(push(ROUTES.STATUS_REPORT));\n            break;\n        }\n        default:\n            break;\n    }\n};\n\nexport const dispatchToReduxStore = (command: AssistantSdkCommand) => {\n    switch (command.type) {\n        case 'smart_app_data': {\n            dispatchSmartAppCommand(command);\n            break;\n        }\n        case 'character': {\n            dispatch(setCharacterAction(command.character.id));\n            break;\n        }\n        case 'app_context': {\n            dispatch(setAppContextAction(command.app_context));\n            break;\n        }\n        default:\n            break;\n    }\n};\n\nif (process.env.REACT_APP_ENVIRONMENT !== 'production' && module.hot) {\n    module.hot.accept('./reducers', () => {\n        // eslint-disable-next-line\n        const { getRootReducer } = require('./reducers');\n        const rootReducer = getRootReducer(history);\n\n        store.replaceReducer(rootReducer);\n    });\n}\n\ninterface ItemSelectorItem {\n    id: string;\n    title: string;\n    visible: boolean;\n    number?: number;\n}\n\nconst castCatalogItemSelectorFromStore = (state: AppState): AppStateInterface['item_selector'] => {\n    const {\n        catalogPage: { screenIndexMap },\n        productsData: { itemsMap },\n    } = state;\n\n    return {\n        ignored_words: ['добавь', 'удали'],\n        items: Object.values(itemsMap).map(\n            ({ id, name: title }): ItemSelectorItem => {\n                const number = screenIndexMap[id];\n\n                return {\n                    id,\n                    title,\n                    number,\n                    visible: Boolean(number),\n                };\n            },\n        ),\n    };\n};\n\nconst castCartItemSelectorFromStore = (state: AppState): AppStateInterface['item_selector'] => {\n    const {\n        cart: { order },\n        productsData: { itemsMap },\n    } = state;\n\n    return {\n        ignored_words: ['добавь', 'удали'],\n        items: Object.values(itemsMap).map(\n            ({ id, name: title }): ItemSelectorItem => {\n                const number = order.indexOf(id) + 1 || undefined;\n\n                return {\n                    id,\n                    title,\n                    number,\n                    visible: Boolean(number),\n                };\n            },\n        ),\n    };\n};\n\nconst castItemSelectorFromStore = (state: AppState): AppStateInterface['item_selector'] => {\n    const pathname = selectPathname(state);\n\n    switch (pathname) {\n        case ROUTES.CATALOG:\n            return castCatalogItemSelectorFromStore(state);\n\n        case ROUTES.CART:\n            return castCartItemSelectorFromStore(state);\n\n        default:\n            return {\n                ignored_words: [],\n                items: [],\n            };\n    }\n};\n\nconst serializeAddress = (storeUser: StoreUser): ScenarioUserAddress => {\n    const {\n        address,\n        city,\n        street,\n        house,\n        building,\n        floor,\n        entrance,\n        apartment,\n        doorCode,\n        addressLocationLatitude,\n        addressLocationLongitude,\n    } = storeUser;\n\n    return {\n        location: {\n            latitude: addressLocationLatitude,\n            longitude: addressLocationLongitude,\n        },\n        address_string: address,\n        city,\n        street,\n        house,\n        building,\n        floor,\n        entrance,\n        apartment,\n        door_code: doorCode,\n        confirmed: 'true',\n    };\n};\n\nconst prepareAddress = (state: AppState): ScenarioUser => {\n    let source;\n\n    switch (selectPathname(state)) {\n        case ROUTES.ADDRESS_SIMPLE:\n        case ROUTES.ADDRESS_SIMPLE_QUESTION:\n        case ROUTES.ADDRESS_FULL_ALL: {\n            source = state.userModel;\n\n            break;\n        }\n\n        default: {\n            source = state.userData;\n\n            break;\n        }\n    }\n\n    return {\n        phone_num: source.phoneNumber,\n        customer_name: source.customerName,\n        address: serializeAddress(source),\n    };\n};\n\nconst castFromStore = (): AppStateInterface => {\n    const state = store.getState();\n    const { cart } = state;\n    const pathname = selectPathname(state);\n\n    return {\n        item_selector: castItemSelectorFromStore(state),\n        foodtech: {\n            currentScreen: pathname.substring(1),\n            products: Object.keys(cart.itemsMap)\n                .map((id) => {\n                    const quantity = getCountById(state, id);\n\n                    return { id, quantity };\n                })\n                .filter(({ quantity }) => Boolean(quantity)),\n            totalPrice: {\n                value: cart.totalPrice,\n                discountValue: cart.totalPrice,\n            },\n            ...prepareAddress(state),\n        },\n    };\n};\n\nif (Array.isArray(window.appInitialData)) {\n    window.appInitialData.forEach(dispatchToReduxStore);\n}\n\n/* eslint-disable no-console */\nwindow.AssistantClient = window.AssistantClient || {};\n\nif (!isPROM) {\n    // eslint-disable-next-line no-underscore-dangle\n    window.__inbox = window.__inbox || [];\n    // eslint-disable-next-line no-underscore-dangle\n    window.__outbox = window.__outbox || [];\n}\n\n/**\n * Assistand SDK API implementation:\n */\nwindow.AssistantClient.onStart = () => {\n    if (!isPROM) {\n        console.log('invoke onStart callback');\n    }\n};\n\nwindow.AssistantClient.onData = (command: AssistantSdkCommand) => {\n    if (!isPROM) {\n        // eslint-disable-next-line no-underscore-dangle\n        window.__inbox.push(command);\n    }\n\n    if (!isPROM) {\n        console.log(`server command: ${JSON.stringify(command)}`);\n    }\n\n    dispatchToReduxStore(command);\n};\n\nwindow.AssistantClient.sendData = (message: AssistantSdkServerAction) => {\n    if (!isPROM) {\n        window.AssistantClient.onRequestState();\n    }\n\n    if (!isPROM) {\n        console.log(`sendData: ${JSON.stringify(message)}`);\n    }\n\n    if (window.AssistantHost && typeof window.AssistantHost.sendData === 'function') {\n        window.AssistantHost.sendData(JSON.stringify(message), null);\n    }\n};\n\nwindow.AssistantClient.onRequestState = () => {\n    const state = castFromStore();\n    const stateString = JSON.stringify(state);\n\n    if (!isPROM) {\n        console.log('invoke request state callback', stateString);\n    }\n\n    if (window.AssistantHost && typeof window.AssistantHost.updateState === 'function') {\n        window.AssistantHost.updateState(stateString);\n    }\n\n    return state;\n};\n\nwindow.AssistantClient.onRequestRecoveryState = () => {\n    const state = store.getState();\n\n    if (!isPROM) {\n        console.log('invoke request recovery state callback', JSON.stringify(state, null, 2));\n    }\n\n    return state;\n};\n\nwindow.AssistantClient.close = () => {\n    if (!isPROM) {\n        console.log('call close native method');\n    }\n\n    if (window.AssistantHost && typeof window.AssistantHost.close === 'function') {\n        window.AssistantHost.close();\n    }\n};\n\nif (window.AssistantHost && typeof window.AssistantHost.ready === 'function') {\n    if (!isPROM) {\n        console.log('call ready native method');\n    }\n\n    window.AssistantHost.ready();\n}\n\n// эмуляция первой команды от бэка\nif (process.env.REACT_APP_ENVIRONMENT === 'development') {\n    setTimeout(() => {\n        window.AssistantClient.onData({\n            type: 'smart_app_data',\n            // eslint-disable-next-line @typescript-eslint/camelcase\n            smart_app_data: GO_TO_CATALOG_POOR,\n        });\n    }, 100);\n}\n","import { produce } from 'immer';\nimport { History } from 'history';\nimport { AppReducer, initialState, AppBaseAction, AppState } from 'store/constants';\nimport { twoGisSuggestsData } from 'store/reducers/data/twoGisSuggestsData';\nimport { productsData } from 'store/reducers/data/products';\nimport { productsDiffData } from 'store/reducers/data/productsDiff';\nimport { userData } from 'store/reducers/data/user';\nimport { deliveryData } from 'store/reducers/data/delivery';\nimport { characterData } from 'store/reducers/data/character';\nimport { orderStatusData } from 'store/reducers/data/orderStatus';\nimport { getRouterModel } from 'store/reducers/model/router';\nimport { cartModel } from 'store/reducers/model/cart';\nimport { userModel } from 'store/reducers/model/user';\nimport { catalogPageView } from 'store/reducers/view/catalogPage';\nimport { catalogPageTouchView } from 'store/reducers/view/catalogPage@touch';\nimport { cartPageView } from 'store/reducers/view/cartPage';\nimport { cartPageTouchView } from 'store/reducers/view/cartPage@touch';\nimport { addressSimplePageView } from 'store/reducers/view/addressSimplePage';\nimport { addressFullPageView } from 'store/reducers/view/addressFullPage';\nimport { headerView } from 'store/reducers/view/header';\nimport { errorPageView } from 'store/reducers/view/errorPage';\nimport { statusPageView } from 'store/reducers/view/statusPage';\nimport { isMobile } from 'tools/environment';\n\nexport const getRootReducer = (history: History, recoveryState?: AppState) => {\n    const routerModel = getRouterModel(history);\n    const appInitialState = isMobile ? initialState : recoveryState || initialState;\n\n    return (state = appInitialState, action: AppBaseAction) =>\n        produce(state, (draft) => {\n            const applyReducer = (reducer: AppReducer) => reducer(draft, action);\n\n            [\n                // уровень данных\n                twoGisSuggestsData,\n                productsData,\n                productsDiffData,\n                userData,\n                deliveryData,\n                characterData,\n                orderStatusData,\n            ].forEach(applyReducer);\n\n            [\n                // уровень бизнес логики\n                routerModel,\n                cartModel,\n                userModel,\n            ].forEach(applyReducer);\n\n            // уровень пропсов для для отрисовки компонентов\n            if (isMobile) {\n                [\n                    // мобильная версия\n                    cartPageTouchView,\n                    catalogPageTouchView,\n                    headerView,\n                    addressFullPageView,\n                    statusPageView,\n                ].forEach(applyReducer);\n            } else {\n                [\n                    // десктопная версия\n                    catalogPageView,\n                    cartPageView,\n                    addressSimplePageView,\n                    addressFullPageView,\n                    statusPageView,\n                    errorPageView,\n                    headerView,\n                ].forEach(applyReducer);\n            }\n        });\n};\n","import { History, LocationState } from 'history';\nimport { connectRouter, LocationChangeAction } from 'connected-react-router';\n\nimport { AppReducer } from '../../constants';\n\nexport const getRouterModel = (history: History): AppReducer => {\n    const changeRouter = connectRouter<LocationState>(history);\n\n    return (state, action) => {\n        /**\n         * @see https://github.com/supasate/connected-react-router/blob/master/src/reducer.js#L58\n         * Здесь костылим тип экшена, потому что в библиотеке\n         * криво написаны тайпинги. На самом деле, метод принимает любые экшены,\n         * но работает только LocationChangeAction (там стоит ифак на него).\n         *\n         * Проблема в том, что если не вызывать этот метод с другими экшенами,\n         * то по экшену @@INIT этот метод не вернет изначальное состояние router.\n         */\n        state.router = changeRouter(state.router, action as LocationChangeAction);\n    };\n};\n","import { useSelector as useReduxSelector } from 'react-redux';\nimport { AppState } from 'store/constants';\n\nexport function useSelector<T = unknown>(mapStateToProps: (state: AppState) => T) {\n    return useReduxSelector<AppState, T>(mapStateToProps);\n}\n","import React from 'react';\n\ninterface UseFocusInterface {\n    onReceiveFocus?: () => void;\n    onLoseFocus?: () => void;\n}\n\n/**\n * Срабатывает при получении/потери фокуса содержимым контейнера\n * Не срабатывает при переключении фокуса, пока он остается внутри контейнера\n */\nexport const useContainerFocus = ({ onReceiveFocus, onLoseFocus }: UseFocusInterface) => {\n    const [handlerTimeoutId, setHandlerTimeoutId] = React.useState(0);\n    const [isFocused, setFocused] = React.useState(false);\n\n    const handleReceiveFocus = React.useCallback(() => {\n        if (!isFocused) {\n            setFocused(true);\n            onReceiveFocus?.();\n        }\n    }, [isFocused, onReceiveFocus]);\n\n    const handleLoseFocus = React.useCallback(() => {\n        if (isFocused) {\n            setFocused(false);\n            onLoseFocus?.();\n        }\n    }, [isFocused, onLoseFocus]);\n\n    /**\n     * Планируем срабатывание handleReceiveFocus при получении фокуса контейнером или его дочерним элементом\n     */\n    const handleFocus = React.useCallback(() => setHandlerTimeoutId(setTimeout(handleReceiveFocus)), [\n        handleReceiveFocus,\n    ]);\n\n    /**\n     * Планируем срабатывание handleLoseFocus при потере фокуса контейнером или его дочерним элементом\n     */\n    const handleBlur = React.useCallback(() => setHandlerTimeoutId(setTimeout(handleLoseFocus)), [handleLoseFocus]);\n\n    /**\n     * Cбрасываем запланированные обработчики при планировании нового\n     */\n    React.useEffect(() => {\n        const timeoutId = handlerTimeoutId;\n        return () => {\n            if (timeoutId) {\n                clearTimeout(timeoutId);\n            }\n        };\n    }, [handlerTimeoutId]);\n\n    return {\n        handleFocus,\n        handleBlur,\n        isFocused,\n    };\n};\n","// TODO: FRNTND-1 mv to npm package\n\nexport const icon = {\n    xs: {\n        sizePx: 24,\n    },\n    m: {\n        sizePx: 48,\n    },\n    s: {\n        sizePx: 32,\n    },\n};\n","// TODO: FRNTND-1 mv to npm package\n\nconst widthPx = 1920;\nconst heightPx = 1080;\nconst headerHeightPx = 160;\nconst footerHeightPx = 128;\nconst contentHeightPx = heightPx - headerHeightPx - footerHeightPx;\n\nexport const layout = {\n    widthPx,\n    heightPx,\n    headerHeightPx,\n    footerHeightPx,\n    contentHeightPx,\n};\n","import { useDispatch as useReduxDispatch } from 'react-redux';\nimport { AppDispatch } from 'store/constants';\n\nexport const useDispatch = () => useReduxDispatch<AppDispatch>();\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Button2 } from '@sberdevices/plasma-styles';\nimport { buttonSecondary, primary } from '@sberdevices/plasma-tokens';\nimport { transition } from 'style/const/transition';\nimport { icon } from 'style/const/icon';\nimport { focusBorderMixin } from 'style/mixin/focus';\n\nconst containerBorderRadiusPx = 24;\n\ninterface StyledHeaderButtonProps {\n    isVisible?: boolean;\n}\n\nconst StyledHeaderButton = styled.button<StyledHeaderButtonProps>`\n    position: relative;\n\n    display: flex;\n    align-items: center;\n\n    margin: 0 0 0 24px;\n\n    box-sizing: border-box;\n    height: 80px;\n    padding: 16px 36px;\n    border: none;\n    border-radius: ${containerBorderRadiusPx}px;\n\n    background: transparent;\n\n    font-family: inherit;\n\n    transition: background-color ${transition.default};\n    will-change: background-color;\n\n    ${focusBorderMixin({ borderRadius: containerBorderRadiusPx })}\n\n    ${({ isVisible }) =>\n        !isVisible &&\n        css`\n            display: none;\n        `}\n\n    &:focus {\n        background: ${buttonSecondary};\n    }\n\n    &:first-of-type {\n        margin-left: 0;\n    }\n`;\n\nconst textHeightPx = icon.m.sizePx;\n\nconst StyledText = styled(Button2)`\n    margin-left: 8px;\n\n    height: ${textHeightPx}px;\n    padding: 0 4px;\n\n    line-height: ${textHeightPx}px;\n\n    color: ${primary};\n\n    opacity: 0.88;\n`;\n\ninterface HeaderButtonProps {\n    forwardRef?: React.RefObject<HTMLButtonElement>;\n    text: string;\n    isVisible?: boolean;\n    onClick?: () => void;\n}\n\nexport const HeaderButton: React.FC<HeaderButtonProps> = ({\n    forwardRef,\n    text,\n    onClick: handleClick,\n    children,\n    ...props\n}) => {\n    return (\n        <StyledHeaderButton ref={forwardRef} tabIndex={0} onClick={handleClick} type=\"button\" {...props}>\n            {children}\n            <StyledText>{text}</StyledText>\n        </StyledHeaderButton>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M12 21C13.5 21 20 17 20 9.36735C20 5.29847 16.4183 2 12 2C7.58172 2 4 5.29847 4 9.36735C4 16.5 10.5 21 12 21ZM12 13.5C14.0711 13.5 15.75 11.8211 15.75 9.75C15.75 7.67893 14.0711 6 12 6C9.92893 6 8.25 7.67893 8.25 9.75C8.25 11.8211 9.92893 13.5 12 13.5Z\",\n  fill: \"white\"\n});\n\nconst SvgAddress = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgAddress, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/address.786915f5.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButton } from 'components/HeaderButton/HeaderButton';\nimport { icon } from 'style/const/icon';\n\nimport { ReactComponent as AddressSvg } from './address.svg';\n\nconst addressIconSizePx = icon.m.sizePx;\n\nconst StyledIcon = styled(AddressSvg)`\n    width: ${addressIconSizePx}px;\n    height: ${addressIconSizePx}px;\n`;\n\ninterface HeaderAddressProps {\n    forwardRef?: React.RefObject<HTMLButtonElement>;\n    isVisible: boolean;\n}\n\nexport const HeaderAddress: React.FC<HeaderAddressProps> = (props) => {\n    const dispatch = useDispatch();\n\n    const { text } = useSelector((state) => selectHeader(state).address);\n\n    const handleClick = React.useCallback(() => dispatch(push(ROUTES.ADDRESS_SIMPLE_GUIDE)), [dispatch]);\n\n    return (\n        <HeaderButton onClick={handleClick} text={text} {...props}>\n            <StyledIcon />\n        </HeaderButton>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M19.2 5C19.6418 5 20 5.36244 20 5.80952V21.1905C20 21.6376 19.6418 22 19.2 22H4.8C4.35817 22 4 21.6376 4 21.1905V5.80952C4 5.36244 4.35817 5 4.8 5H19.2ZM7.71431 3.5H16.2857C16.6802 3.5 17 3.16421 17 2.75C17 2.33579 16.6802 2 16.2857 2H7.71431C7.31983 2 7.00003 2.33579 7.00003 2.75C7.00003 3.16421 7.31983 3.5 7.71431 3.5ZM15.3333 8.8C15.3333 10.5673 13.8411 12 12 12C10.1589 12 8.66667 10.5673 8.66667 8.8C8.66667 8.35817 8.29357 8 7.83333 8C7.3731 8 7 8.35817 7 8.8C7 11.4509 9.23836 13.6 12 13.6C14.7616 13.6 17 11.4509 17 8.8C17 8.35817 16.6269 8 16.1667 8C15.7064 8 15.3333 8.35817 15.3333 8.8Z\",\n  fill: \"white\"\n});\n\nconst SvgCart = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgCart, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/cart.f9b30afb.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { push } from 'connected-react-router';\nimport styled from 'styled-components';\nimport { Underline } from '@sberdevices/plasma-styles';\nimport { buttonAccent, primary } from '@sberdevices/plasma-tokens';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButton } from 'components/HeaderButton/HeaderButton';\nimport { icon } from 'style/const/icon';\n\nimport { ReactComponent as CartSvg } from './HeaderCart.assets/cart.svg';\n\nconst cartIconSizePx = icon.m.sizePx;\n\nconst StyledCart = styled.div`\n    position: relative;\n`;\n\nconst StyledIcon = styled(CartSvg)`\n    width: ${cartIconSizePx}px;\n    height: ${cartIconSizePx}px;\n`;\n\nconst badgeSizePx = 32;\nconst badgeOffsetPx = cartIconSizePx / 2;\n\nconst StyledBadge = styled(Underline)`\n    position: absolute;\n    left: ${badgeOffsetPx}px;\n    bottom: ${badgeOffsetPx}px;\n\n    width: ${badgeSizePx}px;\n    height: ${badgeSizePx}px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    box-sizing: border-box;\n\n    color: ${primary};\n    background: ${buttonAccent};\n`;\n\ninterface HeaderCartProps {\n    forwardRef?: React.RefObject<HTMLButtonElement>;\n    isVisible: boolean;\n}\n\nexport const HeaderCart: React.FC<HeaderCartProps> = (props) => {\n    const dispatch = useDispatch();\n\n    const { count, price } = useSelector((state) => selectHeader(state).cart);\n\n    const handleClick = React.useCallback(() => {\n        dispatch(push(ROUTES.CART));\n    }, [dispatch]);\n\n    const text = `${price} ₽`;\n\n    return (\n        <HeaderButton onClick={handleClick} text={text} {...props}>\n            <StyledCart>\n                <StyledIcon />\n                <StyledBadge>{count}</StyledBadge>\n            </StyledCart>\n        </HeaderButton>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M16.6513 3.35622C17.1162 3.83119 17.1162 4.60126 16.6513 5.07622L9.87407 12L16.6513 18.9238C17.1162 19.3987 17.1162 20.1688 16.6513 20.6438C16.1864 21.1187 15.4326 21.1187 14.9677 20.6438L7.34869 12.8601C7.12543 12.632 7 12.3226 7 12.0001C7 11.6775 7.12542 11.3681 7.34868 11.14L14.9677 3.35622C15.4326 2.88126 16.1864 2.88126 16.6513 3.35622Z\",\n  fill: \"white\"\n});\n\nconst SvgChevronLeft = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgChevronLeft, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/chevron-left.88658df7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 36,\n  height: 36,\n  fill: \"url(#pattern0)\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"pattern\", {\n  id: \"pattern0\",\n  patternContentUnits: \"objectBoundingBox\",\n  width: 1,\n  height: 1\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#image0\",\n  transform: \"scale(0.00195312)\"\n})), /*#__PURE__*/React.createElement(\"image\", {\n  id: \"image0\",\n  width: 512,\n  height: 512,\n  xlinkHref: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAgAElEQVR4Ae3dB5hV1dX/8R+9I0WaAgIiCCgCith7A0vUWGIsRH2NJq8RTYwp/+RN8sZUX000ienNrsGYxC72jr2BIk2agAKC0ob6f7YXZgaYcueecvfa+3ueZx7u3HvO3mt91hlmzb2nNNp4zLiNYkEAAQQQQACBqAQaR5UtySKAAAIIIIDApwI0AOwICCCAAAIIRChAAxBh0UkZAQQQQAABGgD2AQQQQAABBCIUoAGIsOikjAACCCCAAA0A+wACCCCAAAIRCtAARFh0UkYAAQQQQIAGgH0AAQQQQACBCAVoACIsOikjgAACCCBAA8A+gAACCCCAQIQCNAARFp2UEUAAAQQQoAFgH0AAAQQQQCBCARqACItOyggggAACCNAAsA8ggAACCCAQoQANQIRFJ2UEEEAAAQRoANgHEEAAAQQQiFCABiDCopMyAggggAACNADsAwgggAACCEQoQAMQYdFJGQEEEEAAARoA9gEEEEAAAQQiFKABiLDopIwAAggggAANAPsAAggggAACEQrQAERYdFJGAAEEEECABoB9AAEEEEAAgQgFaAAiLDopI4AAAgggQAPAPoAAAggggECEAjQAERadlBFAAAEEEKABYB9AAAEEEEAgQgEagAiLTsoIIIAAAgjQALAPIIAAAgggEKEADUCERSdlBBBAAAEEaADYBxBAAAEEEIhQgAYgwqKTMgIIIIAAAjQA7AMIIIAAAghEKEADEGHRSRkBBBBAAAEaAPYBBBBAAAEEIhSgAYiw6KSMAAIIIIAADQD7AAIIIIAAAhEK0ABEWHRSRgABBBBAgAaAfQABBBBAAIEIBWgAIiw6KSOAAAIIIEADwD6AAAIIIIBAhAI0ABEWnZQRQAABBBCgAWAfQAABBBBAIEIBGoAIi07KCCCAAAII0ACwDyCAAAIIIBChAA1AhEUnZQQQQAABBGgA2AcQQAABBBCIUIAGIMKikzICCCCAAAI0AOwDCCCAAAIIRChAAxBh0UkZAQQQQAABGgD2AQQQQAABBCIUoAGIsOikjAACCCCAAA0A+wACCCCAAAIRCtAARFh0UkYAAQQQQIAGgH0AAQQQQACBCAVoACIsOikjgAACCCBAA8A+gAACCCCAQIQCNAARFp2UEUAAAQQQoAFgH0AAAQQQQCBCARqACItOyggggAACCNAAsA8ggAACCCAQoQANQIRFJ2UEEEAAAQRoANgHEEAAAQQQiFCABiDCopMyAggggAACNADsAwgggAACCEQoQAMQYdFJGQEEEEAAARoA9gEEEEAAAQQiFKABiLDopIwAAggggAANAPsAAggggAACEQrQAERYdFJGAAEEEECABoB9AAEEEEAAgQgFaAAiLDopI4AAAgggQAPAPoAAAggggECEAjQAERadlBFAAAEEEKABYB9AAAEEEEAgQgEagAiLTsoIIIAAAgjQALAPIIAAAgggEKEADUCERSdlBBBAAAEEaADYBxBAAAEEEIhQgAYgwqKTMgIIIIAAAjQA7AMIIIAAAghEKEADEGHRSRkBBBBAAAEaAPYBBBBAAAEEIhSgAYiw6KSMAAIIIIAADQD7AAIIIIAAAhEK0ABEWHRSRgABBBBAgAaAfQABBBBAAIEIBWgAIiw6KSOAAAIIIEADwD6AAAIIIIBAhAI0ABEWnZQRQAABBBCgAWAfQAABBBBAIEIBGoAIi07KCCCAAAII0ACwDyCAAAIIIBChAA1AhEUnZQQQQAABBGgA2AcQQAABBBCIUIAGIMKikzICCCCAAAI0AOwDCCCAAAIIRChAAxBh0UkZAQQQQAABGgD2AQQQQAABBCIUoAGIsOikjAACCCCAAA0A+wACCCCAAAIRCtAARFh0UkYAAQQQQIAGgH0AAQQQQACBCAVoACIsOikjgAACCCDQFAIEEDAi0LiR1KyZ1KKZ1Lxp4bH7133vnnePmzeTmjSR1q6T1qzd9LVOWrtWqnDfb3rs/nWvsyCAQLQCNADRlp7EvRFo30bq1L7w1XHTv5u/r/5vyxbphrxxo/TJSmnJx5u+llV7vPm5Tf9WrEl3bkZDAIGyC9AAlL0EBBCFQJPG0o5dpN7dpV7dCv+6xz27Fv5yLwdCo0aSaz7cV58edUfwyQpp1kJp9oLC15xNjxctq3s7XkUAAW8FaAC8LQ2BmRXosb00oFfVL/ne3aQdukhNm5hNSe3aSLv1K3xVz2LFammOawo2NQSzFkjvvCctX1V9LR4jgICHAjQAHhaFkAwJuL/s+/eSBveVhvSVBveTOrYzlEDCUNu0lHbtU/jaPJT7aME1BJNmSJNnSpNnSPMXb36VfxFAwBOBRhuPGbfRk1gIAwH/Bdq0kgb3Kfyid7/0B/aWWjT3P+5yR+iOM9jcDEyaKU2fK63fUO6omB+BqAVoAKIuP8kXJbBzT2mfIdKo3aT+PSX32TlLMoHVa6TXp0oT35ImTiocfJhsRLZGAIEGCtAANBCM1SMQaNZUGraLtM9u0t5DpO07RJB0GVN0HxlMnVNoBFxDMH1eGYNhagTiEaABiKfWZFqXQIe20qhNf+UPHyi15G39urgyfe3DpVXvDLz+rrR2fabTMTgCsQrQAMRaefKWWrWQDhomHTGqcAAfb+37t1esrpCeeVN6eKL02lT/4iMiBAwL0AAYLh6hlyjg3t53v/T3H8pf+iUSlmWzDz6SHnlBmvCiNH9RWUJgUgRCEqABCKma5FK7gDs3/8iR0uF7S1071r4er9gQeGtG4V2BJ1+TVlXYiJkoEfBMgAbAs4IQTooC7nP8g4ZLR47a9gI2KU7DUGUUcGcTPPOGNGFi4ayCMobC1AhYE6ABsFYx4q1fwF0//zMHSWP2k9q2rn991ghDYNZ86c7HpMdeltZx4GAYRSWLLAVoALLUZex8Bdz17E8+VDpkhORO5WOJU8BddOjfT0r3PcMliePcA8i6SAEagCKhWM1jgWEDpFMOlfYc5HGQhJa7gDuD4MHnpbuekBYuyX16JkTAdwEaAN8rRHw1C7hr8B88XPrsYVK/HWteh2cRcALuksPPviGNf1R6dzYmCCCwSYAGgF3BlkDjxtLR+0hnHCV14Qp9tornQbRvTJP+do/09nseBEMICJRXgAagvP7M3hCBA4dJY4+VduzSkK1YF4FtBZ57s9AIuLsWsiAQqQANQKSFN5W2u3DPucdLA3qbCptgPRfYsEF6+EXpxvulRUs9D5bwEEhfgAYgfVNGTEvA3YXv3OOkPXdNa0TGQWBbgTVrpbuflm6bIC1fue3rPINAoAI0AIEW1nRaPTpL5xxbOMiP6/ObLqWp4Fesku54RPr3E1LFWlOhEywCpQjQAJSixjbZCLib85wzRjruAKlpk2zmYFQE6hNYskz6893Soy/VtyavI2BagAbAdPkCCn6/odKXTpa258j+gKpqO5VX35V+fYf0Pjcesl1Ioq9NgAagNhmez0fAncr35VOkfXbLZz5mQaAhAu74gFsnSOMf4fLCDXFjXRMCNAAmyhRgkI0bFa7Xf/YYyb31z4KAzwKzF0jX3SFNmuFzlMSGQIMEaAAaxMXKqQjs0ku65HSpf89UhmMQBHIR2LhRenCi9Of/cLZALuBMkrUADUDWwoxfJeD+0h87Rjr+QMld0Y8FAYsCS5dLf7xLevRli9ETMwKVAjQAlRQ8yFRgcF/pirOlbp0ynYbBEchN4Pm3pF/cKn28IrcpmQiBNAVoANLUZKxtBdxn/e66/WccLbkb+LAgEJKAO2Xwqpuk16aGlBW5RCJAAxBJocuSpjvC/4pzpN36lWV6JkUgFwF3bMA/HpFuuK9w58FcJmUSBJILNE0+BCMgUIPAAXtI406X2rau4UWeQiAgAXe1ytOOkPYYIP3s79L8xQElRyohC/AOQMjVLUduLZpJF50sHbNvOWZnTgTKK7BytfSb8VxFsLxVYPYiBWgAioRitSIE+u0offMcqVe3IlZmFQQCFnCXEf7NP6SVFQEnSWrWBfgIwHoFfYl/9L7SRZ+VmrNL+VIS4iijwGF7SYP6SD/4kzRrQRkDYWoEahfgsOzabXilGAF3lL97y99d2Idf/sWIsU4sAj22l665VBo1JJaMydOYAA2AsYJ5FW6bVtIPLypc0terwAgGAU8EWreU/ud86dTDPQmIMBCoEqABqLLgUUMEduwi/fIyacTAhmzFugjEJ+Cuenne8dLlZ0rNuM11fDuAvxnTAPhbG38jGzag8Mu/Z1d/YyQyBHwTOHyk9LOLpQ5tfYuMeCIVoAGItPAlp338AdKVF3F+f8mAbBi1wKC+0nVfk9wZMywIlFmABqDMBTAzvbuM71dOlb58Cpf0NVM0AvVSoEtH6epx0n5DvQyPoOIRoAGIp9alZ9q8mfT9C6Qx+5c+BlsigECVQMvm0nfOlU44sOo5HiGQswANQM7g5qZzt/C98kJpr0HmQidgBLwWcJcQ/tJnpdOP8DpMggtXgAYg3Nomz8xdx/8n/y3t3j/5WIyAAAI1C3zhOMl9sSCQswANQM7gZqbr2E666ivSwN5mQiZQBMwKuHcBvvxZs+ETuE0BGgCbdcs2ancb36sukfr0yHYeRkcAgSqB4w+Uvvp5yV1dkwWBHARoAHJANjXFDttL/zdOchf6YUEAgXwFjtxb+tYXpKZcMChf+DhnowGIs+41Z+3+4ne//Lt2rPl1nkUAgewFDtijcPlgd/YNCwIZCtAAZIhraui+PaSfXyy5z/5ZEECgvAIjB0v/+0WpGXfXLG8hwp6dBiDs+haXXffO0pVfktq1KW591kIAgewF9thF+tZYjgnIXjraGWgAoi39psQ7tpd+/CWpU/vYJcgfAf8E9t1duvQM/+IioiAEaACCKGOJSbjb+f7oIsndt5wFAQT8FHAHBl7wGT9jIyrTAjQApsuXIPgWzQqfMfbdIcEgbIoAArkInHwoVwzMBTquSWgA4qp3IVt3Y5/vnCcN7htj9uSMgE0Bd7XA0fvZjJ2ovRSgAfCyLBkG5a4/fvlZXNs/Q2KGRiAzgYtPkQ4cltnwDByXAA1AXPUu3HzkkBGxZU2+CIQh0Lix9PWzpBEDw8iHLMoqQANQVv6cJ//sodLxB+Q8KdMhgECqAu7aAO4jvN7dUx2WweIToAGIpebuL4Zzj48lW/JEIGwBd5vu7/2X1LZV2HmSXaYCNACZ8noyeI/O0jfHSu7gPxYEEAhDwN23w/1cc/OgMOpZhiz4jVAG9FynbNm88JdCu9a5TstkCCCQg8Ceu0rnnZDDREwRogANQIhVrZ6TO2BoJ27rW52ExwgEJeCO7Tl0z6BSIpl8BGgA8nEuzyxnHi3tN7Q8czMrAgjkJzDudKl/z/zmY6YgBGgAgihjDUm4a4ifeUwNL/AUAggEJ9CieeEWwtu1DS41EspOgAYgO9vyjexOD7r8TMld9IcFAQTiEOjSsXB6IAf7xlHvFLKkAUgB0ash3DX+v3uu1LqlV2ERDAII5CCwWz/pPE73zUE6iCloAIIoY7Ukvnii1LNbtSd4iAACUQmcdIg0bEBUKZNsaQI0AKW5+bnVqCHSmP39jI2oEEAgHwH30d/XPi+15dTffMDtzkIDYLd2W0beoa106RlbPsd3CCAQp8D2HaRLToszd7IuWoAGoGgqz1e87POSawJYEEAAASfg7hp4xN5YIFCrAA1ArTSGXjhuf2nvwYYCJlQEEMhF4EsnS9075zIVk9gToAGwV7MtI+7VTfqvz2z5HN8hgAACTsCdDXTFWdwvgL2hRgEagBpZjDzpzve94mzJXQSEBQEEEKhJYFBf6XNH1fQKz0UuQANgeQc4ewyX/7RcP2JHIC+Bzx8lDeid12zMY0SABsBIobYJs08P6ZRDt3maJxBAAIFtBJo0KZwVwK2Dt6GJ+QkaAKvVv/hUyf1QsyCAAALFCOzcUzrhoGLWZJ1IBGgALBb6qFHSkH4WIydmBBAop8DZo6VO7csZAXN7JEAD4FExigqlXWuu9V0UFCshgMA2Au6sgAtP2uZpnohTgAbAWt3djT645ae1qhEvAv4IHDRcGjHQn3iIpGwCNABloy9h4l37SEfvU8KGbIIAAghUE/jvU6RmHENUTSTKhzQAVsrujt79yqmSu9EHCwIIIJBEYIcu0mlHJBmBbQMQoAGwUsTPHCT129FKtMSJAAK+C7gGoMf2vkdJfBkK0ABkiJva0B3bSWeNTm04BkIAAQTUvJnk7hXAEq0ADYCF0p9xVOGa3hZiJUYEELAjMHKwtPvOduIl0lQFaABS5cxgsG6dpNH7ZTAwQyKAAAKSvnAcDJEK0AD4XvizjpGacrSu72UiPgTMCgzuy+3EzRYvWeA0AMn8st26dzfpsL2ynYPREUAAgbHHYhChAA2Az0U/51ipMSXyuUTEhkAQAu4Mo4NHBJEKSRQvwG+X4q3yXXNAL2n/ofnOyWwIIBCvwDmj+YMjsurTAPhacA7M8bUyxIVAmALu4kDuRmMs0QjQAPhY6qH9peFcq9vH0hATAkELfP5oqVnToFMkuSoBGoAqC38e8de/P7UgEgRiEujSQTrugJgyjjpXGgDfyr/bztKgPr5FRTwIIBCLwEmHSE341RBDuamyb1U++RDfIiIeBBCIScC9C3DgsJgyjjZXGgCfSu9uzDFqiE8REQsCCMQocPKhMWYdXc40AD6V/MSDOQ3Hp3oQCwKxCuzSS3IfR7IELUAD4Et527SSjtrbl2iIAwEEYhc46eDYBYLPnwbAlxKP3ldq2cKXaIgDAQRiF9hnN6lH59gVgs6fBsCH8rrL/Z5wkA+REAMCCCBQEHD/L53IQckh7w40AD5U96BhkjvylgUBBBDwScB9LOk+nmQJUoAGwIeyuvNuWRBAAAHfBNzHku7jSZYgBbjmY7nLuutO0oDe5Y6C+RFIJrB6jbRmbdXXuvWFS8o2bya5r5bNucRsMuHybe2uDDj+0fLNz8yZCdAAZEZb5MCHjyxyRVZDoIwCa9ZJcz+QZi+Q5iwsPF68TFryceGrYk39wbVtJXVsL3VqX/jIq2c3aaduUq/uUvfOXH2ufsHyrNGtk+TuT/LGtPLMz6yZCdAAZEZbxMBNm0gHDy9iRVZBIGcB94t90gxp8kxp8gxp2jxpw4ZkQSxfJbkv10BsvbRoLrl3wwb3lYb0lQb1lVq33Hotvi+XwBEjaQDKZZ/hvDQAGeLWO/TeQ6R2bepdjRUQyEVg2lxp4lvSxEnS1Dm5TFk5iXsH4fWphS/3pGuOd99Z2md3adRgqRuno1ValePB/ntIvxkvVawtx+zMmZEADUBGsEUN67pqFgTKKbBgsfTwC9LDL0oLl5Qzki3ndscQvPpu4eu3d0oDeklHjJIOGSG1a73lunyXvYB7N2a/odJjL2c/FzPkJkADkBv1VhO1byONHLzVk3yLQA4C6zdIT78m3fuM9Ob0HCZMYYp350ju6493Fd4VOOFALlWbAmuDhnDHK9EANIjM95VpAMpVIffZv3ubkwWBvARWVUgPPi/d9YT0gUd/7Tck/7XrpadeK3y5s2dOOazwlym3r22IYmnrDhtQOIDTHR/CEoQADUC5yng41/0vF31087rT8/79pHTHw4WD8EIBeHe29OO/Se4ummPHSAcNlxo1CiU7//JwTdahe0l3ckqgf8UpLSIuBFSaW7KtenaVBnLufzJEtq5XwL3V7/7iP/9K6S93h/XLv3ry8xdJP71BuuTqwjED1V/jcboCHLeUrmeZR+MdgHIUgB+icqjHNefM96Wrb5Gmz40nb3cWw7evlw7YQ7r4VGm7tvHknlemfXpIO+8oTZ+X14zMk6EADUCGuLUOfeCwWl/iBQQSCbi/+sc/It30gOSOpI9xefr1wsGNl5xWOD4gRoMsc3b/f9EAZCmc29h8BJAb9aaJduwi7dAl71mZLwYBd5W+r/5S+tu98f7y31znZculH/5FuuomafnKzc/ybxoCI4ekMQpjeCDAOwB5F8Fd/IcFgTQF3BX6/vm4dMN90tp1aY5sf6xHXypcXOjSz0l7DbKfjw8Z9NtB2r6DtGipD9EQQwIB3gFIgFfSpntz7n9JbmxUs8AHH0mXXyf9+T/88q9ZSHL3LPju76Xr7sCoNqOGPs81TBoq5uX6NAB5lqV1Cy5ekqd36HO5g94u/YX09nuhZ5pOfvc/K33nd9KKVemMF/Moo3gnM4Ty0wDkWcXhA7n4T57eIc/18tvS16+TPuKiLA0qs7ujnXNz7wqwlC6wxy7c3rl0PW+2pAHIsxR0zXlqhzuXO7f/f/4orS7iFrzhKpSe2cz50mW/qPmuhKWPGteWLZtLrglgMS1AA5Bn+fbi8/88uYOc68b7pV/elvzWvEHiNCCpD5dKX722cLvjBmzGqtUEOJ6pGobNhzQAedXN3c2sY7u8ZmOe0ATWry9c2OeWB0PLrHz5uNMDv3W99Nyb5YvB8sw0AJar92nsNAB5lZBzZ/OSDnOeX9xWuG1vmNmVLyt3n4Qf/VV67d3yxWB15m6dpd7drUZP3JJoAPLaDdydtFgQKEXg7/dKj7xYypZsU4yAu3rilX+V3IWUWBomwP9rDfPybG0agDwK4u6i5T4CYEGgoQLu1LXbJjR0K9ZvqIA7NfB//iAtXd7QLeNef1CfuPM3nj0NQB4FdDfPaN4sj5mYIySBFyZJv/5HSBn5ncvCJdIP/iS5jwVYihOgASjOydO1aADyKMyuffOYhTlCEvj0Xvd/lzZsDCkr/3N5573CwZYbcS+qWN06SR3bF7UqK/knQAOQR00G8zZZHszBzLFgsfS9P0gVnOdflpo++WrhvgplmdzgpLwLYLBohZBpAPIo3SDeAciDOYg53AFpP/kbn0WXu5juuAvODCiuCjQAxTl5uBYNQNZF6dRe6tox61kYPxSBOx6W3p0TSja287j2dq62WEwFaQCKUfJyHRqArMvCD0fWwuGMP+N9iQv9+FNP91GMu8UyS90Cu/TiHid1C3n7Kg1A1qXh7f+shcMYf5270t/NkvuXxR+Bfz0hTZnlTzw+RuLOcNq5p4+REVM9AjQA9QAlfpl3ABITRjGA+8t/xrwoUjWVpDsb4JpbpbXrTIWde7D8P5c7eRoT0gCkoVjbGI0aSf3pjGvj4flNAu6Uv9sfhsNXAXeFwNu5GFOd5XEfA7CYE6AByLJk7hxZLgCUpbD9sTff5GfDBvu5hJyBOytg7sKQM0yWW69uybZn67II0ABkyd6za5ajM3YIAg88zzXoLdTRnZ7JuzS1V4r/62q38fgVGoAsi9OLBiBLXvNjr66Qbn7AfBrRJPDoy5K7XDDLtgKtWkidt9v2eZ7xWoAGIMvy0BVnqWt/7H8+Ln30if08YsnAfUwz/tFYsm14nvzB03CzMm9BA5BlAWgAstS1PfbK1dKdj9nOIcboH5ooLaVpq7H0/H9XI4vPT9IAZFmdnhwYkyWv6bHvf05yTQCLLQF3p8C7HrcVc17R0gDkJZ3aPDQAqVFuNVDrFpK7DDALAlsLuIv9/ItfIluzmPn+nqelFavMhJtboPzBkxt1WhPRAKQlufU4/DBsLcL3mwWeeEVatGzzd/xrTWBlhXTPM9aizj5e3gHI3jjlGWgAUgatHI4fhkoKHmwl4N7+Z7EtMGGi7fiziN7d9IzrnmQhm9mYNABZ0dIAZCVre9x5H0qTZtjOgeglV8cps5GoLuCufLrj9tWf4bHnAjQAWRWIc2KzkrU9Ln852q5f9egffan6dzx2Ap24FoClHYEGIKtqdWib1ciMa1ngEX5pWC7fFrE/9arkbhbEUiXQoV3VYx55L0ADkFWJtuMHIStas+NOmystWmo2fALfSsBdxGn63K2ejPxb/vAxtQPQAGRVLn4QspK1O+7zb9mNnchrFnjx7Zqfj/VZ/t8zVXkagKzKtR0fAWRFa3ZcGgCzpas18JdoALaw4Z3PLTh8/4YGIIsKtWwuuS8WBDYLLFvO28WbLUL6951Z0uo1IWWULBfeAUjml/PWNABZgPPXfxaqtsecPNN2/ERfs4C7QdC0OTW/FuOzHARoquo0AFmUix+CLFRtjzmJBsB2AeuI3r0LwFIQ4B0AU3sCDUAW5eKHIAtV22O+TQNgu4B1RD+FBqBSh2MAKiksPKAByKJKNABZqNod050rPn2e3fiJvG6BmfPrfj2mV5s3ldyN0FhMCNAAZFGmtm2yGJUxrQp8uFSq4EAxq+WrN+4Fi6T1G+pdLZoV2raOJlXridIAZFHBprBmwWp2zDkLzYZO4EUIuF/+HywpYsVIVmnSJJJE7afJb6osatiUH4AsWM2OOZcGwGztig38/Q+LXTP89fj/z0yNaQCyKFUTWLNgNTum+wiAJWyBRcvCzq8h2fH/X0O0yrouv6my4OctsCxU7Y65dLnd2Im8OIGPVxS3Xgxr8f+fmSrTAGRRKn4AslC1O6a7CiBL2AI0AFX15SOAKgvPH9EAZFEgDgLMQtXumEs/sRs7kRcnQANQ5cRHAFUWnj+iAciiQI05CDALVrNjVqw1GzqBFylAjaugeAe0ysLzRzQAWRSIdwCyULU7prtePEvYAu5iTywFAd4BMLMn0ABkUSo+A8tC1e6YNAB2a1ds5DQAVVL8/1dl4fmjpp7HZzM8d2GQVRU2Y08zaveXQPNmaY5oc6z1/HVos3ANiJomrwqLjwCqLDx/RAOQRYGuvV1yX7Evo4ZI378gdgWpGT9mwe8EHdsFn2LRCTYqek1WLLMAHwGUuQBBT7+a699/Wt823Bwl6P3cJde6ZfApFp0gP/dFU5V7RRqAclcg5Pn5j6BQXX45hLyXF3JrRQNQWWR+7ispfH9AA+B7hSzHt5rjID4tHw2A5b24uNipcZVTBT/3VRh+P6IB8Ls+tqPjL4FC/fjlYHs/Lib6VnzMU8nEz30lhe8PaAB8r5Dl+PiPoFA9GgDLe3FxsbemAaiE4ue+ksVtnG0AABsbSURBVML3BzQAvlfIcnwrV1uOPr3YO2+X3liM5KcANa6qywp+7qsw/H5EA+B3fWxHt3adtGKV7RzSiL539zRGYQyfBXp29Tm6/GJzTf8aLn2dH3iymWgAkvmxdX0CH31c3xrhv967W/g5xpxhh7ZS29YxC1Tl/hE3vqrC8P8RDYD/NbId4RL+Q1D3zlwMyPZeXHf0vWjwKoFo+CspLDygAbBQJcsx8h+C1Lix1LOL5SoSe10CPWkAKnl4B6CSwsIDGgALVbIcI/8hFKrHcQCW9+K6Y+/F5/+VQEv4yK/SwsADGgADRTIdIv8hFMo3qK/pMhJ8HQK77lTHi5G9xM+7qYLTAJgql8Fg5y8yGHQGIe85MINBGbLsAu4CQAN6lz0MbwLg592bUhQTCA1AMUqsU7rAvA9L3zakLd3nxF06hJQRuTiB3XeWuP1t1b7wPj/vVRj+P6IB8L9GtiPkP4Sq+o3gXYAqjEAeDRsQSCIppUHDnxJkPsPQAOTjHO8sFWulRUvjzb965iN2rf4dj0MQ2IMGoLKMS5ZJXAa4ksPCAxoAC1WyHiPvAhQq6P5adKcEsoQh0LGd1LdHGLmkkQV//aehmOsY/G+UK3ekk/EfQ6Hw7dtIIwdHuhMEmPYhI6RGjQJMrMSU5nHAb4lyZduMBqBs9BFNPOP9iJKtJ9VjRtWzAi+bEThibzOh5hLozHm5TMMk6QnQAKRnyUi1CUybW9sr8T3v3gFwbx2z2Bbou4PUb0fbOaQdPT/naYtmPh4NQObETCD3l8H6DUA4AXfKGH852t8XqOGWNdywQZrOOwBbovj/HQ2A/zWyH6E7E2DuQvt5pJXBUXwMkBZlWcZxB3IeumdZpvZ20rkfSBVrvA2PwGoWoAGo2YVn0xbg7cEqUXfv+JGDqr7nkS2BA4fxMc7WFePne2sRE9/TAJgoUwBBTp0TQBIppnDW6BQHY6hcBc44MtfpTEw2jZ9vE3XaKkgagK1A+DYjgckzMxrY6LDu+vGjdjMafMRh7z9U2olz/7fZAybx872NiYEnaAAMFCmIEKfPlVasDiKV1JI465jUhmKgnATOOCqniQxNs3K1xEcAhgpWFSoNQJUFj7IU2LBRmjQjyxnsjd2/p7Tf7vbijjXiUUOknXvGmn3tebt399xZACzmBGgAzJXMcMBvTDMcfEahjz1Watoko8EZNjWBxo2kc8akNlxQA/FzbbacNABmS2cw8DenGgw645B7d5dOPyLjSRg+scAJB3Hhn9oQaQBqk/H+eRoA70sUUIDuc0KOA9i2oKcfKfXqtu3zPOOHQOftpLM5a6PGYqyqkDjDp0YaC0/SAFioUigxuuMAXp0SSjbp5dGsqXTJ6emNx0jpClx4ktS6ZbpjhjLaK1P4/N9wLWkADBfPZOgT3zIZduZB79ZPGrNf5tMwQQMF9txVchf+YalZgJ/nml2MPEsDYKRQwYT5wmT+YqitmOefIO3YtbZXeT5vgbateWemLnN35P8Lk+pag9c8F6AB8LxAwYX38Qpp8nvBpZVKQu5t5u+eJ7VsnspwDJJQ4PIzpa4dEw4S8ObvzJKWrQg4wfBTowEIv8b+ZcjbhrXXZKfu0mVn1P46r+QjcOrhkjvvn6V2AX6Oa7cx8goNgJFCBRXm8xwHUGc9DxounXRInavwYoYCQ/pJYznnv15hfo7rJfJ9BRoA3ysUYnzu1qHu0sAstQucf7y0e//aX+eVbAQ6tJW+NVZqwsWZ6gSe8b40m1t812lk4EUaAANFCjLEx14OMq3UknK/gL53PpeeTQ20iIFat5B+eJHkzvtnqVvgsZfqfp1XTQjQAJgoU4BBPv4KZwPUV9Y2raQfXST15iJB9VElft1di+F7F0ju/gwsdQts3Cg9TgNfN5KNV2kAbNQpvCgXL5O4hGj9dd2urfSTL0s9Ote/LmuUJuCu8+/e9h/KRy5FAb45TVq0rKhVWclvARoAv+sTdnSP8jZiUQXutF2hCdiet6aL8mroSuM+J+3LXRmLZuPntmgq31ekAfC9QiHH98zr0uqKkDNML7dunaWrL+XjgPREpSaNJXeu/1Gj0hw17LFWr5Geej3sHCPKjgYgomJ7l+rKComDAYsvi7sozdXjeKu6eLHa13QXW/rBBdLhI2tfh1e2FXDH7qxcve3zPGNSgAbAZNkCCvqeZwJKJodU3OVpr7xIOmzPHCYLdAp3XMXPLpb2HBRoghmmdc/TGQ7O0HkL0ADkLc58WwrMmCe9PXPL5/iubgF3xPrXz5Y+d1Td6/HqtgI7bC9dM04a0Hvb13imboF33uP6HXULmXuVBsBcyQIMmL8qSiuqu1rd/35Rcn/RstQvcPBw6brLpR261L8ua2wrwLt125oYf4YGwHgBgwj/qdekZcuDSCX3JEYOln77DcndtpalZoHmzaRLTpO+OVZq07LmdXi2bgF3E68nX617HV41J0ADYK5kAQa8dr3EuwClF7ZjO+mHF0oXnCg15RK2W0C6iyhd+1Vp9H5bPM03DRS492lp7boGbsTqvgvQAPheoVji+/eTnBKYpNaNGkknHyJd9zVpt52TjBTGtq4Rcnf0u/ZrUp8eYeRUrizcqX//erJcszNvhgI0ABniMnQDBD5ZKd3/XAM2YNUaBfruIF31Fekb50ixXjho2ADpt1dI5x0vudP9WJIJPPic5D4CYAlOoGlwGZGQXYF/PiYdd4DkjnJnSSZwyAhpnyHS7Q9Ldz4quY9ZQl9cw/PFk6QDh4WeaX75rVsvjX8sv/mYKVcB/qfNlZvJ6hRw1xd3lxk9ep86V+PFIgVatpDGHisds480/lHpwYlhfo7bsX3h44/j9pdczizpCbifx0VL0xuPkbwSaLTxmHEbvYqIYOIWcOdp/+Hbhcu0xi2RfvZLP5H+9YTkTudasSr98fMesVunwuf8R46SmvO3TOr86zdIF/5UmvdB6kMzoB8C/NT4UQei2Czw/iJpwkTpmH03P8O/aQl0aCd94TjptCOk+54tfM1flNbo+Y0zoJd0wsHSIcOlJpz1kBn8wy/wyz8zXD8G5h0AP+pAFNUFOm8n/fn/SS04gKs6SyaP3dXd3Nu87hzvZR4f6OXug3DYXoWvXt0yoWDQagJr1krnX8ltf6uRhPiQdwBCrKr1nBYvk/7zVOHtXeu5+B7/rn0k93XhSdIrU6QnXpVenSIt+bj8kXftVLjA0aEjCqc2ulMdWfIRcD9/7pgclqAFaACCLq/h5O54WBq9r+RufsOSvYB7K91dVdB9uWXuB9IbU6U3phW+Pvok+xjcOz979JeG7iLtsYvUvXP2czLDtgLu+BB39ghL8AI0AMGX2GiCy1dJ/3hEOvd4owkYD7tnV8l9jdm/kIg7NmPuQmnuh4XmwB0Y5pqEUt4p6NS+MPbmOdy/7op93fiF78Ve437ulq/0IhSCyFaABiBbX0ZPInDX49LR+0ruzACW8gq4GrivvbcKY826wv3hV62WVlVUfVWskdw1+Fu1lFq3kFq5r5aFa/FznYetED36dsFi6Z+PexQQoWQpQAOQpS5jJxNwF6/53T8Ld7xLNhJbZyXgTr9r3lbqwB0JsyLOdVz388Y1/3MlL+dkXAq4nPrMXb/Ai5Ol59+qfz3WQACBZAIvTJImTko2BlubEqABMFWuSIP9/V2SOy2JBQEEshFwH+W4v/5ZohKgAYiq3EaTdZ9L3vGI0eAJGwEDAuMfkeYvNhAoIaYpQAOQpiZjZSdwxwRp9oLsxmdkBGIVcGd33DYh1uyjzpsGIOryG0reHRB4za2Suz45CwIIpCOwYYN09a0c+JeOprlRaADMlSzigKfMku7i1qQR7wGknrbAXU9I7nLQLFEK0ABEWXbDSd9wvzRnoeEECB0BTwTchZxuuM+TYAijHAI0AOVQZ87SBdw5ytfcIrm3LlkQQKA0Affz436OOLumNL9AtqIBCKSQUaXxzizpxgeiSplkEUhV4OYHpbd56z9VU4OD0QAYLBohS7rtIemFyVAggEBDBV56W7r1oYZuxfoBCtAABFjUaFK66kZpIecuR1NvEk0usHCJ9LMbpY0bk4/FCOYFaADMlzDiBNwdA6/8q+SuYsaCAAJ1C7ifkx/9lTv91a0U1as0AFGVO8Bkp82VfntngImREgIpC7hL/U6dk/KgDGdZgAbAcvWIvSDwwHPShIloIIBAbQIPvyDd/2xtr/J8pAI0AJEWPri0fz1emjEvuLRICIHEAjPel371j8TDMEB4AjQA4dU0zozc+cxX/kVasSrO/MkagZoE3M+D+7ngfP+adKJ/jgYg+l0gIAB3N7P/u5kjnAMqKakkFLj6Fmn+ooSDsHmoAjQAoVY21ryef0u65cFYsydvBKoEbn1Qeu7Nqu95hMBWAjQAW4HwbQACNz0g3f10AImQAgIlCtz7jOTum8GCQB0CNAB14PCSYYHrx0uPvGQ4AUJHoESBx16WfjO+xI3ZLCYBGoCYqh1bru5mJ8/zFmhsZY8634mTOA4m6h2gYcnTADTMi7UtCbg7nv34b9Jr71qKmlgRKE3gjamFK/1xp8zS/CLcigYgwqJHlfLa9dIP/iRNmRVV2iQbmcCU2dL3/yS522WzIFCkAA1AkVCsZlhg9RrpO7+X3ptvOAlCR6AWgVkLpO/+TlpVUcsKPI1AzQI0ADW78GxoAstXSt/+LedEh1bX2PNZsFj69vXSJytjlyD/EgRoAEpAYxOjAh99LH3remnxMqMJEDYC1QSWLCvsz0s+rvYkDxEoXoAGoHgr1gxBwN0P/Ru/ltxfTiwIWBVYuFi64jfsx1br50ncNACeFIIwchSY96F02S+4NWqO5EyVosC0OdJlv5TmfZDioAwVowANQIxVJ2dp6XLpil9JL05GAwE7Ai+9LX39V9JHn9iJmUi9FaAB8LY0BJa5gDs7wJ069cDzmU/FBAgkFnhoovS9P0puv2VBIAWBpimMwRAI2BVwF0259jZp0UfSWaPt5kHkYQvc/IDk7nHBgkCKAjQAKWIylGGBmx+UPvhIGne61KSJ4UQIPSiB9eulX90hPTgxqLRIxg8BGgA/6kAUPghMeEFa/LH0nXOlVi18iIgYYhZwF/Zxl7J2n/uzIJCBAMcAZIDKkIYFXnmncJAV51YbLmIAobuD/NxBqvzyD6CY/qZAA+BvbYisXALT50rjrpbeml6uCJg3ZoG3ZkiXXC1NmxuzArnnINBo4zHjNuYwD1MgYE+gcSPpjKOkM46WmtAr2yugsYjXb5Bue0i65UFpA/8tG6ueyXA5BsBk2Qg6FwH3n7A7OPC1qdI3zpa6dMxlWiaJUODDpdLPb+RdpwhLX86U+bOmnPrMbUNg0gzpyz+XnnnDRrxEaUvg2TcK+xcfOdmqWwDR8hFAAEUkhRwFxuwnffFEqUXzHCdlqiAF1qyV/vgv6Z5ngkyPpPwX4CMA/2tEhD4J3Pes5N4R+NZYaacePkVGLJYEZi2Qfvp36b35lqIm1sAE+AggsIKSTg4C7j/vS66R7uUvtxy0w5vCNZHuKH9++YdXW2MZ8RGAsYIRrmcCIwdLF58qdeUAQc8q41847kqT14+XJk7yLzYiilKABiDKspN0qgLueICzR0snHszpgqnCBjKYO73v309IN9wvVXAjn0CqGkQaNABBlJEkvBDot6N0yWnSwJ28CIcgPBCYMlv61e3S9HkeBEMICGwpQAOwpQffIZBMoFEjyZ0p4O4s2KFtsrHY2q7AsuXSTfdL9z4rbeSiPnYLGXbkNABh15fsyiXQuqX0uSOlzxwsNedkm3KVIfd516yT/vOEdOsEaeXq3KdnQgQaIkAD0BAt1kWgoQJdO0nnHScdPKKhW7K+NYEnX5X+cre0cIm1yIk3UgEagEgLT9o5C7jjAs4ZI40YmPPETJe5wKtTpBvuk96ZlflUTIBAmgI0AGlqMhYC9QkM6lM4PoBGoD4p/193v/hvekCaPNP/WIkQgRoEaABqQOEpBDIXcI3AmcdIe+6a+VRMkLLAK1Okm/nFn7Iqw5VBgAagDOhMiUClQP+e0kmHSAcNl5o2qXyaB54JrFsvPfWadNfj0tQ5ngVHOAiUJkADUJobWyGQrkCn9tIJBxZOIWzXJt2xGa10gU9WSPc9J939lLR4WenjsCUCHgrQAHhYFEKKWKBFM+mwkdKYfaX+vSKGKHPq0+ZK9z8rPfKiVLG2zMEwPQLZCNAAZOPKqAgkF+i7g3T0PtJhe0q8K5Dcs74R3F/7j74sPTRRmsGV++rj4nX7AjQA9mtIBqELNGsi7TtUOmKkNHwgxwqkWW/32f5r70oTXpCee0Nauz7N0RkLAa8FaAC8Lg/BIbCVQNtW0j67SwcOk4YPkJpxlcGthOr/1v3Sd6fwuYP6nntLWr6y/m1YA4EABWgAAiwqKUUi0MY1A7tJ++4uDRsgtWkZSeIlpLlitfT6u9JzbxZ+6a9YVcIgbIJAWAI0AGHVk2xiFWjcWHLXFthzoDRikLRLT8k9F+uyYYPkDuR7+Z3C19vvSe45FgQQqBSgAaik4AECAQm0byMN7S8N6isN7iPt3DPsjwvWrpOmz5Umvye9PVN6Y5r08YqACkoqCKQvQAOQvikjIuCfgDtWYJdehXcJ3H0J+vSQdugiNTH4LsH6DdL8D6WZ86Upswu/8N3FeVwTwIIAAkULcARR0VSsiIBhAffL0V2zvvp1611T0LubtFMPqW8PqXd3qVtnqVsnqWXz8ie7eo30wRJpwRJp9nzpvQXSe+9Lsxfyy7781SGCAARoAAIoIikgUJLAp2+bz5Om13DO+3ZtCo2Au51x145Sx3aFaxG4jxbcNQnat5bc41YtpKZNi3snwf3lvm6dtKqi8Pb8xysld+69e6ve/bt0ufTBR9LCxYVb6i7jLfyS6spGCBQpQANQJBSrIRCVgPvl677eLfK6940bFRoBdz8D986C+2jB/cJ3TYY77c794t+wMSpCkkXAdwEaAN8rRHwIWBBwv9zXrC18WYiXGBFAQAaPAKJqCCCAAAIIIJBUgAYgqSDbI4AAAgggYFCABsBg0QgZAQQQQACBpAI0AEkF2R4BBBBAAAGDAjQABotGyAgggAACCCQVoAFIKsj2CCCAAAIIGBSgATBYNEJGAAEEEEAgqQANQFJBtkcAAQQQQMCgAA2AwaIRMgIIIIAAAkkFaACSCrI9AggggAACBgVoAAwWjZARQAABBBBIKkADkFSQ7RFAAAEEEDAoQANgsGiEjAACCCCAQFIBGoCkgmyPAAIIIICAQQEaAINFI2QEEEAAAQSSCtAAJBVkewQQQAABBAwK0AAYLBohI4AAAgggkFSABiCpINsjgAACCCBgUIAGwGDRCBkBBBBAAIGkAjQASQXZHgEEEEAAAYMCNAAGi0bICCCAAAIIJBWgAUgqyPYIIIAAAggYFKABMFg0QkYAAQQQQCCpAA1AUkG2RwABBBBAwKAADYDBohEyAggggAACSQVoAJIKsj0CCCCAAAIGBWgADBaNkBFAAAEEEEgqQAOQVJDtEUAAAQQQMChAA2CwaISMAAIIIIBAUgEagKSCbI8AAggggIBBARoAg0UjZAQQQAABBJIK0AAkFWR7BBBAAAEEDArQABgsGiEjgAACCCCQVIAGIKkg2yOAAAIIIGBQgAbAYNEIGQEEEEAAgaQCNABJBdkeAQQQQAABgwI0AAaLRsgIIIAAAggkFaABSCrI9ggggAACCBgUoAEwWDRCRgABBBBAIKkADUBSQbZHAAEEEEDAoAANgMGiETICCCCAAAJJBWgAkgqyPQIIIIAAAgYFaAAMFo2QEUAAAQQQSCpAA5BUkO0RQAABBBAwKEADYLBohIwAAggggEBSARqApIJsjwACCCCAgEEBGgCDRSNkBBBAAAEEkgrQACQVZHsEEEAAAQQMCtAAGCwaISOAAAIIIJBUgAYgqSDbI4AAAgggYFCABsBg0QgZAQQQQACBpAI0AEkF2R4BBBBAAAGDAjQABotGyAgggAACCCQVoAFIKsj2CCCAAAIIGBSgATBYNEJGAAEEEEAgqQANQFJBtkcAAQQQQMCgAA2AwaIRMgIIIIAAAkkFaACSCrI9AggggAACBgVoAAwWjZARQAABBBBIKkADkFSQ7RFAAAEEEDAoQANgsGiEjAACCCCAQFIBGoCkgmyPAAIIIICAQQEaAINFI2QEEEAAAQSSCtAAJBVkewQQQAABBAwK0AAYLBohI4AAAgggkFSABiCpINsjgAACCCBgUIAGwGDRCBkBBBBAAIGkAjQASQXZHgEEEEAAAYMCNAAGi0bICCCAAAIIJBWgAUgqyPYIIIAAAggYFKABMFg0QkYAAQQQQCCpAA1AUkG2RwABBBBAwKAADYDBohEyAggggAACSQVoAJIKsj0CCCCAAAIGBWgADBaNkBFAAAEEEEgqQAOQVJDtEUAAAQQQMChAA2CwaISMAAIIIIBAUgEagKSCbI8AAggggIBBARoAg0UjZAQQQAABBJIK0AAkFWR7BBBAAAEEDArQABgsGiEjgAACCCCQVIAGIKkg2yOAAAIIIGBQgAbAYNEIGQEEEEAAgaQCNABJBdkeAQQQQAABgwI0AAaLRsgIIIAAAggkFaABSCrI9ggggAACCBgUoAEwWDRCRgABBBBAIKkADUBSQbZHAAEEEEDAoAANgMGiETICCCCAAAJJBWgAkgqyPQIIIIAAAgYFaAAMFo2QEUAAAQQQSCpAA5BUkO0RQAABBBAwKEADYLBohIwAAggggEBSARqApIJsjwACCCCAgEEBGgCDRSNkBBBAAAEEkgrQACQVZHsEEEAAAQQMCtAAGCwaISOAAAIIIJBUgAYgqSDbI4AAAgggYFCABsBg0QgZAQQQQACBpAI0AEkF2R4BBBBAAAGDAjQABotGyAgggAACCCQVoAFIKsj2CCCAAAIIGBSgATBYNEJGAAEEEEAgqQANQFJBtkcAAQQQQMCgAA2AwaIRMgIIIIAAAkkFaACSCrI9AggggAACBgVoAAwWjZARQAABBBBIKkADkFSQ7RFAAAEEEDAoQANgsGiEjAACCCCAQFIBGoCkgmyPAAIIIICAQQEaAINFI2QEEEAAAQSSCtAAJBVkewQQQAABBAwK0AAYLBohI4AAAgggkFSABiCpINsjgAACCCBgUIAGwGDRCBkBBBBAAIGkAjQASQXZHgEEEEAAAYMCNAAGi0bICCCAAAIIJBWgAUgqyPYIIIAAAggYFKABMFg0QkYAAQQQQCCpwP8HxA9s02mn95IAAAAASUVORK5CYII=\"\n}));\n\nconst SvgLogo = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 36,\n  height: 36,\n  viewBox: \"0 0 36 36\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgLogo, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/logo.1072bc0d.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { Footnote1, Headline4, Caption } from '@sberdevices/plasma-styles';\nimport { primary, secondary } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { useContainerFocus } from 'hooks/useContainerFocus';\nimport { selectHeader } from 'store/selectors';\nimport { icon } from 'style/const/icon';\nimport { layout } from 'style/const/layout';\nimport { transition } from 'style/const/transition';\n\nimport { HeaderAddress } from '../HeaderAddress/HeaderAddress';\nimport { HeaderCart } from '../HeaderCart/HeaderCart';\n\nimport { ReactComponent as ChevronLeftSvg } from './Header.assets/chevron-left.svg';\nimport { ReactComponent as LogoSvg } from './Header.assets/logo.svg';\n\nconst headerPaddingTopPx = 32;\n\ninterface StyledHeaderProps {\n    isVisible: boolean;\n}\n\nconst StyledHeader = styled.div<StyledHeaderProps>`\n    --spatial-navigation-contain: contain;\n\n    position: relative;\n\n    height: ${layout.headerHeightPx}px;\n\n    box-sizing: border-box;\n    padding: ${headerPaddingTopPx}px 88px 0 128px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    opacity: ${({ isVisible }) => Number(isVisible)};\n\n    transition: opacity ${transition.default};\n`;\n\nconst backButtonTopPx = 24 + headerPaddingTopPx;\n\nconst backButtonIconSizePx = icon.m.sizePx;\n\nconst StyledBackButton = styled.span`\n    position: absolute;\n    top: ${backButtonTopPx}px;\n    left: 24px;\n\n    width: 80px;\n    height: 80px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledChevronLeft = styled(ChevronLeftSvg)`\n    width: ${backButtonIconSizePx}px;\n    height: ${backButtonIconSizePx}px;\n`;\n\nconst StyledSection = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst logoSizePx = 72;\n\nconst StyledLogo = styled(LogoSvg)`\n    width: ${logoSizePx}px;\n    height: ${logoSizePx}px;\n    border-radius: 16px;\n`;\n\nconst StyledTitle = styled(Headline4)`\n    color: ${primary};\n`;\n\nconst StyledSubtitle = styled(Footnote1)`\n    color: ${secondary};\n`;\n\nconst StyledCaption = styled(Caption)`\n    margin-left: 24px;\n\n    display: flex;\n\n    flex-direction: column;\n`;\n\nconst cartButtonRef = React.createRef<HTMLButtonElement>();\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const Header: React.FC = ({ children, ...props }) => {\n    const { title, subtitle, isBackButtonVisible, isVisible: isHeaderVisible } = useSelector(selectHeader);\n    const isAddressVisible = useSelector((state) => selectHeader(state).address.isVisible);\n    const isCartVisible = useSelector((state) => selectHeader(state).cart.isVisible);\n    const hasSubtitle = Boolean(subtitle);\n\n    const handleReceiveFocus = React.useCallback(() => {\n        if (isCartVisible) {\n            cartButtonRef.current?.focus();\n        }\n    }, [isCartVisible]);\n\n    const { handleFocus, handleBlur } = useContainerFocus({\n        onReceiveFocus: handleReceiveFocus,\n    });\n\n    return (\n        <StyledHeader isVisible={isHeaderVisible} {...props} onFocus={handleFocus} onBlur={handleBlur}>\n            {isBackButtonVisible && (\n                <StyledBackButton>\n                    <StyledChevronLeft />\n                </StyledBackButton>\n            )}\n            <StyledSection>\n                <StyledLogo />\n                <StyledCaption>\n                    <StyledTitle>{title}</StyledTitle>\n                    {hasSubtitle ? <StyledSubtitle>{subtitle}</StyledSubtitle> : null}\n                </StyledCaption>\n            </StyledSection>\n            <StyledSection>\n                <HeaderAddress isVisible={isAddressVisible} />\n                <HeaderCart forwardRef={cartButtonRef} isVisible={isCartVisible} />\n            </StyledSection>\n        </StyledHeader>\n    );\n};\n","import { createGlobalStyle } from 'styled-components';\nimport React from 'react';\nimport { ThemeDarkEva, ThemeDarkJoy, ThemeDarkSber } from '@sberdevices/plasma-styles';\nimport { darkSber } from '@sberdevices/plasma-tokens/themes/darkSber';\nimport { useSelector } from 'hooks/useSelector';\nimport { Character } from 'store/constants/character';\nimport { selectCharacter } from 'store/selectors';\n\nexport const DefaultTheme = createGlobalStyle`\n    ${darkSber}\n\n    /* stylelint-disable-next-line selector-nested-pattern */\n    :root {\n        --plasma-colors-background: transparent;\n        --plasma-colors-buttonAccent: #000;\n        --plasma-colors-buttonFocused: #080808;\n        --plasma-colors-gradient: transparent;\n        color: #fff;\n        background-color: transparent;\n    }\n`;\n\ntype ThemeType = typeof ThemeDarkEva | typeof ThemeDarkJoy | typeof ThemeDarkSber;\n\nconst characterIdToThemeMap: Record<Character, ThemeType> = {\n    [Character.Eva]: ThemeDarkEva,\n    [Character.Joy]: ThemeDarkJoy,\n    [Character.Sber]: ThemeDarkSber,\n};\n\nexport const Theme: React.FC = () => {\n    const characterId = useSelector(selectCharacter);\n\n    const CharacterTheme = characterIdToThemeMap[characterId] || DefaultTheme;\n\n    return <CharacterTheme />;\n};\n","import React from 'react';\n\nconst pixelUrl = '/success.png';\n\nexport const TransparentPixel: React.FC = () => (\n    <img src={pixelUrl} alt=\"\" style={{ position: 'absolute', top: -1, left: -1 }} />\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { background, gradient } from '@sberdevices/plasma-tokens';\nimport { Header } from 'components/Header/Header';\nimport { Theme } from 'components/Theme/Theme';\nimport { TransparentPixel } from 'components/TransparentPixel/TransparentPixel';\nimport { layout } from 'style/const/layout';\n\nconst StyledContainer = styled.div`\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    overflow: hidden;\n\n    background-color: ${background};\n    background-image: ${gradient};\n`;\n\nconst AppContent = styled.div`\n    position: relative;\n    z-index: 2;\n\n    height: ${layout.contentHeightPx}px;\n`;\n\nconst StyledHeader = styled(Header)`\n    z-index: 3;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const AppLayout: React.FC = ({ children }) => {\n    return (\n        <StyledContainer onScroll={preventScroll}>\n            <Theme />\n            <StyledHeader />\n            <TransparentPixel />\n            <AppContent>{children}</AppContent>\n        </StyledContainer>\n    );\n};\n","import { createGlobalStyle } from 'styled-components';\n\nexport const SBSansDisplay = createGlobalStyle`\n    @font-face {\n        font-family: 'SB Sans Display';\n        src: url('fonts/SBSansDisplay/SBSansDisplay-Light.woff2') format('woff2'), url('fonts/SBSansDisplay/SBSansDisplay-Light.woff') format('woff');\n        font-weight: 300;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Display';\n        src: url('fonts/SBSansDisplay/SBSansDisplay-Thin.woff2') format('woff2'), url('fonts/SBSansDisplay/SBSansDisplay-Thin.woff') format('woff');\n        font-weight: 100;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Display';\n        src: url('fonts/SBSansDisplay/SBSansDisplay-Bold.woff2') format('woff2'), url('fonts/SBSansDisplay/SBSansDisplay-Bold.woff') format('woff');\n        font-weight: bold;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Display';\n        src: url('fonts/SBSansDisplay/SBSansDisplay-Regular.woff2') format('woff2'), url('fonts/SBSansDisplay/SBSansDisplay-Regular.woff') format('woff');\n        font-weight: normal;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Display';\n        src: url('fonts/SBSansDisplay/SBSansDisplay-Semibold.woff2') format('woff2'), url('fonts/SBSansDisplay/SBSansDisplay-Semibold.woff') format('woff');\n        font-weight: 600;\n        font-style: normal;\n    }\n`;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const SBSansText = createGlobalStyle`\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Light.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Light.woff') format('woff');\n        font-weight: 300;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Italic.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Italic.woff') format('woff');\n        font-weight: normal;\n        font-style: italic;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-SemiboldItalic.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-SemiboldItalic.woff') format('woff');\n        font-weight: 600;\n        font-style: italic;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Thin.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Thin.woff') format('woff');\n        font-weight: 100;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Regular.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Regular.woff') format('woff');\n        font-weight: normal;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Semibold.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Semibold.woff') format('woff');\n        font-weight: 600;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-LightItalic.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-LightItalic.woff') format('woff');\n        font-weight: 300;\n        font-style: italic;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Heavy.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Heavy.woff') format('woff');\n        font-weight: 900;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Bold.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Bold.woff') format('woff');\n        font-weight: bold;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-BoldItalic.woff2') format('woff2'), url('/fonts/SBSansText/SBSansText-BoldItalic.woff') format('woff');\n        font-weight: bold;\n        font-style: italic;\n    }\n\n    @font-face {\n        font-family: 'SB Sans Text';\n        src: url('fonts/SBSansText/SBSansText-Medium.woff2') format('woff2'), url('fonts/SBSansText/SBSansText-Medium.woff') format('woff');\n        font-weight: 500;\n        font-style: normal;\n    }\n`;\n","import React from 'react';\nimport { SBSansDisplay } from 'style/fonts/SBSansDisplay';\nimport { SBSansText } from 'style/fonts/SBSansText';\n\nexport const Fonts: React.FC = () => (\n    <>\n        <SBSansDisplay />\n        <SBSansText />\n    </>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Caption } from '@sberdevices/plasma-styles';\nimport { background, buttonAccent, primary, warning } from '@sberdevices/plasma-tokens';\n\nconst captionLineHeightPx = 32;\n\nexport type BadgeType = 'sold-out' | 'few-left' | 'sale' | 'price-changed';\n\nconst contentMap: Record<BadgeType, (s?: string) => string> = {\n    'sold-out': () => 'Раскупили',\n    'few-left': () => 'Больше нет',\n    'price-changed': () => 'Изменилась цена',\n    sale: (value) => `Скидка ${value}%`,\n};\n\nconst backgroundColorMap: Record<BadgeType, string> = {\n    'sold-out': background,\n    'few-left': warning,\n    'price-changed': warning,\n    sale: buttonAccent,\n};\n\nconst badgePaddingYPx = 8;\nconst badgeHeightPx = captionLineHeightPx + badgePaddingYPx * 2;\nconst badgeBorderRadiusPx = badgeHeightPx / 2;\n\ninterface StyledBadgeProps {\n    type: BadgeType;\n}\nconst StyledBadge = styled(Caption)<StyledBadgeProps>`\n    padding: ${badgePaddingYPx}px 16px;\n    border-radius: ${badgeBorderRadiusPx}px;\n\n    color: ${primary};\n    background-color: ${({ type }) => backgroundColorMap[type]};\n`;\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement> {\n    className?: string;\n    type: BadgeType;\n    content?: string;\n}\nexport const Badge: React.FC<BadgeProps> = ({ type, content, className }) => {\n    const contentProvider = contentMap[type];\n\n    return (\n        <StyledBadge className={className} type={type}>\n            {contentProvider(content)}\n        </StyledBadge>\n    );\n};\n","import React from 'react';\nimport styled, { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { Caption, Footnote2, Underline } from '@sberdevices/plasma-styles';\nimport { colors, secondary } from '@sberdevices/plasma-tokens';\nimport { transition } from 'style/const/transition';\n\ntype IndexBadgeSize = 'xxs' | 'xs' | 's' | 'm';\n\ninterface StyledIndexBadgeProps {\n    visible: boolean;\n    size: IndexBadgeSize;\n}\n\nconst mapSizeToPx: Record<IndexBadgeSize, number> = {\n    xxs: 22,\n    xs: 32,\n    s: 44,\n    m: 64,\n};\n\nconst mapSizeToParams: Record<IndexBadgeSize, FlattenSimpleInterpolation> = {\n    xxs: css`\n        width: ${mapSizeToPx.xxs}px;\n        height: ${mapSizeToPx.xxs}px;\n    `,\n    xs: css`\n        width: ${mapSizeToPx.xs}px;\n        height: ${mapSizeToPx.xs}px;\n    `,\n    s: css`\n        width: ${mapSizeToPx.s}px;\n        height: ${mapSizeToPx.s}px;\n    `,\n    m: css`\n        width: ${mapSizeToPx.m}px;\n        height: ${mapSizeToPx.m}px;\n    `,\n};\n\nconst StyledIndexBadge = styled.div<StyledIndexBadgeProps>`\n    position: absolute;\n\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ${({ size }) => mapSizeToParams[size]};\n\n    color: ${secondary};\n\n    transition: transform ${transition.default}, opacity ${transition.default};\n\n    background: ${colors.blackSecondary};\n\n    ${({ visible }) => css`\n        transform: scale(${Number(visible)});\n        opacity: ${Number(visible)};\n    `}\n`;\n\ninterface IndexBadgeProps {\n    size: IndexBadgeSize;\n    index?: number;\n}\n\nexport const IndexBadge: React.FC<IndexBadgeProps> = ({ index, size, ...props }) => {\n    return (\n        <StyledIndexBadge visible={index !== undefined && index > 0} size={size} {...props}>\n            {size === 'xxs' && <Underline>{index}</Underline>}\n            {size === 'xs' && <Footnote2>{index}</Footnote2>}\n            {size === 's' && <Caption>{index}</Caption>}\n            {size === 'm' && <Footnote2>{index}</Footnote2>}\n        </StyledIndexBadge>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5V11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H11V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H13V5Z\",\n  fill: \"white\"\n});\n\nconst SvgPlus = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgPlus, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/plus.9af213dd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.99914 16.1999L5.49914 12.6999C5.10914 12.3099 4.48914 12.3099 4.09914 12.6999C3.70914 13.0899 3.70914 13.7099 4.09914 14.0999L8.28914 18.2899C8.67914 18.6799 9.30914 18.6799 9.69914 18.2899L20.2991 7.69995C20.6891 7.30995 20.6891 6.68995 20.2991 6.29995C19.9091 5.90995 19.2891 5.90995 18.8991 6.29995L8.99914 16.1999Z\",\n  fill: \"white\"\n});\n\nconst SvgDone = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgDone, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/done.f4143229.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport { Body1, Body2, Button2 } from '@sberdevices/plasma-styles';\nimport { accent, buttonSecondary, primary, surfaceLiquid01, warning } from '@sberdevices/plasma-tokens';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useFocusOnChange } from 'hooks/useFocusOnChange';\nimport { useSelector } from 'hooks/useSelector';\nimport { catalogSelectItemAction } from 'store/actions/catalogPage';\nimport { addItemAction } from 'store/actions/native';\nimport { Badge, BadgeProps } from 'components/Badge/Badge';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { icon } from 'style/const/icon';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport { ReactComponent as PlusSvg } from 'assets/icons/plus.svg';\nimport { ReactComponent as DoneSvg } from 'assets/icons/done.svg';\n\nexport const cardWidthPx = 392;\nexport const cardHeightPx = 592;\nexport const cardBorderRadiusPx = 40;\n\nconst thumbSizePx = cardWidthPx;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\nconst StyledThumb = styled.div<StyledThumbProps>`\n    display: block;\n    height: ${thumbSizePx}px;\n    width: ${thumbSizePx}px;\n\n    background: rgba(255, 255, 255, 0.04);\n    background-image: url('${(props) => props.imageUrl}');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    border-top-left-radius: ${cardBorderRadiusPx}px;\n    border-top-right-radius: ${cardBorderRadiusPx}px;\n`;\n\nconst descriptionHeightPx = cardHeightPx - thumbSizePx;\nconst descriptionPaddingPx = 32;\n\nconst StyledDescription = styled.div`\n    position: relative;\n\n    height: ${descriptionHeightPx}px;\n\n    box-sizing: border-box;\n    padding: ${descriptionPaddingPx}px;\n\n    border-bottom-left-radius: ${cardBorderRadiusPx}px;\n    border-bottom-right-radius: ${cardBorderRadiusPx}px;\n`;\n\nconst nameLineCount = 2;\n\nconst StyledName = styled(Body1)`\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: ${nameLineCount};\n    overflow: hidden;\n\n    color: ${primary};\n`;\n\nconst StyledPriceContainer = styled.div`\n    position: absolute;\n    bottom: 36px;\n\n    display: flex;\n`;\n\nconst StyledPrice = styled(Body2)`\n    color: ${primary};\n`;\n\nconst StyledOldPrice = styled(Body2)`\n    position: relative;\n    opacity: 0.24;\n    color: ${primary};\n    margin-left: 8px;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: calc(50% - 2px);\n        border-top: 4px solid ${primary};\n        left: 2px;\n        right: 2px;\n    }\n`;\n\ninterface StyledCountProps {\n    isWarning?: boolean;\n}\nconst StyledCount = styled(Body2)<StyledCountProps>`\n    margin-left: 8px;\n\n    color: ${({ isWarning }) => (isWarning ? warning : accent)};\n`;\n\nconst buttonIconSizePx = icon.m.sizePx;\nconst buttonSizePx = 72;\nconst buttonOffsetXPx = 12;\nconst buttonOffsetYPx = -52;\n\ninterface StyledButtonProps {\n    isDisabled?: boolean;\n}\nconst StyledButton = styled(Button2)<StyledButtonProps>`\n    position: absolute;\n    top: ${buttonOffsetYPx}px;\n    right: ${buttonOffsetXPx}px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: ${buttonSizePx}px;\n    height: ${buttonSizePx}px;\n\n    border-radius: 50%;\n\n    background-color: ${({ isDisabled }) => (isDisabled ? buttonSecondary : accent)};\n\n    opacity: 0;\n\n    transition: opacity ${transition.default}, background-color ${transition.default};\n`;\n\nconst StyledPlusIcon = styled(PlusSvg)`\n    width: ${buttonIconSizePx}px;\n    height: ${buttonIconSizePx}px;\n`;\n\nconst StyledDoneIcon = styled(DoneSvg)`\n    width: ${buttonIconSizePx}px;\n    height: ${buttonIconSizePx}px;\n`;\n\nconst badgePositionPx = 16;\n\nconst CatalogListItemBadge = styled(Badge)`\n    position: absolute;\n    top: ${badgePositionPx}px;\n    left: ${badgePositionPx}px;\n    z-index: 1;\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: 8px;\n    right: 8px;\n`;\n\nconst cardScaleFactor = 1 / 1.04;\nconst addActiveDurationMs = 200;\n\nconst AddAnimation = css`\n    animation-name: ${keyframes`\n        0% {\n            transform: scale(1);\n        }\n        100% {\n            transform: scale(${cardScaleFactor});\n        }\n    `};\n    animation-duration: ${addActiveDurationMs / 2}ms;\n    animation-iteration-count: 2;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n    animation-direction: alternate;\n`;\n\nconst shakeDurationMs = 200;\nconst shakeAmplitudePx = 10;\n\nconst ShakeAnimation = css`\n    animation-name: ${keyframes`\n        0% {\n            transform: translateX(0);\n        }\n        25% {\n            transform: translateX(${-1 * shakeAmplitudePx}px);\n        }\n        75% {\n            transform: translateX(${shakeAmplitudePx}px);\n        }\n        100% {\n            transform: translateX(0);\n        }\n    `};\n    animation-duration: ${shakeDurationMs}ms;\n    animation-iteration-count: 1;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n`;\n\ninterface StyledCatalogListItemProps {\n    disabled?: boolean;\n    isActive: boolean;\n    isButtonDisabled?: boolean;\n    isShaking: boolean;\n}\nconst StyledCatalogListItem = styled.div<StyledCatalogListItemProps>`\n    position: relative;\n    width: ${cardWidthPx}px;\n    height: ${cardHeightPx}px;\n\n    display: flex;\n    flex-direction: column;\n    grid-row: 1;\n\n    border-radius: ${cardBorderRadiusPx}px;\n    box-shadow: 0 16px 48px rgba(0, 0, 0, 0.1);\n    background: ${surfaceLiquid01};\n\n    transition: ${addActiveDurationMs / 2}ms ${transition.timingFn.default};\n    will-change: transform;\n    will-change: background-color;\n\n    ${focusBorderMixin({ borderRadius: cardBorderRadiusPx })}\n\n    ${({ disabled, isButtonDisabled }) =>\n        !disabled &&\n        css`\n            &:focus {\n                ${StyledButton} {\n                    opacity: ${isButtonDisabled ? '0.56' : '1'};\n                }\n            }\n        `}\n\n    ${({ disabled }) =>\n        disabled &&\n        css`\n            ${StyledDescription},\n            ${StyledThumb} {\n                opacity: 0.5;\n            }\n        `}\n\n    ${({ isActive }) =>\n        isActive &&\n        css`\n            ${AddAnimation}\n        `}\n\n    ${({ isShaking }) =>\n        isShaking &&\n        css`\n            ${ShakeAnimation}\n        `}\n`;\n\nconst useActive = (count: number) => {\n    const [isCardActive, setCardActive] = React.useState(false);\n    const [isButtonActive, setButtonActive] = React.useState(false);\n    const [displayCount, setDisplayCount] = React.useState(count);\n    const prevCountRef = React.useRef(0);\n\n    // проставление стейта нужно делать обязательно в эффекте,\n    // иначе происходит слишком много перерисовок из-за того что,\n    // мы во время рендера вызываем проставление стейта и так по кругу\n    // реакту такое не нравится\n    React.useEffect(() => {\n        if (count > prevCountRef.current) {\n            const nextCount = count;\n\n            setCardActive(true);\n\n            setTimeout(() => {\n                setButtonActive(true);\n                setDisplayCount(nextCount);\n            }, addActiveDurationMs * 0.5);\n\n            setTimeout(() => {\n                setCardActive(false);\n            }, addActiveDurationMs);\n\n            setTimeout(() => {\n                setButtonActive(false);\n            }, addActiveDurationMs * 1.5);\n        } else {\n            setDisplayCount(count);\n        }\n\n        prevCountRef.current = count;\n    }, [count]);\n\n    return {\n        isCardActive,\n        isButtonActive,\n        displayCount,\n    };\n};\n\nconst useShake = () => {\n    const [isShaking, setShaking] = React.useState(false);\n\n    const doShake = React.useCallback(() => {\n        if (!isShaking) {\n            setShaking(true);\n        }\n\n        setTimeout(() => setShaking(false), shakeDurationMs);\n    }, [isShaking, setShaking]);\n\n    return { isShaking, doShake };\n};\n\nexport interface CatalogListItemProps {\n    id: string;\n}\n\nexport interface CatalogListItemViewProps {\n    imageUrl: string;\n    count: number;\n    isWantMoreThanHave?: boolean;\n    name: string;\n    index: number;\n    price: number;\n    oldPrice?: number;\n    badge?: BadgeProps;\n    disabled?: boolean;\n    isButtonDisabled?: boolean;\n}\n\nexport const CatalogListItem: React.FC<CatalogListItemProps> = ({ id }) => {\n    const dispatch = useDispatch();\n    const itemFocusHash = useSelector(({ catalogPage }) => catalogPage.itemsFocusHashMap[id] || 0);\n    const {\n        imageUrl,\n        count,\n        isWantMoreThanHave,\n        index,\n        name,\n        price,\n        oldPrice,\n        badge,\n        disabled,\n        isButtonDisabled,\n    } = useSelector(({ catalogPage }) => catalogPage.itemsMap[id]);\n    const { isCardActive, isButtonActive, displayCount } = useActive(count);\n    const { isShaking, doShake } = useShake();\n    const handleFocus = React.useCallback(() => dispatch(catalogSelectItemAction(id)), [dispatch, id]);\n\n    const handleClick = React.useCallback(() => {\n        if (!disabled) {\n            if (isButtonDisabled) {\n                doShake();\n            } else {\n                dispatch(addItemAction({ item: id, count: '1', skipFocus: true }));\n            }\n        }\n    }, [dispatch, id, disabled, isButtonDisabled, doShake]);\n\n    const ref = useFocusOnChange<HTMLDivElement>(undefined, itemFocusHash, 400);\n\n    return (\n        <StyledCatalogListItem\n            ref={ref}\n            tabIndex={0}\n            disabled={disabled}\n            isButtonDisabled={isButtonDisabled}\n            isActive={isCardActive}\n            isShaking={isShaking}\n            onFocus={handleFocus}\n            onClick={handleClick}\n        >\n            {badge ? <CatalogListItemBadge {...badge} /> : null}\n            <StyledIndexBadge size=\"m\" index={index} />\n            <StyledThumb imageUrl={imageUrl} />\n            <StyledDescription>\n                <StyledButton isDisabled={isButtonDisabled}>\n                    {isButtonActive ? <StyledDoneIcon /> : <StyledPlusIcon />}\n                </StyledButton>\n                <StyledName>{name}</StyledName>\n                <StyledPriceContainer>\n                    {price ? <StyledPrice>{price} ₽</StyledPrice> : null}\n                    {oldPrice ? <StyledOldPrice>{oldPrice} ₽</StyledOldPrice> : null}\n                    {displayCount ? <StyledCount isWarning={isWantMoreThanHave}>×{displayCount}</StyledCount> : null}\n                </StyledPriceContainer>\n            </StyledDescription>\n        </StyledCatalogListItem>\n    );\n};\n","import { createAction } from 'tools/create-action';\n\n/* Выбрать товар */\nexport const catalogSelectItemAction = (payload: string) => createAction('catalog/SELECT_ITEM', payload);\n","import React from 'react';\n\nexport const useFocusOnChange = <T = HTMLElement>(\n    forwardRef: React.RefObject<T> | undefined,\n    hash: unknown,\n    timeout = 0,\n) => {\n    const ref = React.useRef<T>(null);\n\n    const onChangeFocusRef = forwardRef || ref;\n\n    React.useEffect(() => {\n        setTimeout(() => {\n            if (hash && onChangeFocusRef.current instanceof HTMLElement) {\n                onChangeFocusRef.current.focus();\n            }\n        }, timeout);\n    }, [onChangeFocusRef, hash, timeout]);\n\n    return onChangeFocusRef;\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { layout } from 'style/const/layout';\n\nimport { CatalogListItem, cardHeightPx } from '../ListItem/CatalogListItem';\n\nconst preventScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    e.currentTarget.scrollLeft = 0;\n};\n\nconst StyledCatalogList = styled.div`\n    --spatial-navigation-contain: contain;\n\n    position: relative;\n\n    height: ${layout.contentHeightPx}px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    overflow: hidden;\n`;\n\nexport const cardGapPx = 32;\n\nconst StyledWrapper = styled.div`\n    box-sizing: border-box;\n    width: max-content;\n    height: ${cardHeightPx}px;\n    min-width: 100%;\n\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 392px);\n    grid-auto-flow: row;\n    grid-gap: ${cardGapPx}px;\n\n    will-change: transform;\n\n    transition: transform 0.4s ease-in-out;\n`;\n\nexport const CatalogList: React.FC = () => {\n    const order = useSelector(({ catalogPage }) => catalogPage.order);\n    const wrapperXShift = useSelector(({ catalogPage }) => catalogPage.wrapperXShift);\n\n    const wrapperStyle = React.useMemo(\n        () => ({\n            transform: `translateX(${-1 * wrapperXShift}px)`,\n        }),\n        [wrapperXShift],\n    );\n\n    return (\n        <StyledCatalogList onScroll={preventScroll}>\n            <StyledWrapper style={wrapperStyle}>\n                {order.map((itemId) => (\n                    <CatalogListItem key={itemId} id={itemId} />\n                ))}\n            </StyledWrapper>\n        </StyledCatalogList>\n    );\n};\n","import React from 'react';\nimport ContentLoader, { IContentLoaderProps } from 'react-content-loader';\n\ninterface SkeletonProps extends IContentLoaderProps {\n    itemWidth: number;\n    itemHeight: number;\n    borderRadius: number;\n    rowCount: number;\n    columnCount: number;\n    paddingBetweenColumns: number;\n    paddingBetweenRows: number;\n}\n\nexport const Skeleton: React.FC<SkeletonProps> = ({\n    itemWidth,\n    itemHeight,\n    borderRadius,\n    rowCount,\n    columnCount,\n    paddingBetweenColumns,\n    paddingBetweenRows,\n    ...props\n}) => {\n    const list = Array.from(Array(columnCount)).map((_, columnIndex) =>\n        // eslint-disable-next-line no-shadow\n        Array.from(Array(rowCount)).map((_, rowIndex) => (\n            <rect\n                key={`${columnIndex} ${rowIndex}`}\n                x={columnIndex * (itemWidth + paddingBetweenColumns)}\n                y={rowIndex * (itemHeight + paddingBetweenRows)}\n                width={itemWidth}\n                height={itemHeight}\n                rx={borderRadius}\n                ry={borderRadius}\n            />\n        )),\n    );\n\n    return <ContentLoader {...props}>{list}</ContentLoader>;\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { surfaceLiquid01, surfaceLiquid02 } from '@sberdevices/plasma-tokens';\nimport { Skeleton } from 'components/Skeleton/Skeleton';\nimport { layout } from 'style/const/layout';\n\nimport { cardWidthPx, cardHeightPx } from '../ListItem/CatalogListItem';\nimport { cardGapPx } from '../List/CatalogList';\n\nconst columnCount = Math.floor((layout.widthPx + cardGapPx) / (cardWidthPx + cardGapPx)) + 1;\n\nconst getWidthByCount = (count: number) => cardWidthPx * count + cardGapPx * (count - 1);\n\nconst skeletonWidthPx = getWidthByCount(columnCount);\n\nconst skeletonPaddingXPx = (layout.widthPx - getWidthByCount(columnCount - 1)) / 2;\nconst skeletonPaddingYPx = (layout.contentHeightPx - cardHeightPx) / 2;\n\nconst backgroundColor = surfaceLiquid01;\nconst foregroundColor = surfaceLiquid02;\n\nconst StyledRoot = styled.div`\n    box-sizing: border-box;\n    height: ${layout.contentHeightPx}px;\n    padding-left: ${skeletonPaddingXPx}px;\n    padding-top: ${skeletonPaddingYPx}px;\n`;\n\nexport const CatalogSkeleton: React.FC = () => (\n    <StyledRoot>\n        <Skeleton\n            width={skeletonWidthPx}\n            height={cardHeightPx}\n            backgroundColor={backgroundColor}\n            foregroundColor={foregroundColor}\n            itemWidth={cardWidthPx}\n            itemHeight={cardHeightPx}\n            borderRadius={40}\n            rowCount={1}\n            columnCount={columnCount}\n            paddingBetweenRows={cardGapPx}\n            paddingBetweenColumns={cardGapPx}\n            speed={2}\n        />\n    </StyledRoot>\n);\n","import React from 'react';\nimport { useSelector } from 'hooks/useSelector';\n\nimport { CatalogList } from './List/CatalogList';\nimport { CatalogSkeleton } from './Skeleton/CatalogSkeleton';\n\nexport const Catalog: React.FC = () => {\n    const order = useSelector(({ catalogPage }) => catalogPage.order);\n\n    return order.length ? <CatalogList /> : <CatalogSkeleton />;\n};\n","import styled from 'styled-components';\nimport { black } from '@sberdevices/plasma-tokens';\n\nimport bgImage from './Cart.assets/bg.jpg';\n\nexport const CartRoot = styled.div`\n    position: relative;\n    z-index: 2;\n\n    padding-left: 112px;\n    padding-right: 128px;\n\n    display: flex;\n    justify-content: space-between;\n`;\n\nexport const CartBackground = styled.div`\n    position: fixed;\n    top: 0;\n    left: 50%;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n\n    mask: linear-gradient(to right, transparent, ${black} 70%);\n    background-image: url('${bgImage}');\n\n    opacity: 0.7;\n`;\n","import React from 'react';\n\nexport interface MultilineTextProps {\n    text?: string;\n}\n\nexport const MultilineText: React.FC<MultilineTextProps> = ({ text = '' }) => {\n    const lineList = text.split('\\n').reduce((nodeList, line, index) => {\n        if (index) {\n            nodeList.push(<br key={`${index}br`} />);\n        }\n\n        nodeList.push(line.trim());\n\n        return nodeList;\n    }, [] as React.ReactNode[]);\n\n    return <>{lineList}</>;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  filter: \"url(#filter0_f)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 43.0039,\n  cy: 8.99902,\n  rx: 37,\n  ry: 3,\n  fill: \"#141414\"\n}));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  filter: \"url(#filter1_f)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 43.0039,\n  cy: 7.99902,\n  rx: 25,\n  ry: 2,\n  fill: \"#121212\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter0_f\",\n  x: 0.0039053,\n  y: -0.000977516,\n  width: 86,\n  height: 18,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 3,\n  result: \"effect1_foregroundBlur\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter1_f\",\n  x: 16.0039,\n  y: 3.99902,\n  width: 54,\n  height: 8,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 1,\n  result: \"effect1_foregroundBlur\"\n})));\n\nconst SvgShadow = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 87,\n  height: 18,\n  viewBox: \"0 0 87 18\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgShadow, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/shadow.bb1d84f8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M10.9393 12.9393C11.5251 12.3536 12.4749 12.3536 13.0607 12.9393L18.0607 17.9393C18.6464 18.5251 18.6464 19.4749 18.0607 20.0607C17.4749 20.6464 16.5251 20.6464 15.9393 20.0607L10.9393 15.0607C10.3536 14.4749 10.3536 13.5251 10.9393 12.9393Z\",\n  fill: \"white\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M18.0607 12.9393C18.6464 13.5251 18.6464 14.4749 18.0607 15.0607L13.0607 20.0607C12.4749 20.6464 11.5251 20.6464 10.9393 20.0607C10.3536 19.4749 10.3536 18.5251 10.9393 17.9393L15.9393 12.9393C16.5251 12.3536 17.4749 12.3536 18.0607 12.9393Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M23.9393 15.9393C24.5251 15.3536 25.4749 15.3536 26.0607 15.9393L31.0607 20.9393C31.6464 21.5251 31.6464 22.4749 31.0607 23.0607C30.4749 23.6464 29.5251 23.6464 28.9393 23.0607L23.9393 18.0607C23.3536 17.4749 23.3536 16.5251 23.9393 15.9393Z\",\n  fill: \"white\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M31.0607 15.9393C31.6464 16.5251 31.6464 17.4749 31.0607 18.0607L26.0607 23.0607C25.4749 23.6464 24.5251 23.6464 23.9393 23.0607C23.3536 22.4749 23.3536 21.5251 23.9393 20.9393L28.9393 15.9393C29.5251 15.3536 30.4749 15.3536 31.0607 15.9393Z\",\n  fill: \"white\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M13 30C13 29.1716 13.6716 28.5 14.5 28.5H27.5C28.3284 28.5 29 29.1716 29 30C29 30.8284 28.3284 31.5 27.5 31.5H14.5C13.6716 31.5 13 30.8284 13 30Z\",\n  fill: \"white\"\n});\n\nconst SvgDeadFace = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 42,\n  height: 42,\n  viewBox: \"0 0 42 42\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgDeadFace, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/dead-face.53d3ac6a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 42,\n  height: 42,\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 25C15.75 27.8 18.2 29 21 29C23.8 29 26.25 27.8 28 25\",\n  stroke: \"white\",\n  strokeWidth: 3,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nconst SvgHappyFace = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 42,\n  height: 42,\n  viewBox: \"0 0 42 42\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgHappyFace, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/happy-face.08a38b07.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 15.5,\n  cy: 16.5,\n  r: 2.5,\n  fill: \"white\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 26.5,\n  cy: 16.5,\n  r: 2.5,\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28 28C26.25 25.2 23.8 24 21 24C18.2 24 15.75 25.2 14 28\",\n  stroke: \"white\",\n  strokeWidth: 3,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nconst SvgSadFace = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 42,\n  height: 42,\n  viewBox: \"0 0 42 42\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSadFace, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/sad-face.75edd1a7.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { critical } from '@sberdevices/plasma-tokens';\n\nimport { ReactComponent as ShadowSvg } from './Pin.assets/shadow.svg';\nimport { ReactComponent as DeadFaceSvg } from './Pin.assets/dead-face.svg';\nimport { ReactComponent as HappyFaceSvg } from './Pin.assets/happy-face.svg';\nimport { ReactComponent as SadFaceSvg } from './Pin.assets/sad-face.svg';\n\nconst badgeHeightPx = 84;\n\ntype PinColor = 'good' | 'bad';\n\nconst mapPinColor: Record<PinColor, string> = {\n    good: critical,\n    bad: '#8f8f8f',\n};\n\nconst styledIcon = (icon: React.FC<React.SVGProps<SVGSVGElement>>) => styled(icon)`\n    display: block;\n    height: 72px;\n    width: 72px;\n`;\n\nexport const DeadFaceIcon = styledIcon(DeadFaceSvg);\n\nexport const HappyFaceIcon = styledIcon(HappyFaceSvg);\n\nexport const SadFaceIcon = styledIcon(SadFaceSvg);\n\ninterface StyledBodyProps {\n    isBroken?: boolean;\n}\nconst StyledBody = styled.div<StyledBodyProps>`\n    position: relative;\n\n    height: ${badgeHeightPx}px;\n    min-width: ${badgeHeightPx}px;\n    padding: 6px;\n    border-radius: ${badgeHeightPx / 2}px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    text-align: center;\n\n    ${({ isBroken }) =>\n        isBroken &&\n        css`\n            transform: rotate(-50deg);\n            left: -40px;\n            bottom: -20px;\n        `}\n`;\n\nconst kernelWidthPx = 4;\nconst kernelBorderRadiusPx = kernelWidthPx / 2;\n\ninterface StyledKernelTopProps {\n    isBroken?: boolean;\n}\nconst StyledKernelTop = styled.div<StyledKernelTopProps>`\n    position: relative;\n    display: flex;\n\n    height: 18px;\n    width: ${kernelWidthPx}px;\n\n    border-radius: ${kernelBorderRadiusPx}px;\n\n    margin-bottom: -4px;\n    margin-top: -2px;\n\n    ${({ isBroken }) =>\n        isBroken &&\n        css`\n            transform: rotate(-50deg);\n            left: -6px;\n            bottom: -2px;\n        `}\n`;\n\nconst StyledKernelBottom = styled.div`\n    height: 26px;\n    position: relative;\n    width: ${kernelWidthPx}px;\n\n    border-radius: ${kernelBorderRadiusPx}px;\n`;\n\nconst StyledShadow = styled(ShadowSvg)`\n    display: block;\n    margin-top: -8px;\n\n    width: 86px;\n    height: 18px;\n`;\n\nconst StyledPin = styled.div<PinInterface>`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & ${StyledBody}, ${StyledKernelBottom}, ${StyledKernelTop} {\n        background-color: ${({ pinColor }) => mapPinColor[pinColor]};\n    }\n`;\n\ninterface PinInterface {\n    pinColor: PinColor;\n    isBroken?: boolean;\n}\nexport const Pin: React.FC<PinInterface> = ({ pinColor, isBroken, children }) => {\n    return (\n        <StyledPin pinColor={pinColor}>\n            <StyledBody isBroken={isBroken}>{children}</StyledBody>\n            <StyledKernelTop isBroken={isBroken} />\n            <StyledKernelBottom />\n            <StyledShadow />\n        </StyledPin>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1, Caption, Headline2, ParagraphText2 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { Pin, HappyFaceIcon } from 'components/Pin/Pin';\n\nexport const CartInfoContainer = styled.div`\n    position: relative;\n\n    width: 744px;\n    padding-top: 48px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst StyledTime = styled(ParagraphText2)`\n    color: ${primary};\n`;\n\nconst StyledUnit = styled(Caption)`\n    margin-top: -10px;\n\n    color: ${primary};\n`;\n\ninterface CartInfoProps {\n    time?: number;\n}\n\nexport const CartInfoPin: React.FC<CartInfoProps> = ({ time }) => (\n    <Pin pinColor=\"good\">\n        {time !== undefined ? (\n            <>\n                <StyledTime>{time}</StyledTime>\n                <StyledUnit>мин</StyledUnit>\n            </>\n        ) : (\n            <HappyFaceIcon />\n        )}\n    </Pin>\n);\n\nconst StyledPersonal = styled.div`\n    margin-top: 8px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst StyledPersonalLocation = styled(Body1)`\n    -webkit-line-clamp: 2;\n\n    color: ${primary};\n`;\n\nconst StyledPersonalPhoneNumber = styled(Headline2)`\n    margin-top: 60px;\n\n    color: ${primary};\n`;\n\nconst StyledPersonalName = styled(Body1)`\n    margin-top: 8px;\n\n    color: ${primary};\n`;\n\ninterface CartPersonalProps {\n    address: string;\n    phone: string;\n    name?: string;\n}\n\nexport const CartPersonal: React.FC<CartPersonalProps> = ({ address, phone, name }) => (\n    <StyledPersonal>\n        <StyledPersonalLocation>{address}</StyledPersonalLocation>\n        <StyledPersonalPhoneNumber>{phone}</StyledPersonalPhoneNumber>\n        {name ? <StyledPersonalName>{name}</StyledPersonalName> : null}\n    </StyledPersonal>\n);\n\nexport const CartAddress = styled(Headline2)`\n    margin-top: 48px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    -webkit-line-clamp: 2;\n\n    color: ${primary};\n`;\n","import { MultilineText } from 'components/MultilineText/MultilineText';\nimport React from 'react';\nimport { goToAddressFullAllThunk } from 'store/thunks/native';\nimport styled from 'styled-components';\nimport { ParagraphText1 } from '@sberdevices/plasma-styles';\nimport { secondary } from '@sberdevices/plasma-tokens';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { makePurchaseAction } from 'store/actions/server';\nimport { CartInfoPin, CartInfoContainer, CartPersonal, CartAddress } from 'components/Cart/CartInfo';\nimport { Button, ButtonViews } from 'components/Button/Button';\n\nconst StyledAskPersonal = styled(ParagraphText1)`\n    margin-top: 14px;\n\n    text-align: center;\n\n    color: ${secondary};\n`;\n\nconst CartInfoButton = styled(Button)`\n    margin-top: 60px;\n    padding: 20px 32px;\n\n    &[disabled] {\n        opacity: 0.3;\n    }\n`;\n\nconst askPersonal = 'Чтобы сделать заказ, укажите номер телефона, \\nквартиру и другую дополнительную \\nинформацию';\n\nexport const CartInfo: React.FC = () => {\n    const dispatch = useDispatch();\n    const { address, customerName } = useSelector(({ userData }) => userData);\n    const {\n        deliveryTime,\n        isMakePurchaseButtonDisabled,\n        makePurchaseButtonView,\n        hasRequiredData,\n        phoneNumber,\n        personalAddress,\n    } = useSelector(({ cartPage }) => cartPage);\n    const handlePurchaseClick = React.useCallback(() => dispatch(makePurchaseAction()), [dispatch]);\n\n    const handleSetAddressClick = React.useCallback(() => {\n        dispatch(goToAddressFullAllThunk());\n    }, [dispatch]);\n\n    return (\n        <CartInfoContainer>\n            <CartInfoPin time={deliveryTime} />\n            <CartAddress>{address}</CartAddress>\n            {hasRequiredData ? (\n                <>\n                    <CartPersonal address={personalAddress} phone={phoneNumber} name={customerName} />\n                    <CartInfoButton\n                        view={makePurchaseButtonView}\n                        disabled={isMakePurchaseButtonDisabled}\n                        shouldFocusOnMount\n                        shouldLockAfterClick\n                        onClick={handlePurchaseClick}\n                    >\n                        Перейти к оплате\n                    </CartInfoButton>\n                </>\n            ) : (\n                <>\n                    <StyledAskPersonal>\n                        <MultilineText text={askPersonal} />\n                    </StyledAskPersonal>\n                    <CartInfoButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleSetAddressClick}>\n                        Продолжить\n                    </CartInfoButton>\n                </>\n            )}\n        </CartInfoContainer>\n    );\n};\n","import styled, { css } from 'styled-components';\nimport { transition } from 'style/const/transition';\n\ninterface GradientFadeProps {\n    sizePx: number;\n    kind: 'top' | 'bottom' | 'left' | 'right';\n    isVisible: boolean;\n}\n\nexport const GradientFade = styled.div<GradientFadeProps>`\n    ${({ kind, sizePx }) => css`\n        mask-image: linear-gradient(to ${kind}, #000 calc(100% - ${sizePx}px), transparent 100%);\n        mask-size: calc(100% + ${sizePx}px) calc(100% + ${sizePx}px);\n    `}\n\n    mask-position: ${({ kind, isVisible, sizePx }) => {\n        switch (kind) {\n            case 'top':\n                return `0 ${-1 * Number(!isVisible) * sizePx}px`;\n            case 'bottom':\n                return `0 ${-1 * Number(isVisible) * sizePx}px`;\n            case 'left':\n                return `${-1 * Number(!isVisible) * sizePx}px 0`;\n            case 'right':\n                return `${-1 * Number(isVisible) * sizePx}px 0`;\n            default:\n                return '0 0';\n        }\n    }};\n\n    mask-repeat: no-repeat;\n    transition: mask-position ${transition.default}, -webkit-mask-position ${transition.default};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Headline2 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { GradientFade } from 'components/GradientFade/GradientFade';\n\nexport const CartListContainer = styled.div`\n    position: relative;\n\n    height: 792px;\n    width: 832px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\n\nconst preventScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    e.currentTarget.scrollTop = 0;\n};\n\nconst StyledScrollerContainer = styled.div`\n    --spatial-navigation-contain: contain;\n\n    position: relative;\n\n    margin-bottom: 56px;\n\n    max-height: 600px;\n    overflow: hidden;\n`;\n\nconst StyledScrollerWrapper = styled.div`\n    overflow-x: hidden;\n\n    will-change: transform;\n    transition: transform 0.5s ease-in-out;\n`;\n\ninterface CartListScrollerProps {\n    topGradientVisible: boolean;\n    bottomGradientVisible: boolean;\n    wrapperYShift: number;\n}\n\nexport const CartListScroller: React.FC<CartListScrollerProps> = ({\n    children,\n    topGradientVisible,\n    bottomGradientVisible,\n    wrapperYShift,\n}) => {\n    const wrapperStyle = React.useMemo(\n        () => ({\n            transform: `translateY(${-1 * wrapperYShift}px)`,\n        }),\n        [wrapperYShift],\n    );\n\n    return (\n        <GradientFade sizePx={160} kind=\"top\" isVisible={topGradientVisible}>\n            <GradientFade sizePx={160} kind=\"bottom\" isVisible={bottomGradientVisible}>\n                <StyledScrollerContainer onScroll={preventScroll}>\n                    <StyledScrollerWrapper style={wrapperStyle}>{children}</StyledScrollerWrapper>\n                </StyledScrollerContainer>\n            </GradientFade>\n        </GradientFade>\n    );\n};\n\nexport const CartTotalPrice = styled(Headline2)`\n    padding-left: 16px;\n\n    color: ${primary};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Footnote1 } from '@sberdevices/plasma-styles';\nimport { accent, critical, warning } from '@sberdevices/plasma-tokens';\n\nexport type LabelType = 'sold-out' | 'few-left' | 'sale' | 'price-changed' | 'you-want' | 'warning' | 'critical';\n\nconst contentMap: Record<LabelType, (s?: string) => string> = {\n    'sold-out': () => 'Раскупили',\n    'few-left': () => 'Больше нет',\n    'price-changed': () => 'Изменилась цена',\n    sale: (value) => `Скидка ${value}%`,\n    'you-want': (value) => `Вы хотели ${value} товара`,\n    warning: (value) => value || '',\n    critical: (value) => value || '',\n};\n\nconst textColorMap: Record<LabelType, string> = {\n    'sold-out': warning,\n    'few-left': warning,\n    'price-changed': warning,\n    sale: accent,\n    'you-want': warning,\n    warning,\n    critical,\n};\n\ninterface StyledLabelProps {\n    type: LabelType;\n}\nconst StyledLabel = styled(Footnote1)<StyledLabelProps>`\n    color: ${({ type }) => textColorMap[type]};\n`;\n\nexport interface LabelProps extends React.HTMLAttributes<HTMLDivElement> {\n    className?: string;\n    type: LabelType;\n    content?: string;\n}\nexport const Label: React.FC<LabelProps> = ({ type, content, className }) => {\n    const contentProvider = contentMap[type];\n\n    return (\n        <StyledLabel className={className} type={type}>\n            {contentProvider(content)}\n        </StyledLabel>\n    );\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Body1, Footnote1 } from '@sberdevices/plasma-styles';\nimport { primary, secondary } from '@sberdevices/plasma-tokens';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { Label, LabelProps } from 'components/Label/Label';\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: 4px;\n    right: 4px;\n`;\n\nconst thumbSizePx = 120;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\n\nconst StyledThumb = styled.div<StyledThumbProps>`\n    position: relative;\n\n    margin-right: 32px;\n\n    height: ${thumbSizePx}px;\n    width: ${thumbSizePx}px;\n\n    border-radius: 24px;\n\n    background-image: url('${({ imageUrl }) => imageUrl}');\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n`;\n\nconst StyledInfo = styled.div`\n    margin-right: 48px;\n\n    width: 384px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\n\ninterface StyledNameProps {\n    isOneLine?: boolean;\n}\nconst StyledName = styled(Body1)<StyledNameProps>`\n    overflow: hidden;\n\n    ${({ isOneLine }) =>\n        isOneLine &&\n        css`\n            white-space: nowrap;\n            text-overflow: ellipsis;\n        `}\n\n    ${({ isOneLine }) =>\n        !isOneLine &&\n        css`\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 2;\n        `}\n\n    color: ${primary};\n`;\n\nconst StyledPriceContainer = styled.div`\n    margin-top: 4px;\n\n    display: flex;\n`;\n\nconst StyledPrice = styled(Footnote1)`\n    color: ${secondary};\n`;\n\nconst StyledOldPrice = styled(Footnote1)`\n    position: relative;\n    opacity: 0.24;\n    color: ${primary};\n    margin-left: 8px;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: calc(50% - 2px);\n        border-top: 4px solid ${primary};\n        left: 2px;\n        right: 2px;\n    }\n`;\n\nconst StyledLabel = styled(Label)`\n    margin-top: 4px;\n`;\n\ninterface StyledCartListItemProps {\n    disabled?: boolean;\n}\n\nexport const CartListItemRoot = styled.div<StyledCartListItemProps>`\n    position: relative;\n\n    box-sizing: border-box;\n    height: 152px;\n    width: 832px;\n    padding: 16px;\n\n    display: flex;\n    align-items: center;\n\n    ${({ disabled }) =>\n        disabled &&\n        css`\n            ${StyledThumb},\n            ${StyledName},\n            ${StyledPrice} {\n                opacity: .24;\n            }\n\n            ${StyledPrice} {\n                color: ${primary};\n            }\n        `}\n`;\ninterface CartListItemThumbProps {\n    imageUrl: string;\n    index?: number;\n}\n\nconst StyledCount = styled(Footnote1)`\n    color: ${secondary};\n\n    &::before {\n        content: '×';\n    }\n`;\n\nexport const CartListItemThumb: React.FC<CartListItemThumbProps> = ({ imageUrl, index }) => (\n    <StyledThumb imageUrl={imageUrl}>{index !== undefined && <StyledIndexBadge size=\"s\" index={index} />}</StyledThumb>\n);\n\ninterface CartListItemInfoProps {\n    disabled?: boolean;\n    label?: LabelProps;\n    name: string;\n    price: number;\n    oldPrice?: number;\n    count?: number;\n}\n\nexport const CartListItemInfo: React.FC<CartListItemInfoProps> = ({\n    disabled,\n    label,\n    name,\n    price,\n    oldPrice,\n    count,\n}) => {\n    const prices = React.useMemo(\n        () =>\n            [\n                <StyledPrice>{price} ₽</StyledPrice>,\n                oldPrice && <StyledOldPrice>{oldPrice} ₽</StyledOldPrice>,\n                count && <StyledCount>{count}</StyledCount>,\n            ]\n                .filter(Boolean)\n                .map((item, index) => (\n                    <>\n                        {index > 0 && <>&nbsp;</>}\n                        {item}\n                    </>\n                )),\n        [price, oldPrice, count],\n    );\n\n    return (\n        <StyledInfo>\n            <StyledName isOneLine={disabled || Boolean(label)}>{name}</StyledName>\n            <StyledPriceContainer>{prices}</StyledPriceContainer>\n            {label ? <StyledLabel {...label} /> : null}\n        </StyledInfo>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M9 3C9 2.44772 8.55228 2 8 2C7.44772 2 7 2.44772 7 3V7H3C2.44772 7 2 7.44772 2 8C2 8.55228 2.44772 9 3 9H7V13C7 13.5523 7.44772 14 8 14C8.55228 14 9 13.5523 9 13V9H13C13.5523 9 14 8.55228 14 8C14 7.44772 13.5523 7 13 7H9V3Z\",\n  fill: \"white\"\n});\n\nconst SvgAdd = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 16,\n  height: 16,\n  viewBox: \"0 0 16 16\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgAdd, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/add.6f87e0cb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M2 8C2 7.44772 2.44772 7 3 7H13C13.5523 7 14 7.44772 14 8C14 8.55228 13.5523 9 13 9H3C2.44772 9 2 8.55228 2 8Z\",\n  fill: \"white\"\n});\n\nconst SvgRemove = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 16,\n  height: 16,\n  viewBox: \"0 0 16 16\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgRemove, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/remove.856b6a95.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Body2 } from '@sberdevices/plasma-styles';\nimport { buttonSecondary, critical, primary, warning } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { removeItemAction, addItemAction } from 'store/actions/native';\nimport { cartSelectItemAction } from 'store/actions/cartPage';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { LabelProps } from 'components/Label/Label';\nimport { CartListItemRoot, CartListItemThumb, CartListItemInfo } from 'components/Cart/CartListItem';\nimport { icon } from 'style/const/icon';\nimport { transition } from 'style/const/transition';\nimport { focusBorderMixin } from 'style/mixin/focus';\nimport { ReactComponent as AddSvg } from 'assets/icons/add.svg';\nimport { ReactComponent as RemoveSvg } from 'assets/icons/remove.svg';\n\nconst StyledSelector = styled.div`\n    box-sizing: border-box;\n    padding: 8px;\n    width: 216px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\n\ninterface StyledSelectorValue {\n    isWarning?: boolean;\n}\nconst StyledSelectorValue = styled(Body2)<StyledSelectorValue>`\n    color: ${({ isWarning }) => (isWarning ? warning : primary)};\n`;\n\nconst selectorButtonSizePx = 64;\nconst selectorBorderRadiusPx = selectorButtonSizePx / 2;\nconst selectorIconSizePx = icon.s.sizePx;\n\ninterface StyledSelectorButtonProps {\n    isRemoving?: boolean;\n}\n\nconst StyledSelectorButton = styled.button<StyledSelectorButtonProps>`\n    position: relative;\n\n    height: ${selectorButtonSizePx}px;\n    width: ${selectorButtonSizePx}px;\n    border: none;\n    border-radius: ${selectorBorderRadiusPx}px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background: ${buttonSecondary};\n\n    will-change: background-color, transform, opacity;\n    transition: ${transition.default};\n\n    ${focusBorderMixin({ borderRadius: selectorBorderRadiusPx })}\n\n    ${({ isRemoving }) =>\n        isRemoving &&\n        css`\n            transform: rotate(45deg);\n            background: ${critical};\n        `}\n\n    &[disabled] {\n        opacity: 0.3;\n    }\n`;\n\nconst StyledAddIcon = styled(AddSvg)`\n    height: ${selectorIconSizePx}px;\n    width: ${selectorIconSizePx}px;\n`;\n\nconst StyledRemoveIcon = styled(RemoveSvg)`\n    height: ${selectorIconSizePx}px;\n    width: ${selectorIconSizePx}px;\n`;\n\ntype ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & StyledSelectorButtonProps;\n\nconst LessButton: React.FC<ButtonProps> = ({ onClick, onFocus, isRemoving }) => (\n    <StyledSelectorButton type=\"button\" aria-label=\"less\" onClick={onClick} onFocus={onFocus} isRemoving={isRemoving}>\n        {isRemoving ? <StyledAddIcon /> : <StyledRemoveIcon />}\n    </StyledSelectorButton>\n);\n\nconst AddButton: React.FC<ButtonProps> = ({ onClick, onFocus }) => (\n    <StyledSelectorButton type=\"button\" aria-label=\"more\" onClick={onClick} onFocus={onFocus}>\n        <StyledAddIcon />\n    </StyledSelectorButton>\n);\n\nconst StyledDeleteButton = styled(Button)`\n    padding: 20px 32px;\n`;\n\nexport interface CartListItemProps {\n    id: string;\n    index: number;\n}\n\nexport interface CartListItemViewProps {\n    imageUrl: string;\n    name: string;\n    price: number;\n    oldPrice?: number;\n    count: number;\n    isWantMoreThanHave?: boolean;\n    disabled?: boolean;\n    label?: LabelProps;\n    isMoreButtonDisabled?: boolean;\n}\n\nexport const CartListItem: React.FC<CartListItemProps> = ({ index, id }) => {\n    const {\n        imageUrl,\n        name,\n        price,\n        oldPrice,\n        label,\n        count,\n        isWantMoreThanHave,\n        disabled,\n        isMoreButtonDisabled,\n    } = useSelector(({ cartPage: { itemsMap } }) => itemsMap[id]);\n    const dispatch = useDispatch();\n\n    const handleLessClick = React.useCallback(() => {\n        dispatch(\n            removeItemAction({\n                item: id,\n                count: '1',\n                shouldRemoveMention: !count,\n            }),\n        );\n    }, [dispatch, id, count]);\n\n    const handleMoreClick = React.useCallback(() => {\n        dispatch(\n            addItemAction({\n                item: id,\n                count: '1',\n            }),\n        );\n    }, [dispatch, id]);\n\n    const handleRemoveClick = React.useCallback(() => {\n        dispatch(\n            removeItemAction({\n                item: id,\n                count: String(Infinity),\n                shouldRemoveMention: true,\n            }),\n        );\n    }, [dispatch, id]);\n\n    const handleFocus = React.useCallback(() => dispatch(cartSelectItemAction(id)), [dispatch, id]);\n\n    return (\n        <CartListItemRoot disabled={disabled}>\n            <CartListItemThumb imageUrl={imageUrl} index={index} />\n            <CartListItemInfo disabled={disabled} label={label} name={name} price={price} oldPrice={oldPrice} />\n            {disabled ? (\n                <StyledDeleteButton view={ButtonViews.secondary} onFocus={handleFocus} onClick={handleRemoveClick}>\n                    Удалить\n                </StyledDeleteButton>\n            ) : (\n                <StyledSelector>\n                    <LessButton onFocus={handleFocus} onClick={handleLessClick} isRemoving={count === 0} />\n                    <StyledSelectorValue isWarning={isWantMoreThanHave}>{count}</StyledSelectorValue>\n                    <AddButton disabled={isMoreButtonDisabled} onFocus={handleFocus} onClick={handleMoreClick} />\n                </StyledSelector>\n            )}\n        </CartListItemRoot>\n    );\n};\n","import { createAction } from 'tools/create-action';\n\n/* Выбрать товар */\nexport const cartSelectItemAction = (payload: string) => createAction('cart/SELECT_ITEM', payload);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1 } from '@sberdevices/plasma-styles';\nimport { warning } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { CartListContainer, CartListScroller, CartTotalPrice } from 'components/Cart/CartList';\n\nimport { CartListItem } from '../ListItem/CartListItem';\n\nconst StyledMinimalPrice = styled(Body1)`\n    margin-top: 8px;\n\n    padding-left: 16px;\n\n    color: ${warning};\n`;\n\nexport const CartList: React.FC = () => {\n    const { order, totalPrice, toMinimumPrice, wrapperYShift, topGradientVisible, bottomGradientVisible } = useSelector(\n        ({ cartPage }) => cartPage,\n    );\n\n    const itemList = React.useMemo(\n        () => order.map((itemId, index) => <CartListItem key={itemId} index={index + 1} id={itemId} />),\n        [order],\n    );\n\n    return (\n        <CartListContainer>\n            {order.length > 0 && (\n                <CartListScroller\n                    topGradientVisible={topGradientVisible}\n                    bottomGradientVisible={bottomGradientVisible}\n                    wrapperYShift={wrapperYShift}\n                >\n                    {itemList}\n                </CartListScroller>\n            )}\n            <CartTotalPrice>Сумма заказа {totalPrice} ₽</CartTotalPrice>\n            {Boolean(toMinimumPrice) && (\n                <StyledMinimalPrice>До минимального заказа еще {toMinimumPrice} ₽</StyledMinimalPrice>\n            )}\n        </CartListContainer>\n    );\n};\n","import React from 'react';\nimport { CartRoot, CartBackground } from 'components/Cart/Cart';\n\nimport { CartInfo } from './Info/CartInfo';\nimport { CartList } from './List/CartList';\n\nexport const Cart: React.FC = () => (\n    <>\n        <CartRoot>\n            <CartList />\n            <CartInfo />\n        </CartRoot>\n        <CartBackground />\n    </>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1, Headline1 } from '@sberdevices/plasma-styles';\nimport { primary, secondary } from '@sberdevices/plasma-tokens';\nimport { ButtonViews, Button, ButtonSize, ButtonProps } from 'components/Button/Button';\nimport { layout } from 'style/const/layout';\n\nconst StyledContainer = styled.div`\n    position: relative;\n\n    height: ${layout.contentHeightPx}px;\n    padding-left: 128px;\n`;\n\nconst StyledContent = styled.div`\n    position: relative;\n    width: 816px;\n    height: ${layout.contentHeightPx}px;\n    z-index: 2;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    align-content: left;\n`;\n\nexport const DialogTitle = styled(Headline1)`\n    color: ${primary};\n`;\n\nexport const DialogText = styled(Body1)`\n    margin-top: 24px;\n\n    min-height: 72px;\n\n    white-space: pre-wrap;\n\n    color: ${secondary};\n`;\n\nconst StyledButtonContainer = styled.div`\n    margin-left: -16px;\n    margin-top: 64px;\n\n    display: flex;\n    flex-direction: row;\n`;\n\nconst StyledButton = styled(Button)`\n    margin: 0 16px;\n\n    padding: 20px 32px;\n`;\n\nconst StyledDecorations = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1;\n\n    width: 100%;\n    height: 100%;\n`;\n\nexport interface DialogActionProps {\n    shouldFocusOnMount?: boolean;\n    buttonText: string;\n    buttonView: ButtonViews;\n    onClick: (event: React.SyntheticEvent<HTMLButtonElement>) => void;\n}\n\ninterface DialogPageProps {\n    buttons?: React.ReactNode;\n    decorations?: React.ReactNode;\n}\n\nexport const DialogPage: React.FC<DialogPageProps> = ({ children, buttons, decorations, ...props }) => {\n    return (\n        <StyledContainer {...props}>\n            <StyledContent>\n                {children}\n                {buttons && <StyledButtonContainer>{buttons}</StyledButtonContainer>}\n            </StyledContent>\n            <StyledDecorations>{decorations}</StyledDecorations>\n        </StyledContainer>\n    );\n};\n\nexport const DialogButton: React.FC<ButtonProps> = ({\n    children,\n    size = ButtonSize.s,\n    view = ButtonViews.secondary,\n    ...props\n}) => (\n    <StyledButton size={size} view={view} {...props}>\n        {children}\n    </StyledButton>\n);\n\nexport const FullscreenDecoration = styled.div`\n    position: absolute;\n    top: ${-1 * layout.headerHeightPx}px;\n    left: 0;\n\n    width: ${layout.widthPx}px;\n    height: ${layout.heightPx}px;\n\n    background-size: contain;\n    background-repeat: no-repeat;\n`;\n","import React from 'react';\nimport { useLottie, LottieConfig, Lottie } from 'react-lottie-hook';\nimport styled, { css } from 'styled-components';\nimport { transition } from 'style/const/transition';\n\ninterface StyledSpinnerProps {\n    isPaused: boolean;\n}\n\nconst StyledSpinner = styled(Lottie)<StyledSpinnerProps>`\n    position: relative;\n\n    opacity: 0;\n\n    ${({ isPaused }) =>\n        !isPaused &&\n        css`\n            opacity: 1;\n            transition: opacity ${transition.default};\n        `}\n`;\n\nconst defaultConfig: LottieConfig = {\n    renderer: 'svg',\n    loop: true,\n    autoplay: false,\n};\n\ninterface SplendidAnimationProps {\n    width: number;\n    height: number;\n    config: LottieConfig;\n    delayMs?: number;\n}\n\nexport const SplendidAnimation: React.FC<SplendidAnimationProps> = ({\n    width,\n    height,\n    config,\n    delayMs = 0,\n    ...props\n}) => {\n    const lottieOptions = React.useMemo(\n        () => ({\n            ...defaultConfig,\n            ...config,\n        }),\n        [config],\n    );\n\n    const [lottieRef, state, { pause, play }] = useLottie(lottieOptions);\n\n    // эта магия нужна, потому что Lottie может достаточно долго инициализироватся,\n    // чтобы иногдаморгать первым кадром анимации.\n    // поэтому изначально мы скрываем анимацию, а после инициализации показываем\n\n    const [isDelayed, setDelayed] = React.useState(true);\n\n    const start = React.useCallback(() => {\n        setDelayed(false);\n        play();\n    }, [setDelayed, play]);\n\n    React.useLayoutEffect(() => {\n        pause();\n        const timeoutId = setTimeout(start, delayMs);\n\n        return () => {\n            pause();\n            clearTimeout(timeoutId);\n        };\n    }, [pause, start, delayMs]);\n\n    return (\n        <StyledSpinner\n            lottieRef={lottieRef}\n            isPaused={isDelayed || state.isPaused || state.isStopped}\n            width={width}\n            height={height}\n            {...props}\n        />\n    );\n};\n","import React from 'react';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { closeAppAction } from 'store/actions/app';\nimport { ButtonViews } from 'components/Button/Button';\nimport {\n    DialogPage,\n    DialogButton,\n    DialogTitle,\n    FullscreenDecoration,\n    DialogText,\n} from 'components/DialogPage/DialogPage';\nimport { SplendidAnimation } from 'components/SplendidAnimation/SplendidAnimation';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\nimport { layout } from 'style/const/layout';\n\nimport successAnimationData from './Success.assets/success.animation.json';\n\nexport const Success: React.FC = () => {\n    const dispatch = useDispatch();\n    const { deliveryTime } = useSelector(({ delivery }) => delivery);\n\n    const buttons = React.useMemo(\n        () => (\n            <DialogButton\n                shouldFocusOnMount\n                view={ButtonViews.primary}\n                onClick={() => {\n                    dispatch(closeAppAction());\n                }}\n            >\n                Очень жду\n            </DialogButton>\n        ),\n        [dispatch],\n    );\n\n    const decorations = React.useMemo(\n        () => (\n            <FullscreenDecoration>\n                <SplendidAnimation\n                    width={layout.widthPx}\n                    height={layout.heightPx}\n                    delayMs={300}\n                    config={{\n                        loop: false,\n                        animationData: successAnimationData,\n                    }}\n                />\n            </FullscreenDecoration>\n        ),\n        [],\n    );\n\n    return (\n        <DialogPage buttons={buttons} decorations={decorations}>\n            <DialogTitle>\n                <MultilineText text={`Заказ принят. \\nБудем у вас через \\n${deliveryTime} минут.`} />\n            </DialogTitle>\n            <DialogText>\n                <MultilineText text={'Чтобы узнать статус заказа, спросите \\n«Какой статус заказа?»'} />\n            </DialogText>\n        </DialogPage>\n    );\n};\n","import React from 'react';\nimport { push } from 'connected-react-router';\nimport styled, { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { Headline3 } from '@sberdevices/plasma-styles';\nimport { primary, secondary } from '@sberdevices/plasma-tokens';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { ROUTES } from 'store/constants/router';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\nimport { transition } from 'style/const/transition';\n\nimport popcornPromo from './Promo.assets/popcorn-promo.png';\nimport popcorn1 from './Promo.assets/popcorn-box_1.png';\nimport popcorn2 from './Promo.assets/popcorn-box_2.png';\nimport popcorn3 from './Promo.assets/popcorn-box_3.png';\nimport popcorn4 from './Promo.assets/popcorn-box_4.png';\n\nconst TextContainer = styled.div`\n    position: absolute;\n    top: 80px;\n    left: 128px;\n    z-index: 2;\n\n    width: 1012px;\n`;\n\nconst Title = styled.div`\n    font-weight: 800;\n    font-size: 80px;\n    line-height: 88px;\n\n    /* stylelint-disable-next-line number-max-precision */\n    letter-spacing: -0.0375em;\n\n    color: ${primary};\n`;\n\nconst Subtitle = styled(Headline3)`\n    margin-top: 32px;\n\n    color: ${secondary};\n`;\n\nconst buttonsMarginTopPx = 64;\n\nconst ButtonContainer = styled.div`\n    margin-top: ${buttonsMarginTopPx}px;\n    display: flex;\n`;\n\nconst buttonMarginRightPx = 32;\n\nconst StyledButton = styled(Button)`\n    margin-right: ${buttonMarginRightPx}px;\n`;\n\nconst PopcornContainer = styled.div`\n    position: fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    z-index: 1;\n\n    display: flex;\n    justify-content: center;\n`;\n\nconst popcornList: FlattenSimpleInterpolation[] = [\n    css`\n        top: 120px;\n        right: 10px;\n        width: 920px;\n        height: 902px;\n        background-image: url('${popcornPromo}');\n    `,\n    css`\n        top: 162px;\n        right: 248px;\n        width: 440px;\n        height: 783px;\n        background-image: url('${popcorn1}');\n    `,\n    css`\n        top: 110px;\n        right: 66px;\n        width: 788px;\n        height: 816px;\n        background-image: url('${popcorn2}');\n    `,\n    css`\n        top: 215px;\n        right: 229px;\n        width: 469px;\n        height: 686px;\n        background-image: url('${popcorn3}');\n    `,\n    css`\n        top: 110px;\n        right: 66px;\n        width: 788px;\n        height: 816px;\n        background-image: url('${popcorn4}');\n    `,\n];\n\ninterface PopcornProps {\n    popcornStyle: FlattenSimpleInterpolation;\n    isVisible: boolean;\n}\n\nconst Popcorn = styled.div<PopcornProps>`\n    position: absolute;\n\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    transition: opacity 1s ${transition.timingFn.default};\n\n    opacity: ${({ isVisible }) => Number(isVisible)};\n\n    ${({ popcornStyle }) => popcornStyle}\n`;\n\nconst promoTitle = 'Доставляем попкорн \\nк просмотру фильмов \\nи сериалов';\nconst promoSubTitle =\n    'Бесплатно за 15-30 минут для Москвы, \\nСанкт-Петербурга, Нижнего Новгорода и Казани. \\nЗа 1 час в Подмосковье и Ленобласть.';\n\nexport const Promo: React.FC = () => {\n    const dispatch = useDispatch();\n    const handleClickSubmitButton = React.useCallback(() => {\n        dispatch(push(ROUTES.ADDRESS_SIMPLE_GUIDE));\n    }, [dispatch]);\n\n    return (\n        <>\n            <TextContainer>\n                <Title>\n                    <MultilineText text={promoTitle} />\n                </Title>\n                <Subtitle>\n                    <MultilineText text={promoSubTitle} />\n                </Subtitle>\n                <ButtonContainer>\n                    <StyledButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleClickSubmitButton}>\n                        Хочу заказать\n                    </StyledButton>\n                </ButtonContainer>\n            </TextContainer>\n            <PopcornContainer>\n                <Popcorn isVisible popcornStyle={popcornList[0]} />\n            </PopcornContainer>\n        </>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1, Headline1 } from '@sberdevices/plasma-styles';\nimport { black, blackTertiary, primary } from '@sberdevices/plasma-tokens';\nimport { Button } from 'components/Button/Button';\nimport { layout } from 'style/const/layout';\n\nimport bgImage from './LocationPage.assets/bg.jpg';\n\nexport const LocationBackground = styled.div`\n    position: absolute;\n    top: -${layout.headerHeightPx}px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n\n    height: ${layout.heightPx}px;\n`;\n\nexport const LocationMapBackground = styled(LocationBackground)`\n    mask: linear-gradient(0.3deg, ${blackTertiary} 0.26%, ${black} 53.11%, ${blackTertiary} 99.74%);\n    background-image: url('${bgImage}');\n\n    opacity: 0.6;\n`;\n\nconst StyledContainer = styled.div`\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 2;\n\n    display: flex;\n\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n`;\n\nexport const LocationTitle = styled(Headline1)`\n    margin-top: 48px;\n\n    text-align: center;\n\n    color: ${primary};\n`;\n\nexport const LocationText = styled(Body1)`\n    margin-top: 12px;\n\n    text-align: center;\n\n    color: ${primary};\n`;\n\nconst StyledButtonContainer = styled.div`\n    margin-top: 64px;\n\n    display: flex;\n    justify-content: center;\n`;\n\nexport const LocationButton = styled(Button)`\n    margin: 0 16px;\n`;\n\ninterface LocationPageProps {\n    buttons?: React.ReactNode;\n    background?: React.ReactNode;\n}\n\nexport const LocationPage: React.FC<LocationPageProps> = ({ children, buttons, background }) => {\n    return (\n        <>\n            <StyledContainer>\n                {children}\n                {buttons && <StyledButtonContainer>{buttons}</StyledButtonContainer>}\n            </StyledContainer>\n            {background}\n        </>\n    );\n};\n","import React from 'react';\nimport { replace } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { ROUTES } from 'store/constants/router';\nimport { closeAppAction } from 'store/actions/app';\nimport { Pin, SadFaceIcon } from 'components/Pin/Pin';\nimport { ButtonViews } from 'components/Button/Button';\nimport {\n    LocationButton,\n    LocationMapBackground,\n    LocationPage,\n    LocationText,\n    LocationTitle,\n} from 'components/LocationPage/LocationPage';\n\nexport const NoArea: React.FC = () => {\n    const dispatch = useDispatch();\n    const address = useSelector(({ userModel }) => userModel.address);\n    const city = useSelector(({ userModel }) => userModel.city);\n\n    const handleChangeButtonClick = React.useCallback(() => {\n        dispatch(replace(ROUTES.ADDRESS_SIMPLE_GUIDE));\n    }, [dispatch]);\n\n    const handleCloseButtonClick = React.useCallback(() => {\n        dispatch(closeAppAction());\n    }, [dispatch]);\n\n    const addressString = [city, address].join(', ');\n\n    const buttons = React.useMemo(\n        () => (\n            <>\n                <LocationButton view={ButtonViews.primary} shouldFocusOnMount onClick={handleChangeButtonClick}>\n                    Ввести другой\n                </LocationButton>\n                <LocationButton onClick={handleCloseButtonClick} view={ButtonViews.secondary}>\n                    Не сейчас\n                </LocationButton>\n            </>\n        ),\n        [handleChangeButtonClick, handleCloseButtonClick],\n    );\n\n    const background = React.useMemo(() => <LocationMapBackground />, []);\n\n    return (\n        <LocationPage buttons={buttons} background={background}>\n            <Pin pinColor=\"bad\">\n                <SadFaceIcon />\n            </Pin>\n            <LocationTitle>{addressString}</LocationTitle>\n            <LocationText>К сожалению, пока не доставляем по этому адресу</LocationText>\n        </LocationPage>\n    );\n};\n","import { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\nimport { createAction, createEmptyAction } from 'tools/create-action';\n\nexport const startFetchingTwoGisSuggests = () => createEmptyAction('START_FETCHING_TWO_GIS_SUGGESTS');\n\nexport const finishFetchingTwoGisSuggests = (payload: DGBuildingSuggest[]) =>\n    createAction('FINISH_FETCHING_TWO_GIS_SUGGESTS', payload);\n","export type DGLocale =\n    | 'ru_RU' // русский (Россия),\n    | 'ru_UA' // русский(Украина),\n    | 'ru_KG' // русский(Казахстан),\n    | 'ru_KZ' // русский(Киргизия),\n    | 'ru_UZ' // русский(Узбекистан),\n    | 'uk_RU' // украинский(Россия),\n    | 'uk_UA' // украинский(Украина),\n    | 'en_RU' // английский(Россия),\n    | 'en_AE' // английский(ОАЭ),\n    | 'en_CY' // английский(Кипр),\n    | 'it_RU' // итальянский(Россия),\n    | 'it_IT' // итальянский(Россия),\n    | 'es_RU' // испанский(Россия),\n    | 'es_CL' // испанский(Кипр),\n    | 'ar_AE' // арабский(ОАЭ),\n    | 'ar_RU' // арабский(Россия),\n    | 'cs_CZ' // чешский(Чехия),\n    | 'cs_RU' // чешский(Россия),\n    | 'az_AZ'; // азербайджанский (Азербайджан).\n\ninterface DGBaseResponse {\n    meta: {\n        code: number;\n        api_version: string;\n        issue_date: string;\n    };\n}\n\nexport interface DGErrorResponse extends DGBaseResponse {\n    meta: {\n        code: number;\n        api_version: string;\n        issue_date: string;\n        error: {\n            type: string;\n            message: string;\n        };\n    };\n}\n\nexport interface DGSuccessResponse<ResponseType> extends DGBaseResponse {\n    meta: {\n        code: number;\n        api_version: string;\n        issue_date: string;\n    };\n    result: ResponseType;\n}\n\nexport type DGApiResponse<ResponseType> = DGSuccessResponse<ResponseType> | DGErrorResponse;\n\nexport const isErrorResponse = (response: DGApiResponse<unknown>): response is DGErrorResponse =>\n    'error' in response.meta;\n\nexport interface DGListResult<Item> {\n    total: number;\n    items: Item[];\n}\n\nexport interface DGLatLng {\n    lat: number;\n    lon: number;\n}\n","import * as Sentry from '@sentry/react';\nimport destination from '@turf/destination';\nimport { memoize, memoizeResolvedPromise } from 'tools/memoize';\n\nimport { getSuggests } from './api/suggest';\nimport { DGLocale, isErrorResponse } from './api/common';\n\ntype Point = [string, string];\n\ninterface SearchBox {\n    viewpoint1: Point;\n    viewpoint2: Point;\n}\n\nconst memoizedGetSuggests = memoizeResolvedPromise(getSuggests);\n\nconst primarySearchRadiusKm = 1;\n\nconst getPrimarySearchParams = memoize(\n    (longitude: string, latitude: string): SearchBox => {\n        const userLocation: [number, number] = [parseFloat(longitude), parseFloat(latitude)];\n\n        const points = [0, 90, 180, 270].map(\n            (direction) =>\n                destination(userLocation, primarySearchRadiusKm, direction, { units: 'kilometers' }).geometry\n                    ?.coordinates ?? userLocation,\n        );\n\n        const topLeft: Point = [\n            Math.min(...points.map((point) => point[0])).toFixed(6),\n            Math.max(...points.map((point) => point[1])).toFixed(6),\n        ];\n\n        const bottomRight: Point = [\n            Math.max(...points.map((point) => point[0])).toFixed(6),\n            Math.min(...points.map((point) => point[1])).toFixed(6),\n        ];\n\n        return {\n            viewpoint1: topLeft,\n            viewpoint2: bottomRight,\n        };\n    },\n);\n\nexport interface GetSuggestsListParams {\n    q: string;\n    locale: DGLocale;\n    longitude: string;\n    latitude: string;\n}\n\nconst defaultSuggestOptions = {\n    fields: ['items.address', 'items.point'],\n    suggestType: 'address',\n    type: ['building'],\n};\n\nconst getSuggestListBySearchParams = async (\n    { q, locale, longitude, latitude }: GetSuggestsListParams,\n    searchParams: SearchBox,\n) =>\n    memoizedGetSuggests({\n        ...defaultSuggestOptions,\n        q: q.toLowerCase(),\n        locale,\n        location: [longitude, latitude],\n        ...searchParams,\n    })\n        .then((response) => {\n            if (isErrorResponse(response)) {\n                if (response.meta.code === 404) {\n                    // не выкидываем ошибку, если ничего не нашли\n                    return [];\n                }\n\n                throw new Error(`Error: 2GIS Suggests List: ${response.meta.error.message}`);\n            }\n\n            return response.result.items;\n        })\n        .catch((error) => {\n            if (process.env.REACT_APP_ENVIRONMENT === 'production') {\n                Sentry.captureException(error);\n            } else {\n                // eslint-disable-next-line no-console\n                console.error(error);\n            }\n\n            return [];\n        });\n\nexport const getSuggestsList = async (params: GetSuggestsListParams) => {\n    const { q, longitude, latitude } = params;\n\n    if (q.length === 0) {\n        return [];\n    }\n\n    const searchParams = getPrimarySearchParams(longitude, latitude);\n\n    const result = await getSuggestListBySearchParams(params, searchParams);\n\n    if (!result.length) {\n        return [];\n    }\n\n    return result;\n};\n","import React from 'react';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { startFetchingTwoGisSuggests, finishFetchingTwoGisSuggests } from 'store/actions/twoGisSuggests';\nimport { TwoGisSuggestFetchingStatus } from 'store/reducers/data/twoGisSuggestsData';\nimport { getSuggestsList } from 'tools/twoGis/getSuggestsList';\n\nexport const useAddressSimpleUpdateSuggests = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressSimplePage }) => addressSimplePage.inputValue);\n    const latitude = useSelector(({ userData }) => userData.deviceLocationLatitude);\n    const longitude = useSelector(({ userData }) => userData.deviceLocationLongitude);\n    const suggestsFetchingStatus = useSelector(({ twoGisSuggestsData }) => twoGisSuggestsData.fetchingStatus);\n\n    React.useEffect(() => {\n        if (suggestsFetchingStatus !== TwoGisSuggestFetchingStatus.INITIAL) {\n            return;\n        }\n\n        dispatch(startFetchingTwoGisSuggests());\n\n        getSuggestsList({ q: inputValue, locale: 'ru_RU', latitude, longitude })\n            .then((items) => {\n                dispatch(finishFetchingTwoGisSuggests(items));\n            })\n            .catch(() => {\n                dispatch(finishFetchingTwoGisSuggests([]));\n            });\n    }, [dispatch, inputValue, latitude, longitude, suggestsFetchingStatus]);\n};\n","import { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\n\nexport const buildAddressString = (suggest: DGBuildingSuggest) => {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    const { address, full_name } = suggest;\n    /**\n     * этот ифак скорее тайпгвард\n     * саджесты без компонентов адреса фильтруются в самом начале\n     */\n    if (!address.components || !address.components.length) {\n        return;\n    }\n\n    const [addressComponent] = address.components;\n    const { street, number } = addressComponent;\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    const [city] = full_name.split(', ');\n\n    return [city, street, number].join(', ');\n};\n","import React from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { addressSubmitThunk } from 'store/thunks/native';\nimport { addressSelectSuggestItemAction } from 'store/actions/addressSimplePage';\nimport { buildAddressString } from 'pages/AddressSimple/AddressSimple.tools';\nimport { Button, ButtonSize, ButtonTextAlign, ButtonViews } from 'components/Button/Button';\n\ninterface StyledButtonProps {\n    isFlashing?: boolean;\n}\n\nconst StyledButton = styled(Button)<StyledButtonProps>`\n    width: 100%;\n    padding: 36px 40px;\n\n    ${({ isFlashing }) =>\n        isFlashing &&\n        css`\n            &::after {\n                animation-name: ${keyframes`\n                    0% {\n                        opacity: 1;\n                    }\n                    50% {\n                        opacity: 0;\n                    }\n                    100% {\n                        opacity: 1;\n                    }\n                `};\n                animation-iteration-count: infinite;\n                animation-timing-function: linear;\n                animation-duration: 1.5s;\n            }\n        `}\n`;\n\ninterface SuggestListItemProps {\n    id: string;\n    shouldFocusOnMount?: boolean;\n}\n\nexport const AddressSimpleSuggestListItem: React.FC<SuggestListItemProps> = ({ id, shouldFocusOnMount }) => {\n    const suggest = useSelector(({ twoGisSuggestsData: { itemsMap } }) => itemsMap[id]);\n    const selectedSuggestItemId = useSelector(({ addressSimplePage }) => addressSimplePage.selectedSuggestItemId);\n    const isAddressSubmitting = useSelector(({ addressSimplePage }) => addressSimplePage.isAddressSubmitting);\n    const isSelectedItem = selectedSuggestItemId === id;\n    const isDisabled = isAddressSubmitting && !isSelectedItem;\n    const isFlashing = isAddressSubmitting && isSelectedItem;\n    const dispatch = useDispatch();\n\n    const handleClick = React.useCallback(() => {\n        if (isAddressSubmitting) {\n            return;\n        }\n\n        dispatch(addressSubmitThunk());\n    }, [dispatch, isAddressSubmitting]);\n\n    const handleFocus = React.useCallback(() => {\n        dispatch(addressSelectSuggestItemAction(id));\n    }, [dispatch, id]);\n\n    const addressName = suggest && buildAddressString(suggest);\n\n    return (\n        <StyledButton\n            shouldFocusOnMount={shouldFocusOnMount}\n            disabled={isDisabled && !isFlashing}\n            isFlashing={isFlashing}\n            onFocus={handleFocus}\n            onClick={handleClick}\n            view={ButtonViews.secondary}\n            size={ButtonSize.l}\n            textAlign={ButtonTextAlign.left}\n        >\n            {addressName}\n        </StyledButton>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport Swiper from 'swiper';\nimport { goBack } from 'connected-react-router';\nimport { Headline1 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useAddressSimpleUpdateSuggests } from 'pages/AddressSimple/AddressSimple.hooks';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { GradientFade } from 'components/GradientFade/GradientFade';\n\nimport { AddressSimpleSuggestListItem } from './SuggestItem/AddressSimpleSuggestItem';\n\nconst slideHeight = 112;\nconst spaceBetween = 24;\nconst slideWithMarginHeight = slideHeight + spaceBetween;\nconst paddingForFocus = 8;\nconst itemsInViewport = 4;\n\nconst StyledSwiperContainer = styled.div`\n    margin: ${80 - paddingForFocus}px auto 0;\n    width: ${900 + paddingForFocus * 2}px;\n    height: ${slideWithMarginHeight * itemsInViewport - spaceBetween + paddingForFocus * 2 + slideHeight / 2}px;\n    overflow-y: hidden;\n`;\n\nconst StyledSwiperWrapper = styled.div``;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nconst StyledSwiperSlide = styled.div`\n    height: ${slideHeight}px;\n    padding: 0 8px;\n`;\n\nconst StyledTitle = styled(Headline1)`\n    margin-top: 48px;\n    color: ${primary};\n    text-align: center;\n`;\n\nconst StyledButton = styled(Button)`\n    width: 100%;\n    padding: 36px 0;\n`;\n\nexport const AddressSimple: React.FC = () => {\n    const dispatch = useDispatch();\n    const isAddressSubmitting = useSelector(({ addressSimplePage }) => addressSimplePage.isAddressSubmitting);\n    const suggestsListIndex = useSelector(({ addressSimplePage }) => addressSimplePage.suggestsListIndex);\n    const suggestIds = useSelector(({ addressSimplePage }) => addressSimplePage.suggests);\n    const swiperContainerRef = React.useRef<HTMLDivElement>(null);\n    const swiperRef = React.useRef<Swiper | null>(null);\n\n    useAddressSimpleUpdateSuggests();\n\n    React.useLayoutEffect(() => {\n        if (swiperContainerRef.current) {\n            swiperRef.current =\n                swiperRef.current ||\n                new Swiper(swiperContainerRef.current, {\n                    direction: 'vertical',\n                    slidesPerView: 'auto',\n                    speed: 400,\n                    spaceBetween,\n                    initialSlide: 0,\n                    slidesOffsetBefore: paddingForFocus,\n                    slidesOffsetAfter: paddingForFocus + 52,\n                });\n        }\n    }, []);\n\n    React.useLayoutEffect(() => {\n        if (swiperRef.current) {\n            swiperRef.current.updateSize();\n            swiperRef.current.updateSlides();\n            swiperRef.current.updateProgress();\n            swiperRef.current.updateSlidesClasses();\n        }\n    }, [suggestIds]);\n\n    React.useLayoutEffect(() => {\n        if (swiperRef.current) {\n            swiperRef.current.slideTo(suggestsListIndex - 1, 400);\n        }\n    }, [suggestsListIndex]);\n\n    const handleCantFindAddressClick = React.useCallback(() => {\n        dispatch(goBack());\n    }, [dispatch]);\n\n    const suggestItems = React.useMemo(() => {\n        return suggestIds\n            .map((itemId, index) => (\n                <StyledSwiperSlide className=\"swiper-slide\" key={itemId}>\n                    <AddressSimpleSuggestListItem shouldFocusOnMount={index === 0} id={itemId} />\n                </StyledSwiperSlide>\n            ))\n            .concat([\n                <StyledSwiperSlide className=\"swiper-slide\" key=\"button\">\n                    <StyledButton\n                        view={ButtonViews.primary}\n                        onClick={handleCantFindAddressClick}\n                        disabled={isAddressSubmitting}\n                    >\n                        Моего адреса нет в списке\n                    </StyledButton>\n                </StyledSwiperSlide>,\n            ]);\n    }, [suggestIds, handleCantFindAddressClick, isAddressSubmitting]);\n\n    const isTopGradientVisible = suggestsListIndex > 1;\n    const isBottomGradientVisible =\n        // prettier-ignore\n        (suggestsListIndex === 0 && suggestItems.length > 1) ||\n        // -2 потому что все элементы уже видны, когда мы доходим до этого индекса\n        // пора убирать градиент снизу\n        suggestsListIndex < suggestItems.length - 1 - 2;\n\n    return (\n        <>\n            <StyledTitle>Выберите адрес</StyledTitle>\n            <GradientFade sizePx={150} isVisible={isTopGradientVisible} kind=\"top\">\n                <GradientFade sizePx={250} isVisible={isBottomGradientVisible} kind=\"bottom\">\n                    <StyledSwiperContainer\n                        tabIndex={-1}\n                        className=\"swiper-container\"\n                        ref={swiperContainerRef}\n                        onScroll={preventScroll}\n                    >\n                        <StyledSwiperWrapper className=\"swiper-wrapper\">{suggestItems}</StyledSwiperWrapper>\n                    </StyledSwiperContainer>\n                </GradientFade>\n            </GradientFade>\n        </>\n    );\n};\n","import React from 'react';\n\ninterface PlasmaIconProps {\n    className?: string;\n    fill?: string;\n}\nexport const PlasmaIcon: React.FC<PlasmaIconProps> = ({ className, children, fill = 'white' }) => (\n    <svg\n        className={className}\n        width=\"23\"\n        height=\"24\"\n        viewBox=\"0 0 23 24\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        {children}\n        <path\n            d=\"M23 14.9214C22.4799 14.0641 20.2694 14.097 18.124 14.13C17.0675 14.13 15.9786 14.13 14.9871 14.13C9.60724 13.6848 7.33177 11.5415 6.37282 9.89269C5.89828 9.05038 5.62862 8.10541 5.58622 7.1362C5.54382 6.16699 5.7299 5.2015 6.12902 4.31986C6.67661 3.23848 7.45055 2.29156 8.39669 1.54539C9.34282 0.799214 10.4383 0.271813 11.6064 0.000101213C9.57796 -0.00831337 7.58091 0.508078 5.80396 1.50048C4.88633 2.03156 4.03967 2.67987 3.28469 3.42953C2.43 4.32612 1.787 5.40775 1.40411 6.59297C1.02122 7.77818 0.908431 9.03607 1.07423 10.2719C1.29691 11.5764 1.80725 12.813 2.56715 13.8893C3.32704 14.9656 4.31685 15.8539 5.46264 16.4877C8.89209 18.6311 13.0367 18.4828 15.946 18.3838H17.5714C18.8879 18.3838 19.8143 18.5322 20.1232 19.1752C20.1989 19.411 20.1989 19.665 20.1232 19.9007C20.1232 20.0161 20.2369 20.0491 20.3344 19.9007C21.5781 18.4862 22.4698 16.7901 22.935 14.9544\"\n            fill={fill}\n        />\n        <path\n            d=\"M15.984 22.9919C15.8721 22.3426 14.3856 22.2059 12.5155 22.0521C11.1224 21.955 9.7384 21.7436 8.37562 21.4199C6.57366 20.9888 4.89214 20.1097 3.46747 18.854C2.04279 17.5982 0.915083 16.0011 0.175825 14.1923C9.7654e-07 13.9018 0 13.9531 0 14.2607C0.395244 16.2351 1.23718 18.0758 2.45211 19.6218C3.66703 21.1677 5.21792 22.3718 6.96903 23.1286C8.832 23.9337 10.3896 23.9726 11.1888 23.9726C11.3581 23.9902 11.5285 24 11.7003 24C13.1813 23.9524 14.6404 23.6045 16 22.9748\"\n            fill={fill}\n        />\n        <path\n            d=\"M9.14667 4.81246C8.96368 5.50774 8.95174 6.23637 9.11186 6.93718C9.27198 7.63798 9.59949 8.2905 10.0669 8.83996C11.372 10.2256 13.0497 11.2129 14.9023 11.6856C16.7549 12.1584 18.7053 12.0969 20.5238 11.5084C21.5558 11.1477 22.4304 10.4451 23 9.5195C22.752 8.43653 22.3521 7.39329 21.8121 6.42014C21.4565 6.79157 21.0141 7.0705 20.5238 7.23227C19.5794 7.52033 18.5784 7.57578 17.6075 7.39383C16.6366 7.21187 15.7252 6.79799 14.9524 6.18811C14.7542 5.96516 14.614 5.69761 14.544 5.40875C14.474 5.11989 14.4764 4.81846 14.5508 4.5307C14.6794 4.14405 14.8977 3.79267 15.1883 3.50481C15.4789 3.21696 15.8336 3.00065 16.2239 2.87329C16.9507 2.69104 17.7 2.6129 18.4491 2.64126C17.6783 2.09104 16.8674 1.59801 16.0231 1.16616C15.8152 1.06253 15.5866 1.00593 15.3539 1.00042H15.0695C14.1559 0.990731 13.2484 1.14805 12.3925 1.4645C11.6279 1.72778 10.9361 2.1647 10.3725 2.7403C9.80883 3.3159 9.38904 4.01419 9.14667 4.77931\"\n            fill={fill}\n        />\n    </svg>\n);\n","import styled from 'styled-components';\nimport { Body1, Footnote1, Headline1 } from '@sberdevices/plasma-styles';\nimport { primary, secondary, surfaceLiquid01 } from '@sberdevices/plasma-tokens';\nimport { GradientFade } from 'components/GradientFade/GradientFade';\nimport { PlasmaIcon } from 'components/PlasmaIcon/PlasmaIcon';\nimport { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport React from 'react';\n\nconst circleContainerSize = 316;\nconst plasmaIconSize = 48;\nconst offsetToCenteringIcon = circleContainerSize / 2 - plasmaIconSize / 2;\nconst StyledPlasmaIcon = styled(PlasmaIcon)`\n    position: absolute;\n    height: ${plasmaIconSize}px;\n    width: ${plasmaIconSize}px;\n    top: ${offsetToCenteringIcon}px;\n    left: ${offsetToCenteringIcon}px;\n`;\n\nexport const StyledCircles = styled.div`\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: ${circleContainerSize}px;\n    width: ${circleContainerSize}px;\n    margin-top: 106px;\n\n    &::after {\n        position: absolute;\n        top: 86px;\n        left: 86px;\n        right: 86px;\n        bottom: 86px;\n\n        content: '';\n        border-radius: 50%;\n\n        opacity: 0.3;\n        background: ${surfaceLiquid01};\n        box-shadow: inset 0 4px 4px rgba(255, 255, 255, 0.15);\n        backdrop-filter: blur(48px);\n    }\n\n    &::before {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        content: '';\n        border-radius: 50%;\n\n        opacity: 0.3;\n        background: rgba(255, 255, 255, 0.02);\n        box-shadow: inset 0 4px 4px rgba(255, 255, 255, 0.15);\n        backdrop-filter: blur(48px);\n    }\n`;\n\nconst StyledOkButton = styled(Footnote1)`\n    position: relative;\n    display: inline-flex;\n    height: 78px;\n    width: 78px;\n    justify-content: center;\n    align-items: center;\n    color: ${primary};\n    margin-left: 12px;\n\n    &::before {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        content: '';\n        border-radius: 50%;\n        z-index: -1;\n\n        opacity: 0.3;\n        background: ${surfaceLiquid01};\n        box-shadow: inset 0 4px 4px rgba(255, 255, 255, 0.15);\n        backdrop-filter: blur(48px);\n    }\n`;\n\nexport const GuidePageRoot = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nexport const GuidePagePlasmaIcon = () => (\n    <GradientFade sizePx={50} isVisible kind=\"bottom\">\n        <StyledCircles>\n            <StyledPlasmaIcon />\n        </StyledCircles>\n    </GradientFade>\n);\n\nexport const GuidePageTitle = styled(Body1)`\n    margin-top: -54px;\n    color: ${primary};\n`;\n\nexport const GuidePageSource = styled(Headline1)`\n    position: relative;\n    margin-top: 32px;\n\n    background: linear-gradient(to right, #00ffdf, #00ff5a);\n    color: transparent;\n    -webkit-background-clip: text;\n`;\n\nexport const GuidePageSubtitle = styled(Body1)`\n    margin-top: 130px;\n    color: ${secondary};\n`;\n\ninterface GuidePageHintProps {\n    onOkClick: () => void;\n}\nexport const GuidePageHint: React.FC<GuidePageHintProps> = ({ onOkClick }) => {\n    const okButtonRef = useFocusOnMount<HTMLDivElement>();\n\n    return (\n        <GuidePageSubtitle>\n            Чтобы ввести с клавиатуры, нажмите на пульте кнопку\n            <StyledOkButton ref={okButtonRef} tabIndex={0} onClick={onOkClick}>\n                ОК\n            </StyledOkButton>\n        </GuidePageSubtitle>\n    );\n};\n","import { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport React from 'react';\nimport { addressShowKeyboardHintAction } from 'store/actions/addressSimplePage';\nimport { ROUTES } from 'store/constants/router';\nimport {\n    GuidePageHint,\n    GuidePagePlasmaIcon,\n    GuidePageRoot,\n    GuidePageSource,\n    GuidePageTitle,\n} from 'components/GuidePage/GuidePage';\n\nexport const AddressSimpleGuide: React.FC = () => {\n    const isKeyboardHintVisible = useSelector(({ addressSimplePage }) => addressSimplePage.isKeyboardHintVisible);\n    const dispatch = useDispatch();\n\n    const handleOkClick = React.useCallback(() => {\n        dispatch(push(ROUTES.ADDRESS_SIMPLE_INPUT));\n    }, [dispatch]);\n\n    React.useEffect(() => {\n        return () => {\n            if (!isKeyboardHintVisible) {\n                dispatch(addressShowKeyboardHintAction());\n            }\n        };\n    }, [dispatch, isKeyboardHintVisible]);\n\n    return (\n        <GuidePageRoot>\n            <GuidePagePlasmaIcon />\n            <GuidePageTitle>Нажмите кнопку на пульте и назовите</GuidePageTitle>\n            <GuidePageSource>улицу и дом</GuidePageSource>\n            {isKeyboardHintVisible ? <GuidePageHint onOkClick={handleOkClick} /> : null}\n        </GuidePageRoot>\n    );\n};\n","import React from 'react';\nimport { goBack } from 'connected-react-router';\nimport { buildAddressString } from 'pages/AddressSimple/AddressSimple.tools';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { useAddressSimpleUpdateSuggests } from 'pages/AddressSimple/AddressSimple.hooks';\nimport { TwoGisSuggestFetchingStatus } from 'store/reducers/data/twoGisSuggestsData';\nimport { addressInputDeclineThunk, addressSubmitThunk } from 'store/thunks/native';\nimport { ButtonViews } from 'components/Button/Button';\nimport {\n    LocationButton,\n    LocationMapBackground,\n    LocationPage,\n    LocationText,\n    LocationTitle,\n} from 'components/LocationPage/LocationPage';\nimport { Pin, DeadFaceIcon, HappyFaceIcon } from 'components/Pin/Pin';\n\nconst TryAgain: React.FC = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressSimplePage }) => addressSimplePage.inputValue);\n\n    const handleRepeatClick = React.useCallback(() => {\n        dispatch(goBack());\n    }, [dispatch]);\n\n    const buttons = React.useMemo(\n        () => (\n            <LocationButton shouldFocusOnMount view={ButtonViews.secondary} onClick={handleRepeatClick}>\n                Ввести еще раз\n            </LocationButton>\n        ),\n        [handleRepeatClick],\n    );\n\n    const background = React.useMemo(() => <LocationMapBackground />, []);\n\n    return (\n        <LocationPage buttons={buttons} background={background}>\n            <Pin isBroken pinColor=\"bad\">\n                <DeadFaceIcon />\n            </Pin>\n            <LocationTitle>{inputValue}</LocationTitle>\n            <LocationText>Этот адрес не найден, попробуйте еще раз</LocationText>\n        </LocationPage>\n    );\n};\n\nconst AddressFound: React.FC = () => {\n    const dispatch = useDispatch();\n    const isAddressSubmitting = useSelector(({ addressSimplePage }) => addressSimplePage.isAddressSubmitting);\n    const suggest = useSelector(({ twoGisSuggestsData: { mostRepresentationSuggest } }) => mostRepresentationSuggest);\n\n    const handleAcceptButtonClick = React.useCallback(() => {\n        dispatch(addressSubmitThunk());\n    }, [dispatch]);\n\n    const handleDeclineButtonClick = React.useCallback(() => {\n        dispatch(addressInputDeclineThunk());\n    }, [dispatch]);\n\n    const buttons = React.useMemo(\n        () => (\n            <>\n                <LocationButton\n                    shouldFocusOnMount\n                    shouldLockAfterClick\n                    view={ButtonViews.primary}\n                    onClick={handleAcceptButtonClick}\n                >\n                    Да, все верно\n                </LocationButton>\n                <LocationButton\n                    view={ButtonViews.secondary}\n                    onClick={handleDeclineButtonClick}\n                    disabled={isAddressSubmitting}\n                >\n                    Нет, выбрать другой\n                </LocationButton>\n            </>\n        ),\n        [handleAcceptButtonClick, handleDeclineButtonClick, isAddressSubmitting],\n    );\n\n    const addressName = React.useMemo(() => suggest && buildAddressString(suggest), [suggest]);\n\n    return (\n        <LocationPage buttons={buttons}>\n            <Pin pinColor=\"good\">\n                <HappyFaceIcon />\n            </Pin>\n            <LocationTitle>{addressName}</LocationTitle>\n            <LocationText>Это ваш адрес?</LocationText>\n        </LocationPage>\n    );\n};\n\nexport const AddressSimpleQuestion: React.FC = () => {\n    const suggest = useSelector(({ twoGisSuggestsData: { mostRepresentationSuggest } }) => mostRepresentationSuggest);\n    const suggestsFetchingStatus = useSelector(({ twoGisSuggestsData }) => twoGisSuggestsData.fetchingStatus);\n\n    useAddressSimpleUpdateSuggests();\n\n    // саджесты еще не приехали, показываем пустой экран, потому здесь будет скелетон\n    if (suggestsFetchingStatus === TwoGisSuggestFetchingStatus.PENDING) {\n        return <LocationPage />;\n    }\n\n    if (!suggest) {\n        return <TryAgain />;\n    }\n\n    return <AddressFound />;\n};\n","import React from 'react';\nimport { KeyboardExpandHandler, useKeyboardExpanded } from 'hooks/useKeyboardExpanded';\n\ninterface UseKeyboardCloseParams {\n    handleInputSubmit?: () => void;\n    handleKeyboardClose?: () => void;\n}\nexport const useKeyboardClose = ({ handleInputSubmit, handleKeyboardClose }: UseKeyboardCloseParams) => {\n    /**\n     * Для чего нужен этот флаг?\n     * Проблема в том, что при нажатии на \"ОК\" в открытой клавиатуре срабатывает\n     * обработчик onSubmit на пнпуте и что-то происходит. Чаще всего это уход с\n     * текущего экрана, а так как хуки работают на лайфсайкле реакта, то\n     * useKeyboardExpanded может успеть выпилить свои хандлеры по отслеживанию\n     * открытия клавиатура, а может и не успеть. Из-за чего иногда (флапает)\n     * срабатывает так же хандлер закрытия клавиатуры, что ведет беде.\n     * Поэтому при срабатывании одного из хандлеров (закрытие клавы или нажатие на \"ОК\"),\n     * мы выставляем флаг о том, что больше хандлеры вызывать не нужно. Все уже, хватит.\n     */\n    const [isHandlerInvoked, setHandlerInvoked] = React.useState(false);\n\n    /**\n     * А хандлер фокуса инпута нужен для того чтобы понять когда вообще открывается\n     * клавиатура, потому что, пока что, единственные способ это узнать, это перехватить\n     * фокус на инпуте.\n     */\n    const onInputFocus = React.useCallback(() => {\n        setHandlerInvoked(false);\n    }, []);\n\n    const onInputSubmit = React.useCallback(() => {\n        if (isHandlerInvoked || !handleInputSubmit) {\n            return;\n        }\n\n        setHandlerInvoked(true);\n\n        handleInputSubmit();\n    }, [handleInputSubmit, isHandlerInvoked, setHandlerInvoked]);\n\n    const handleKeyboardExpand = React.useCallback<KeyboardExpandHandler>(\n        (isKeyboardExpanded, keyboardExpandedCount) => {\n            if (keyboardExpandedCount === 0 || isKeyboardExpanded) {\n                return;\n            }\n\n            if (isHandlerInvoked || !handleKeyboardClose) {\n                return;\n            }\n\n            handleKeyboardClose();\n        },\n        [isHandlerInvoked, handleKeyboardClose],\n    );\n\n    useKeyboardExpanded(handleKeyboardExpand);\n\n    return { onInputFocus, onInputSubmit };\n};\n","import React from 'react';\n\nexport interface KeyboardExpandHandler {\n    (isKeyboardExpanded: boolean, keyboardExpandedCount: number): void;\n}\nexport const useKeyboardExpanded = (handleKeyboardExpand: KeyboardExpandHandler) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const [_, setKeyboardExpandedCount] = React.useState(0);\n\n    React.useLayoutEffect(() => {\n        const handleWindowResize = () => {\n            setKeyboardExpandedCount((currentKeyboardExpandedValue) => {\n                const nextKeyboardExpandedValue = currentKeyboardExpandedValue + 1;\n                const isKeyboardExpanded = nextKeyboardExpandedValue % 2 !== 0;\n\n                handleKeyboardExpand(isKeyboardExpanded, nextKeyboardExpandedValue);\n\n                return nextKeyboardExpandedValue;\n            });\n        };\n\n        window.addEventListener('resize', handleWindowResize);\n\n        return () => {\n            window.removeEventListener('resize', handleWindowResize);\n        };\n    }, [setKeyboardExpandedCount, handleKeyboardExpand]);\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { ParagraphText2 } from '@sberdevices/plasma-styles';\nimport { accent, critical, fontWeights, surfaceLiquid01, surfaceLiquid02, tertiary } from '@sberdevices/plasma-tokens';\nimport { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport { transition } from 'style/const/transition';\n\ninterface StyledTitleProps {\n    isMinified?: boolean;\n    isFocused?: boolean;\n    isInvalid?: boolean;\n}\nconst StyledTitle = styled(ParagraphText2)<StyledTitleProps>`\n    position: absolute;\n    left: 32px;\n    top: 36px;\n\n    color: ${({ isInvalid, isFocused }) => {\n        if (isInvalid) {\n            return critical;\n        }\n\n        if (isFocused) {\n            return accent;\n        }\n\n        return tertiary;\n    }};\n\n    transition: font-size 0.2s ease-in-out, top 0.2s ease-in-out, color 0.2s ease-in-out;\n\n    ${({ isMinified }) =>\n        isMinified &&\n        css`\n            top: 12px;\n            font-size: 24px;\n        `};\n`;\n\ninterface StyledInputProps {\n    disabled?: boolean;\n}\nconst StyledInput = styled.input<StyledInputProps>`\n    margin-top: 50px;\n    height: 40px;\n    width: 100%;\n    font-family: inherit;\n    font-weight: ${fontWeights.Medium};\n    font-size: 32px;\n    color: ${({ disabled }) => (disabled ? 'rgba(255, 255, 255, 0.28)' : '#fff')};\n    caret-color: ${accent};\n    line-height: 40px;\n    padding: 0;\n    border: none;\n    background: transparent;\n`;\n\nconst StyledWrapper = styled.div`\n    position: relative;\n    box-sizing: border-box;\n    height: 112px;\n    padding: 4px 36px;\n    background-color: ${surfaceLiquid01};\n\n    &::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n\n        display: block;\n        height: 4px;\n\n        background-color: ${surfaceLiquid02};\n\n        pointer-events: none;\n\n        transition: bottom ${transition.default};\n    }\n`;\n\ninterface StyledRootProps {\n    isFocused?: boolean;\n}\nconst StyledRoot = styled.div<StyledRootProps>`\n    margin: -4px;\n    height: 120px;\n    box-sizing: border-box;\n    border: 4px solid transparent;\n    border-radius: 28px;\n\n    overflow: hidden;\n\n    transition: border ${transition.default};\n\n    ${({ isFocused }) =>\n        isFocused &&\n        css`\n            border-color: ${accent};\n\n            ${StyledTitle} {\n                transition: color ${transition.default};\n            }\n\n            ${StyledWrapper}::after {\n                bottom: -4px;\n            }\n        `}\n`;\n\ninterface InputProps {\n    title: string;\n    value: string;\n    className?: string;\n    type?: string;\n    disabled?: boolean;\n    isInvalid?: boolean;\n    onSubmit?: (event: React.SyntheticEvent<HTMLInputElement>) => void;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    onInputFocus?: () => void;\n    onRootKeyPress?: (event: React.KeyboardEvent<HTMLInputElement>) => void;\n    forwardRef?: React.RefObject<HTMLDivElement>;\n    forwardInputRef?: React.RefObject<HTMLInputElement>;\n    shouldFocusOnMount?: boolean;\n    shouldFocusInputOnMount?: boolean;\n}\n\nexport const Input: React.FC<InputProps> = ({\n    title,\n    value,\n    className,\n    type = 'text',\n    disabled,\n    isInvalid,\n    onSubmit,\n    onChange,\n    onInputFocus,\n    onRootKeyPress,\n    forwardRef,\n    forwardInputRef,\n    shouldFocusOnMount,\n    shouldFocusInputOnMount,\n}) => {\n    const [isFocused, setFocus] = React.useState(false);\n    const [isUsing, setUsing] = React.useState(false);\n    const inputRootRef = React.useRef<HTMLInputElement>(null);\n    const inputRef = forwardInputRef || inputRootRef;\n    const onMountRootRef = useFocusOnMount<HTMLDivElement>(forwardRef);\n    const rootRef = shouldFocusOnMount ? onMountRootRef : forwardRef;\n    const handleRootFocus = React.useCallback(() => setFocus(true), [setFocus]);\n    const handleRootBlur = React.useCallback(() => {\n        setFocus(false);\n        setUsing(false);\n    }, [setFocus, setUsing]);\n    const handleRootKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            if (inputRef && inputRef.current) {\n                if (onRootKeyPress) {\n                    onRootKeyPress(e);\n                }\n\n                if (!e.defaultPrevented) {\n                    inputRef.current.focus();\n                    setUsing(true);\n                }\n            }\n        },\n        [onRootKeyPress, setUsing, inputRef],\n    );\n    const handleInputKeyPress = React.useCallback(\n        (event: React.KeyboardEvent<HTMLInputElement>) => {\n            if (onSubmit && event && event.key === 'Enter') {\n                event.stopPropagation();\n                onSubmit(event);\n            }\n        },\n        [onSubmit],\n    );\n\n    React.useEffect(() => {\n        if (shouldFocusInputOnMount && inputRef && inputRef.current) {\n            inputRef.current.focus();\n            setUsing(true);\n        }\n    }, [shouldFocusInputOnMount, inputRef, setUsing]);\n\n    const isTitleMinified = isUsing || Boolean(value);\n\n    return (\n        <StyledRoot\n            tabIndex={disabled ? -1 : 0}\n            className={className}\n            ref={rootRef}\n            isFocused={isFocused}\n            onFocus={handleRootFocus}\n            onBlur={handleRootBlur}\n            onKeyPress={handleRootKeyPress}\n        >\n            <StyledWrapper>\n                <StyledTitle isMinified={isTitleMinified} isFocused={isFocused} isInvalid={isInvalid}>\n                    {title}\n                </StyledTitle>\n                <StyledInput\n                    tabIndex={-1}\n                    ref={inputRef}\n                    type={type}\n                    disabled={disabled}\n                    onKeyPress={handleInputKeyPress}\n                    onChange={onChange}\n                    onFocus={onInputFocus}\n                    value={value}\n                />\n            </StyledWrapper>\n        </StyledRoot>\n    );\n};\n","import { useIsValueChanged } from 'hooks/useIsValueChanged';\nimport { useKeyboardClose } from 'hooks/useKeyboardClose';\nimport React from 'react';\nimport { ROUTES } from 'store/constants/router';\nimport styled from 'styled-components';\nimport { goBack, replace } from 'connected-react-router';\nimport { Input } from 'components/Input/Input';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressChangeInputValueAction } from 'store/actions/addressSimplePage';\n\nconst StyledInput = styled(Input)`\n    margin: 54px auto 0;\n    width: 900px;\n`;\n\nexport const AddressSimpleInput = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressSimplePage }) => addressSimplePage.inputValue);\n    const isInputValueChanged = useIsValueChanged(inputValue);\n\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressChangeInputValueAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleKeyboardClose = React.useCallback(() => {\n        if (isInputValueChanged) {\n            dispatch(replace(ROUTES.ADDRESS_SIMPLE_QUESTION));\n        } else {\n            dispatch(goBack());\n        }\n    }, [dispatch, isInputValueChanged]);\n\n    const { onInputFocus, onInputSubmit } = useKeyboardClose({\n        handleInputSubmit: handleKeyboardClose,\n        handleKeyboardClose,\n    });\n\n    return (\n        <StyledInput\n            shouldFocusInputOnMount\n            title=\"Адрес\"\n            value={inputValue}\n            onChange={handleInputChange}\n            onSubmit={onInputSubmit}\n            onInputFocus={onInputFocus}\n        />\n    );\n};\n","import React from 'react';\n\nexport const useIsValueChanged = (source: unknown) => {\n    const [value] = React.useState(source);\n\n    return source !== value;\n};\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { Body1 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { noop } from 'tools/noop';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullSubmitAction } from 'store/actions/server';\nimport { ROUTES } from 'store/constants/router';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { Input } from 'components/Input/Input';\nimport { PlasmaIcon } from 'components/PlasmaIcon/PlasmaIcon';\n\nconst StyledFirstRow = styled.div`\n    grid-area: first-row;\n    display: grid;\n    grid-column-gap: 32px;\n    grid-template-columns: 1.4fr 1fr;\n    color: ${primary};\n`;\n\nconst StyledSecondRow = styled.div`\n    grid-area: second-row;\n    display: grid;\n    grid-column-gap: 32px;\n    grid-template-columns: 1fr 1fr 1fr;\n    color: ${primary};\n`;\n\nconst StyledThirdRow = styled.div`\n    grid-area: third-row;\n    display: grid;\n    grid-column-gap: 32px;\n    grid-template-columns: 1.4fr 1fr;\n    color: ${primary};\n`;\n\nconst StyledFourthRow = styled.div`\n    grid-area: fourth-row;\n    display: flex;\n`;\n\nconst SubmitButton = styled(Button)`\n    flex-grow: 0;\n    padding: 32px 40px;\n\n    &[disabled] {\n        opacity: 0.3;\n    }\n`;\n\nconst StyledRoot = styled.div`\n    display: grid;\n    padding: 82px 128px 0;\n    box-sizing: border-box;\n    grid-gap: 48px 32px;\n    grid-template-areas: 'first-row' 'second-row' 'third-row' 'fourth-row';\n\n    will-change: transform;\n`;\n\nconst StyledVoiceHint = styled(Body1)`\n    display: flex;\n    margin-left: 48px;\n    align-items: center;\n\n    background: linear-gradient(to right, #00ffdf, #00ff5a);\n    color: transparent;\n    -webkit-background-clip: text;\n`;\n\nconst StyledPlasmaIcon = styled(PlasmaIcon)`\n    height: 88px;\n    width: 88px;\n    border: solid 22px transparent;\n    box-sizing: border-box;\n`;\n\nexport const AddressFullAll: React.FC = () => {\n    const dispatch = useDispatch();\n    const {\n        addressInputValue,\n        phoneNumberInputValue,\n        apartmentInputValue,\n        entranceInputValue,\n        floorInputValue,\n        doorCodeInputValue,\n        isSubmitButtonDisabled,\n        nextFocus,\n        isPhoneValid,\n    } = useSelector(({ addressFullPage }) => addressFullPage);\n\n    const handleAddressKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            dispatch(push(ROUTES.ADDRESS_SIMPLE_GUIDE));\n        },\n        [dispatch],\n    );\n    const handlePhoneKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            dispatch(push(ROUTES.ADDRESS_FULL_PHONE));\n        },\n        [dispatch],\n    );\n    const handleApartmentKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            dispatch(push(ROUTES.ADDRESS_FULL_APARTMENT));\n        },\n        [dispatch],\n    );\n    const handleEntranceKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            dispatch(push(ROUTES.ADDRESS_FULL_ENTRANCE));\n        },\n        [dispatch],\n    );\n    const handleFloorKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            dispatch(push(ROUTES.ADDRESS_FULL_FLOOR));\n        },\n        [dispatch],\n    );\n    const handleDoorCodeKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            dispatch(push(ROUTES.ADDRESS_FULL_DOOR_CODE));\n        },\n        [dispatch],\n    );\n    const handleSubmitClick = React.useCallback(() => {\n        dispatch(addressFullSubmitAction());\n    }, [dispatch]);\n\n    return (\n        <StyledRoot>\n            <StyledFirstRow>\n                <Input\n                    title=\"Улица и дом\"\n                    onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                    onRootKeyPress={handleAddressKeyPress}\n                    value={addressInputValue}\n                />\n                <Input\n                    title=\"Номер телефона\"\n                    shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_PHONE}\n                    onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                    onRootKeyPress={handlePhoneKeyPress}\n                    value={phoneNumberInputValue}\n                    isInvalid={!isPhoneValid}\n                />\n            </StyledFirstRow>\n            <StyledSecondRow>\n                <Input\n                    title=\"Квартира\"\n                    shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_APARTMENT}\n                    onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                    onRootKeyPress={handleApartmentKeyPress}\n                    value={apartmentInputValue}\n                />\n                <Input\n                    title=\"Подъезд\"\n                    shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_ENTRANCE}\n                    onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                    onRootKeyPress={handleEntranceKeyPress}\n                    value={entranceInputValue}\n                />\n                <Input\n                    title=\"Этаж\"\n                    shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_FLOOR}\n                    onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                    onRootKeyPress={handleFloorKeyPress}\n                    value={floorInputValue}\n                />\n            </StyledSecondRow>\n            <StyledThirdRow>\n                <Input\n                    title=\"Комментарий\"\n                    shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_DOOR_CODE}\n                    onChange={noop} // реакт запрещает прокидывать в инпут значение без обработчика изменений\n                    onRootKeyPress={handleDoorCodeKeyPress}\n                    value={doorCodeInputValue}\n                />\n            </StyledThirdRow>\n            <StyledFourthRow>\n                <SubmitButton\n                    view={isSubmitButtonDisabled ? ButtonViews.secondary : ButtonViews.primary}\n                    shouldFocusOnMount={nextFocus === ROUTES.ADDRESS_FULL_ALL}\n                    disabled={isSubmitButtonDisabled}\n                    shouldLockAfterClick\n                    onClick={handleSubmitClick}\n                >\n                    Сохранить\n                </SubmitButton>\n                <StyledVoiceHint>\n                    <StyledPlasmaIcon fill=\"url(#plasma-green-gradient)\">\n                        <linearGradient id=\"plasma-green-gradient\">\n                            <stop offset=\"0%\" stopColor=\"#00ffdf\" />\n                            <stop offset=\"100%\" stopColor=\"#00ff5a\" />\n                        </linearGradient>\n                    </StyledPlasmaIcon>\n                    Вы можете изменять данные голосом\n                </StyledVoiceHint>\n            </StyledFourthRow>\n        </StyledRoot>\n    );\n};\n","import { createAction } from 'tools/create-action';\n\ninterface AddressFullPhoneNumberInputChangePayload {\n    inputType: InputEvent['inputType'];\n    data: InputEvent['data'];\n}\n\n/* Изменить телефон */\nexport const addressFullPhoneNumberInputChangeAction = (payload: AddressFullPhoneNumberInputChangePayload) =>\n    createAction('addressFull/PHONE_NUMBER_INPUT_CHANGE', payload);\n\n/* Изменить квартиру */\nexport const addressFullApartmentInputChangeAction = (payload: string) =>\n    createAction('addressFull/APARTMENT_INPUT_CHANGE', payload);\n\n/* Изменить подъезд */\nexport const addressFullEntranceInputChangeAction = (payload: string) =>\n    createAction('addressFull/ENTRANCE_INPUT_CHANGE', payload);\n\n/* Изменить этаж */\nexport const addressFullFloorInputChangeAction = (payload: string) =>\n    createAction('addressFull/FLOOR_INPUT_CHANGE', payload);\n\n/* Изменить комментарий */\nexport const addressFullDoorCodeInputChangeAction = (payload: string) =>\n    createAction('addressFull/DOORCODE_INPUT_CHANGE', payload);\n","import { useKeyboardClose } from 'hooks/useKeyboardClose';\nimport React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullApartmentInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullApartment = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.apartmentInputValue);\n\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullApartmentInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleKeyboardClose = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    const { onInputFocus, onInputSubmit } = useKeyboardClose({\n        handleKeyboardClose,\n        handleInputSubmit: handleKeyboardClose,\n    });\n\n    return (\n        <StyledInput\n            title=\"Квартира\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={onInputSubmit}\n            onInputFocus={onInputFocus}\n        />\n    );\n};\n","import { useKeyboardClose } from 'hooks/useKeyboardClose';\nimport React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullDoorCodeInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullDoorCode = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.doorCodeInputValue);\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullDoorCodeInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleKeyboardClose = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    const { onInputFocus, onInputSubmit } = useKeyboardClose({\n        handleInputSubmit: handleKeyboardClose,\n        handleKeyboardClose,\n    });\n\n    return (\n        <StyledInput\n            title=\"Комментарий\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onInputFocus={onInputFocus}\n            onSubmit={onInputSubmit}\n        />\n    );\n};\n","import { useKeyboardClose } from 'hooks/useKeyboardClose';\nimport React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullEntranceInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullEntrance = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.entranceInputValue);\n\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullEntranceInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleKeyboardClose = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    const { onInputFocus, onInputSubmit } = useKeyboardClose({\n        handleKeyboardClose,\n        handleInputSubmit: handleKeyboardClose,\n    });\n\n    return (\n        <StyledInput\n            title=\"Подъезд\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={onInputSubmit}\n            onInputFocus={onInputFocus}\n        />\n    );\n};\n","import { useKeyboardClose } from 'hooks/useKeyboardClose';\nimport React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullFloorInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\n\nconst StyledInput = styled(Input)`\n    margin: 80px auto 0;\n    width: 900px;\n`;\n\nexport const AddressFullFloor = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.floorInputValue);\n\n    const handleInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullFloorInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n    const handleKeyboardClose = React.useCallback(() => {\n        dispatch(addressFullValidationOkThunk());\n    }, [dispatch]);\n\n    const { onInputFocus, onInputSubmit } = useKeyboardClose({\n        handleKeyboardClose,\n        handleInputSubmit: handleKeyboardClose,\n    });\n\n    return (\n        <StyledInput\n            title=\"Этаж\"\n            value={inputValue}\n            shouldFocusInputOnMount\n            onChange={handleInputChange}\n            onSubmit={onInputSubmit}\n            onInputFocus={onInputFocus}\n        />\n    );\n};\n","import { useKeyboardClose } from 'hooks/useKeyboardClose';\nimport React from 'react';\nimport { addressFullValidationOkThunk } from 'store/thunks/addressFullPage';\nimport styled from 'styled-components';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addressFullPhoneNumberInputChangeAction } from 'store/actions/addressFullPage';\nimport { Input } from 'components/Input/Input';\nimport { Label } from 'components/Label/Label';\n\nconst StyledContainer = styled.div`\n    position: relative;\n\n    margin: 80px auto 0;\n\n    width: 900px;\n`;\n\nconst StyledLabel = styled(Label)`\n    position: absolute;\n\n    margin-top: 12px;\n\n    width: 100%;\n    padding: 0 32px;\n`;\n\nexport const AddressFullPhone = () => {\n    const dispatch = useDispatch();\n    const inputValue = useSelector(({ addressFullPage }) => addressFullPage.phoneNumberInputValue);\n    const isPhoneValid = useSelector(({ addressFullPage }) => addressFullPage.isPhoneValid);\n    const [isFirstTry, setFirstTry] = React.useState(true);\n    const isErrorLabelVisible = !isPhoneValid && !isFirstTry;\n\n    const handleInputChange = React.useCallback(\n        ({ nativeEvent }: React.ChangeEvent<HTMLInputElement>) => {\n            // без этого тайпгварда TS не хочет показывать правильные поля\n            if (nativeEvent instanceof InputEvent) {\n                const { inputType, data } = nativeEvent;\n\n                dispatch(addressFullPhoneNumberInputChangeAction({ inputType, data }));\n            }\n        },\n        [dispatch],\n    );\n    const handleKeyboardClose = React.useCallback(() => {\n        if (isPhoneValid) {\n            dispatch(addressFullValidationOkThunk());\n        } else {\n            setFirstTry(false);\n        }\n    }, [dispatch, isPhoneValid]);\n\n    const { onInputSubmit, onInputFocus } = useKeyboardClose({\n        handleKeyboardClose,\n        handleInputSubmit: handleKeyboardClose,\n    });\n\n    return (\n        <StyledContainer>\n            <Input\n                title=\"Номер телефона\"\n                value={inputValue}\n                shouldFocusInputOnMount\n                onChange={handleInputChange}\n                onSubmit={onInputSubmit}\n                onInputFocus={onInputFocus}\n            />\n            {isErrorLabelVisible ? <StyledLabel type=\"critical\" content=\"Неверно введен номер\" /> : null}\n        </StyledContainer>\n    );\n};\n","import React from 'react';\nimport { GuidePagePlasmaIcon, GuidePageRoot, GuidePageSource, GuidePageTitle } from 'components/GuidePage/GuidePage';\n\nexport const AddressFullAccommodationGuide = () => {\n    return (\n        <GuidePageRoot>\n            <GuidePagePlasmaIcon />\n            <GuidePageTitle>Нажмите кнопку на пульте и назовите</GuidePageTitle>\n            <GuidePageSource>квартиру, подъезд, этаж</GuidePageSource>\n        </GuidePageRoot>\n    );\n};\n","import React from 'react';\nimport { GuidePagePlasmaIcon, GuidePageRoot, GuidePageSource, GuidePageTitle } from 'components/GuidePage/GuidePage';\n\nexport const AddressFullPhoneGuide = () => {\n    return (\n        <GuidePageRoot>\n            <GuidePagePlasmaIcon />\n            <GuidePageTitle>Нажмите кнопку на пульте и назовите</GuidePageTitle>\n            <GuidePageSource>номер телефона</GuidePageSource>\n        </GuidePageRoot>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.3,\n  filter: \"url(#filter0_i)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M797.999 1250.05C1047.66 1250.05 1250.05 1047.66 1250.05 797.999C1250.05 548.341 1047.66 345.953 797.999 345.953C548.341 345.953 345.953 548.341 345.953 797.999C345.953 1047.66 548.341 1250.05 797.999 1250.05Z\",\n  fill: \"url(#paint0_linear)\",\n  fillOpacity: 0.1\n}));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.3,\n  filter: \"url(#filter1_i)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M797.997 1397.65C1129.18 1397.65 1397.65 1129.18 1397.65 797.999C1397.65 466.82 1129.18 198.346 797.997 198.346C466.818 198.346 198.344 466.82 198.344 797.999C198.344 1129.18 466.818 1397.65 797.997 1397.65Z\",\n  fill: \"url(#paint1_linear)\",\n  fillOpacity: 0.1\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.3,\n  filter: \"url(#filter2_i)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M798 1596C1238.72 1596 1596 1238.72 1596 798C1596 357.277 1238.72 0 798 0C357.277 0 0 357.277 0 798C0 1238.72 357.277 1596 798 1596Z\",\n  fill: \"url(#paint2_linear)\",\n  fillOpacity: 0.1\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.4,\n  filter: \"url(#filter3_f)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M894.299 940.713C964.826 940.713 1022 893.849 1022 836.04C1022 778.231 964.826 731.367 894.299 731.367C823.771 731.367 766.598 778.231 766.598 836.04C766.598 893.849 823.771 940.713 894.299 940.713Z\",\n  fill: \"#FF2E00\"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.4,\n  filter: \"url(#filter4_f)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M701.701 865.346C772.228 865.346 829.402 818.482 829.402 760.673C829.402 702.864 772.228 656 701.701 656C631.174 656 574 702.864 574 760.673C574 818.482 631.174 865.346 701.701 865.346Z\",\n  fill: \"#FF0D39\"\n}));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", {\n  filter: \"url(#filter5_bi)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 797.854,\n  cy: 796.914,\n  rx: 323.854,\n  ry: 328.914,\n  fill: \"white\",\n  fillOpacity: 0.03\n}));\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter0_i\",\n  x: 345.953,\n  y: 345.953,\n  width: 904.092,\n  height: 908.092,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\",\n  result: \"hardAlpha\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 4\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 2\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in2: \"hardAlpha\",\n  operator: \"arithmetic\",\n  k2: -1,\n  k3: 1\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.15 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"shape\",\n  result: \"effect1_innerShadow\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter1_i\",\n  x: 198.344,\n  y: 198.346,\n  width: 1199.31,\n  height: 1203.31,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\",\n  result: \"hardAlpha\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 4\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 2\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in2: \"hardAlpha\",\n  operator: \"arithmetic\",\n  k2: -1,\n  k3: 1\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.15 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"shape\",\n  result: \"effect1_innerShadow\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter2_i\",\n  x: 0,\n  y: 0,\n  width: 1596,\n  height: 1600,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\",\n  result: \"hardAlpha\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 4\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 2\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in2: \"hardAlpha\",\n  operator: \"arithmetic\",\n  k2: -1,\n  k3: 1\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.15 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"shape\",\n  result: \"effect1_innerShadow\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter3_f\",\n  x: 494.769,\n  y: 459.539,\n  width: 799.058,\n  height: 753.002,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 135.914,\n  result: \"effect1_foregroundBlur\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter4_f\",\n  x: 302.172,\n  y: 384.172,\n  width: 799.058,\n  height: 753.002,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"BackgroundImageFix\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 135.914,\n  result: \"effect1_foregroundBlur\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter5_bi\",\n  x: 374,\n  y: 368,\n  width: 847.708,\n  height: 857.829,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  in: \"BackgroundImage\",\n  stdDeviation: 50\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in2: \"SourceAlpha\",\n  operator: \"in\",\n  result: \"effect1_backgroundBlur\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect1_backgroundBlur\",\n  result: \"shape\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\",\n  result: \"hardAlpha\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 4\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 2\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in2: \"hardAlpha\",\n  operator: \"arithmetic\",\n  k2: -1,\n  k3: 1\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.15 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"shape\",\n  result: \"effect2_innerShadow\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint0_linear\",\n  x1: 797.999,\n  y1: 345.953,\n  x2: 797.999,\n  y2: 1250.05,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"white\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"white\",\n  stopOpacity: 0\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint1_linear\",\n  x1: 797.997,\n  y1: 198.346,\n  x2: 797.997,\n  y2: 1397.65,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"white\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"white\",\n  stopOpacity: 0\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint2_linear\",\n  x1: 798,\n  y1: 0,\n  x2: 798,\n  y2: 1596,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"white\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"white\",\n  stopOpacity: 0\n})));\n\nconst SvgCircles = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 1596,\n  height: 1596,\n  viewBox: \"0 0 1596 1596\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgCircles, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/circles.b00db56e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M186 138C186 134.686 188.686 132 192 132C195.314 132 198 134.686 198 138V210C198 213.314 195.314 216 192 216C188.686 216 186 213.314 186 210V138Z\",\n  fill: \"#D63333\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M183 237C183 232.029 187.029 228 192 228C196.971 228 201 232.029 201 237C201 241.971 196.971 246 192 246C187.029 246 183 241.971 183 237Z\",\n  fill: \"#D63333\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M192 306C254.96 306 306 254.96 306 192C306 129.04 254.96 78 192 78C129.04 78 78 129.04 78 192C78 254.96 129.04 306 192 306ZM192 318C261.588 318 318 261.588 318 192C318 122.412 261.588 66 192 66C122.412 66 66 122.412 66 192C66 261.588 122.412 318 192 318Z\",\n  fill: \"#D63333\"\n});\n\nconst SvgWarning = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 384,\n  height: 384,\n  viewBox: \"0 0 384 384\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgWarning, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/warning.4908c73c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { goBack } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { closeAppAction } from 'store/actions/app';\nimport {\n    DialogPage,\n    DialogTitle,\n    DialogButton,\n    DialogText,\n    FullscreenDecoration,\n} from 'components/DialogPage/DialogPage';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\n\nimport { ReactComponent as CirclesSvg } from './Error.assets/circles.svg';\nimport { ReactComponent as WarningSvg } from './Error.assets/warning.svg';\n\nconst StyledContainer = styled.div`\n    position: absolute;\n    top: -280px;\n    right: -266px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst Circles = styled(CirclesSvg)`\n    box-sizing: border-box;\n    width: 1596px;\n    height: 1596px;\n`;\n\nconst WarningIcon = styled(WarningSvg)`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n\n    width: 384px;\n    height: 384px;\n\n    transform: translate(-50%, -50%);\n`;\n\nexport const Error: React.FC = () => {\n    const { title, subtitle, retryButtonText, closeButtonText } = useSelector(({ errorPage }) => errorPage);\n\n    const dispatch = useDispatch();\n\n    const buttons = React.useMemo(\n        () => (\n            <>\n                {retryButtonText ? (\n                    <DialogButton\n                        shouldFocusOnMount\n                        onClick={() => {\n                            dispatch(goBack());\n                        }}\n                    >\n                        {retryButtonText}\n                    </DialogButton>\n                ) : null}\n                {closeButtonText ? (\n                    <DialogButton\n                        onClick={() => {\n                            dispatch(closeAppAction());\n                        }}\n                    >\n                        {closeButtonText}\n                    </DialogButton>\n                ) : null}\n            </>\n        ),\n        [retryButtonText, closeButtonText, dispatch],\n    );\n\n    const decorations = React.useMemo(\n        () => (\n            <FullscreenDecoration>\n                <StyledContainer>\n                    <Circles />\n                    <WarningIcon />\n                </StyledContainer>\n            </FullscreenDecoration>\n        ),\n        [],\n    );\n\n    return (\n        <DialogPage buttons={buttons} decorations={decorations}>\n            <DialogTitle>\n                <MultilineText text={title} />\n            </DialogTitle>\n            <DialogText>\n                <MultilineText text={subtitle} />\n            </DialogText>\n        </DialogPage>\n    );\n};\n","import React from 'react';\nimport { DialogPage, DialogTitle, FullscreenDecoration } from 'components/DialogPage/DialogPage';\nimport { SplendidAnimation } from 'components/SplendidAnimation/SplendidAnimation';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\nimport { layout } from 'style/const/layout';\n\nimport waitAnimationData from './Wait.assets/wait.animation.json';\n\nexport const Wait: React.FC = () => {\n    const decorations = React.useMemo(\n        () => (\n            <FullscreenDecoration>\n                <SplendidAnimation\n                    width={layout.widthPx}\n                    height={layout.heightPx}\n                    delayMs={0}\n                    config={{\n                        animationData: waitAnimationData,\n                    }}\n                />\n            </FullscreenDecoration>\n        ),\n        [],\n    );\n\n    return (\n        <DialogPage decorations={decorations}>\n            <DialogTitle>\n                <MultilineText text={'Оформляем\\n заказ'} />\n            </DialogTitle>\n        </DialogPage>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56C28.0184 56 28.0369 56 28.0553 55.9999H28V52C14.7452 52 4 41.2548 4 28C4 14.7452 14.7452 4 28 4V0Z\",\n  fill: \"url(#paint0_linear)\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M56 28C56 42.7914 44.5307 54.904 30.0003 55.9297C28.8985 56.0074 28 55.1046 28 54C28 52.8954 28.8986 52.0087 29.9994 51.9179C42.3187 50.9019 52 40.5815 52 28C52 14.7452 41.2548 4 28 4V0C43.464 0 56 12.536 56 28Z\",\n  fill: \"url(#paint1_linear)\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint0_linear\",\n  x1: 0,\n  y1: 56,\n  x2: 0,\n  y2: 0,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#20E79F\",\n  stopOpacity: 0\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.0476827,\n  stopColor: \"#20E79F\",\n  stopOpacity: 0\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.952483,\n  stopColor: \"#20E79F\",\n  stopOpacity: 0.5\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#20E79F\",\n  stopOpacity: 0.5\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint1_linear\",\n  x1: 28,\n  y1: 56,\n  x2: 28,\n  y2: 0,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#09A553\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.0476827,\n  stopColor: \"#38C96D\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.952483,\n  stopColor: \"#20E79F\",\n  stopOpacity: 0.5\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#20E79F\",\n  stopOpacity: 0.5\n})));\n\nconst SvgSpinner = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 56,\n  height: 56,\n  viewBox: \"0 0 56 56\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSpinner, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/spinner.ee0e70c4.svg\";\nexport { ForwardRef as ReactComponent };","import styled, { keyframes } from 'styled-components';\n\nimport { ReactComponent as SpinnerSvg } from './Spinner.assets/spinner.svg';\n\nconst spinnerSizePx = 112;\n\nconst spinnerAnimationDurationMs = 1000;\n\nexport const Spinner = styled(SpinnerSvg)`\n    width: ${spinnerSizePx}px;\n    height: ${spinnerSizePx}px;\n\n    animation-name: ${keyframes`\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    `};\n    animation-duration: ${spinnerAnimationDurationMs}ms;\n    animation-timing-function: linear;\n    animation-iteration-count: infinite;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { Spinner } from 'components/Spinner/Spinner';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\n\nconst StyledContainer = styled.div`\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n`;\n\nconst StyledText = styled(Body1)`\n    margin-top: 32px;\n\n    color: ${primary};\n`;\n\ninterface SpinnerPageProps {\n    text?: string;\n}\n\nexport const SpinnerPage: React.FC<SpinnerPageProps> = ({ text = '' }) => (\n    <StyledContainer>\n        <Spinner />\n        {text && (\n            <StyledText>\n                <MultilineText text={text} />\n            </StyledText>\n        )}\n    </StyledContainer>\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1127.92 725.073C1121.54 717.333 1132.52 706.793 1139.74 715.793C1139.24 702.793 1166.54 705.293 1157.94 721.053C1177.42 716.253 1157.78 761.213 1127.92 725.073Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1189.22 736.613C1170.38 731.033 1172.36 707.813 1189.04 709.013C1179.08 696.293 1200.32 680.013 1212.12 696.893C1223.08 681.973 1248.28 694.633 1238.48 715.613C1256.6 718.613 1246.74 745.253 1228.58 737.973C1207.56 729.553 1199.1 739.093 1189.22 736.613Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1484.96 714.013C1484.76 706.633 1496.64 697.833 1502.3 706.013C1502.88 688.053 1530.82 697.413 1519.66 716.493C1534.08 712.673 1532.88 741.573 1515.72 731.693C1516.52 742.093 1490.12 741.673 1491.08 730.993C1491.94 720.993 1485.12 720.653 1484.96 714.013Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1298.5 414.054C1297.95 400.055 1316.08 396.47 1326.2 402.352C1331.9 392.908 1348 388.947 1357.39 404.214C1365.7 394.16 1378.9 395.062 1386.79 402.253C1395.32 398.336 1410.04 402.137 1407.94 413.734C1419.32 403.072 1430.71 413.627 1430.12 424.772C1429.36 425.017 1428.62 425.318 1427.9 425.674C1422.08 428.543 1418 434.77 1418 441.951C1418 444.16 1419.79 445.951 1422 445.951C1424.21 445.951 1426 444.16 1426 441.951C1426 437.812 1428.36 434.369 1431.44 432.848C1431.88 432.633 1432.33 432.453 1432.81 432.314C1442.11 435.349 1449.22 445.976 1441.49 455.553C1456.5 451.897 1461.42 468.922 1453.81 477.058C1450.38 471.735 1445.08 467.637 1438.54 465.907C1425.41 462.437 1411.24 465.53 1400.2 475.048C1384.23 461.5 1360.71 461.501 1344.75 475.058C1328.79 461.503 1305.26 461.498 1289.3 475.049C1278.26 465.547 1264.09 462.438 1250.97 465.928L1250.97 465.929C1245.62 467.354 1241.09 470.359 1237.74 474.323C1229.31 462.484 1235.62 445.765 1251.85 447.854C1241.57 433.051 1261.68 416.527 1276.23 427.209C1269.73 414.344 1286.95 399.603 1298.5 414.054ZM1317.08 438.415C1314.58 433.892 1315.67 430.425 1317.88 428.211C1320.32 425.758 1324.36 424.62 1328.03 425.784C1330.13 426.453 1332.38 425.289 1333.05 423.184C1333.72 421.078 1332.56 418.829 1330.45 418.16C1323.86 416.064 1316.71 418.047 1312.21 422.564C1309.39 425.39 1307.68 429.133 1307.64 433.303C1306.37 433.038 1305.11 432.92 1303.87 432.945C1299.94 433.023 1296.5 434.52 1293.86 436.814C1288.72 441.28 1286.37 449.093 1289.67 455.829C1290.64 457.814 1293.03 458.636 1295.02 457.666C1297 456.696 1297.82 454.301 1296.85 452.316C1295.37 449.272 1296.32 445.275 1299.11 442.851C1300.43 441.699 1302.1 440.982 1304.02 440.943C1305.94 440.905 1308.39 441.541 1311.24 443.596C1312.76 444.692 1314.83 444.587 1316.23 443.345C1317.64 442.102 1317.99 440.054 1317.08 438.415ZM1377.15 438.219C1378.88 436.854 1379.19 434.339 1377.82 432.602C1376.46 430.865 1373.94 430.563 1372.2 431.928C1365.23 437.407 1365.77 446.166 1369.71 451.756C1371.72 454.602 1374.74 456.9 1378.45 457.797C1382.23 458.709 1386.39 458.091 1390.46 455.671C1392.36 454.541 1392.98 452.086 1391.85 450.188C1390.72 448.289 1388.27 447.666 1386.37 448.796C1383.92 450.255 1381.88 450.395 1380.33 450.02C1378.71 449.631 1377.27 448.597 1376.25 447.146C1374.13 444.141 1374.32 440.44 1377.15 438.219Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1403.09 483.297C1412.48 473.746 1425.04 470.614 1436.49 473.64L1436.49 473.64C1445.33 475.979 1451.08 484.707 1449.99 493.964L1409.79 733.233H1281.12L1239.51 493.97C1238.42 484.732 1244.18 476.017 1253.03 473.658C1264.47 470.617 1277.03 473.762 1286.45 483.32C1287.2 484.084 1288.22 484.514 1289.3 484.513C1290.37 484.513 1291.4 484.082 1292.15 483.318C1305.82 469.413 1328.21 469.41 1341.9 483.32C1342.66 484.084 1343.68 484.514 1344.76 484.513C1345.83 484.513 1346.86 484.082 1347.61 483.318C1361.28 469.413 1383.67 469.41 1397.36 483.32C1398.11 484.079 1399.13 484.509 1400.2 484.513C1401.26 484.518 1402.29 484.097 1403.04 483.344L1403.06 483.324L1403.09 483.297Z\",\n  fill: \"#00FF89\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1355.58 598C1355.67 604.517 1350.46 609.865 1343.94 609.94C1337.42 610.03 1332.08 604.817 1332 598.3\",\n  fill: \"#231F20\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1316.38 588.413C1320.75 588.413 1324.3 584.868 1324.3 580.493C1324.3 576.119 1320.75 572.573 1316.38 572.573C1312 572.573 1308.46 576.119 1308.46 580.493C1308.46 584.868 1312 588.413 1316.38 588.413Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1371.16 588.413C1375.53 588.413 1379.08 584.867 1379.08 580.493C1379.08 576.119 1375.53 572.573 1371.16 572.573C1366.78 572.573 1363.24 576.119 1363.24 580.493C1363.24 584.867 1366.78 588.413 1371.16 588.413Z\",\n  fill: \"#231F20\"\n});\n\nconst SvgPending = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 1920,\n  height: 1080,\n  viewBox: \"0 0 1920 1080\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgPending, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/pending.38d66d0b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1451.05 495.659C1446.85 495.859 1442.85 496.659 1439.85 498.059C1435.25 500.259 1433.25 503.659 1434.05 508.059C1434.25 508.859 1434.05 509.859 1433.65 510.459C1441.65 510.059 1448.25 503.259 1451.05 495.659Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1481.25 506.859C1474.05 500.259 1464.65 496.659 1456.05 495.859C1456.05 496.259 1456.25 496.859 1456.25 497.259C1458.05 508.659 1471.85 510.659 1481.25 506.859Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1534.25 506.259C1528.85 502.859 1523.65 500.459 1518.85 498.659C1523.45 503.459 1528.85 505.659 1534.25 506.259Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1573.45 501.859C1570.05 499.459 1566.45 497.459 1563.65 496.659C1559.45 495.459 1555.85 496.059 1553.25 498.059C1551.65 499.259 1550.25 501.259 1549.65 503.659C1550.25 503.459 1551.05 503.059 1551.65 502.659C1557.25 504.059 1564.45 503.859 1573.45 501.859Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1297.65 737.659H1417.85L1583.45 519.859C1584.05 517.259 1583.45 514.259 1581.85 511.259C1578.05 504.459 1569.45 498.659 1563.65 497.059C1559.45 495.859 1555.85 496.459 1553.25 498.459C1550.45 500.659 1548.85 504.459 1548.85 509.059C1548.85 510.259 1548.45 511.259 1547.45 512.059C1546.05 513.259 1543.85 513.459 1542.25 512.259C1521.25 496.259 1501.45 493.059 1493.65 498.059C1490.85 499.859 1490.05 502.459 1490.85 506.259C1491.25 508.059 1490.45 509.859 1488.85 510.659C1487.25 511.459 1485.25 511.059 1484.05 509.859C1471.85 496.259 1450.85 492.859 1439.85 498.259C1435.25 500.459 1433.25 503.859 1434.05 508.259C1434.45 510.059 1433.45 511.659 1432.05 512.459C1430.45 513.259 1428.65 512.859 1427.45 511.659C1420.85 505.059 1392.25 496.859 1377.65 500.659C1375.25 501.259 1373.65 502.659 1372.45 504.659C1370.25 508.259 1297.65 737.659 1297.65 737.659Z\",\n  fill: \"#00FF89\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1141.85 737.659C1138.05 731.059 1140.25 725.859 1147.05 725.859C1150.45 725.859 1154.45 727.259 1158.25 729.259C1157.25 728.059 1156.45 727.059 1155.65 725.859C1146.05 711.459 1150.05 699.659 1164.45 699.659C1170.25 699.659 1176.65 701.459 1183.05 704.659C1172.05 683.259 1179.85 666.659 1202.05 666.659C1221.85 666.659 1247.05 679.459 1264.65 697.259C1266.85 692.059 1272.25 688.859 1280.45 688.859C1297.85 688.859 1321.25 703.059 1332.85 720.459C1335.25 723.859 1336.85 727.259 1337.85 730.459C1338.65 730.259 1339.65 730.059 1340.85 730.059C1346.05 730.059 1352.65 733.259 1357.85 737.659H1141.85Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1466.25 585.059C1469.85 586.259 1475.25 583.459 1478.05 579.059C1480.85 574.659 1480.25 570.259 1476.65 569.059C1473.05 567.859 1467.65 570.659 1464.85 575.059C1462.05 579.659 1462.65 584.059 1466.25 585.059Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1509.05 585.059C1512.65 586.259 1518.05 583.459 1520.85 579.059C1523.65 574.659 1523.05 570.259 1519.45 569.059C1515.85 567.859 1510.45 570.659 1507.65 575.059C1504.85 579.659 1505.45 584.059 1509.05 585.059Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1471.45 600.459C1465.85 623.259 1488.85 612.259 1496.05 603.259\",\n  stroke: \"#231F20\",\n  strokeWidth: 8,\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1376.85 469.859C1358.85 467.459 1352.05 484.659 1372.85 493.659C1373.34 493.416 1373.82 493.248 1374.35 493.063L1374.35 493.063C1374.69 492.943 1375.06 492.816 1375.45 492.659C1386.45 489.659 1412.25 493.059 1426.65 501.059C1428.05 496.659 1431.25 493.059 1436.25 490.659C1440.85 488.459 1446.45 487.259 1452.65 487.459V487.059C1452.65 487.159 1452.7 487.209 1452.75 487.259C1452.8 487.309 1452.85 487.359 1452.85 487.459C1463.05 487.659 1474.25 491.059 1483.45 498.059C1484.45 495.259 1486.45 492.659 1489.25 490.859C1498.65 484.859 1518.65 485.859 1541.65 501.459C1542.85 497.459 1545.05 494.059 1548.25 491.659C1552.85 488.059 1559.05 487.059 1565.65 488.859C1570.05 490.059 1575.45 492.859 1580.25 497.059C1584.05 490.459 1580.05 479.459 1569.65 482.059C1587.25 442.259 1559.45 444.259 1549.85 445.659C1556.25 435.859 1545.25 421.259 1534.05 431.459C1514.02 401.498 1512.56 423.783 1512.3 427.894L1512.3 427.895C1512.28 428.174 1512.27 428.37 1512.25 428.459C1492.85 412.259 1481.85 412.259 1482.65 426.459C1465.05 411.859 1454.65 413.459 1451.45 420.859C1436.65 404.659 1416.85 407.259 1423.85 425.659C1400.05 411.659 1381.65 430.259 1393.05 442.459C1351.05 434.659 1333.85 462.059 1376.85 469.859ZM1540.25 452.259C1540.18 452.335 1540.13 452.411 1540.09 452.477C1540.02 452.582 1539.98 452.659 1539.85 452.659C1539.65 452.659 1539.45 452.459 1539.45 452.459C1539.65 452.459 1540.05 452.459 1540.25 452.259ZM1530.61 454.804C1531.45 458.718 1529.8 462.553 1526.59 465.573C1524.98 467.086 1522.45 467.008 1520.94 465.399C1519.42 463.789 1519.5 461.257 1521.11 459.744C1522.9 458.065 1522.88 456.925 1522.79 456.489C1522.67 455.937 1522.09 454.946 1520.31 454.198C1516.8 452.73 1509.61 452.901 1501.41 459.732C1499.72 461.146 1497.19 460.917 1495.78 459.22C1494.36 457.523 1494.59 455 1496.29 453.586C1506.09 445.417 1516.4 443.888 1523.4 446.82C1526.86 448.271 1529.79 451.006 1530.61 454.804ZM1445.87 457.579C1444.23 454.893 1443.32 452.822 1442.89 451.283C1442.44 449.727 1442.55 448.966 1442.63 448.715C1442.67 448.589 1442.69 448.546 1442.86 448.452C1443.15 448.301 1443.77 448.109 1444.85 448.109C1447.04 448.109 1450.02 448.89 1452.88 450.306C1455.79 451.742 1457.93 453.52 1458.88 455.011C1460.07 456.873 1462.54 457.419 1464.4 456.231C1466.27 455.042 1466.81 452.569 1465.62 450.707C1463.58 447.497 1460 444.9 1456.43 443.137C1452.83 441.353 1448.62 440.109 1444.85 440.109C1441.21 440.109 1436.46 441.42 1434.96 446.427C1434.34 448.521 1434.48 450.804 1435.09 453.122C1430.9 452.068 1427.25 451.617 1424.13 451.694C1419.03 451.821 1414.77 453.4 1412.28 456.737C1409.74 460.123 1409.79 464.284 1411.12 467.837C1412.44 471.389 1415.14 474.727 1418.71 477.303C1420.5 478.595 1423 478.191 1424.3 476.399C1425.59 474.607 1425.18 472.107 1423.39 470.815C1420.86 468.991 1419.29 466.854 1418.61 465.037C1417.93 463.221 1418.24 462.12 1418.68 461.531C1419.16 460.893 1420.58 459.785 1424.33 459.692C1428.05 459.6 1433.5 460.551 1441.04 463.4C1442.64 464.004 1444.44 463.528 1445.53 462.214C1446.62 460.9 1446.76 459.038 1445.87 457.579Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1310.1 444.716C1311.87 439.02 1304.41 431.639 1293.44 428.231C1282.47 424.822 1272.14 426.677 1270.37 432.373C1268.6 438.07 1276.06 445.451 1287.03 448.859C1298 452.267 1308.33 450.412 1310.1 444.716Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1372 412.04C1373.25 408.032 1367.93 402.816 1360.12 400.391C1352.32 397.966 1344.98 399.25 1343.74 403.258C1342.49 407.267 1347.81 412.482 1355.61 414.907C1363.42 417.332 1370.76 416.049 1372 412.04Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1240.64 405.375C1241.07 402.758 1237.78 400.052 1233.31 399.331C1228.84 398.609 1224.88 400.146 1224.45 402.763C1224.03 405.38 1227.31 408.086 1231.78 408.808C1236.26 409.529 1240.22 407.992 1240.64 405.375Z\",\n  fill: \"#F6F7F7\"\n});\n\nconst SvgDelivering = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 1920,\n  height: 1080,\n  viewBox: \"0 0 1920 1080\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgDelivering, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/delivering.62e69f4c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1137.92 725.073C1131.54 717.333 1142.52 706.793 1149.74 715.793C1149.24 702.793 1176.54 705.293 1167.94 721.053C1187.42 716.253 1167.78 761.213 1137.92 725.073Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1457.68 736.133C1430.62 746.933 1437.24 701.173 1462.8 714.993C1483.92 700.933 1501.58 752.033 1457.68 736.133Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1199.22 736.613C1180.38 731.033 1182.36 707.813 1199.04 709.013C1189.08 696.293 1210.32 680.013 1222.12 696.893C1233.08 681.973 1258.28 694.633 1248.48 715.613C1266.6 718.613 1256.74 745.253 1238.58 737.973C1217.56 729.553 1209.1 739.093 1199.22 736.613Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1494.96 714.013C1494.76 706.633 1506.64 697.833 1512.3 706.013C1512.88 688.053 1540.82 697.413 1529.66 716.493C1544.08 712.673 1542.88 741.573 1525.72 731.693C1526.52 742.093 1500.12 741.673 1501.08 730.993C1501.94 720.993 1495.12 720.653 1494.96 714.013Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1553.44 733.733C1545.52 729.913 1550.44 717.493 1559.46 722.033C1554.32 711.873 1576.96 703.893 1575.86 719.573C1599.34 717.813 1590.42 751.613 1553.44 733.733Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1308.49 414.054C1307.95 400.055 1326.08 396.47 1336.2 402.353C1341.9 392.908 1358 388.947 1367.39 404.214C1375.7 394.16 1388.9 395.062 1396.79 402.253C1405.32 398.336 1420.04 402.137 1417.94 413.734C1429.32 403.072 1440.71 413.628 1440.12 424.772C1439.36 425.017 1438.62 425.318 1437.9 425.674C1432.08 428.543 1428 434.77 1428 441.951C1428 444.16 1429.79 445.951 1432 445.951C1434.21 445.951 1436 444.16 1436 441.951C1436 437.812 1438.36 434.369 1441.44 432.848C1441.88 432.633 1442.33 432.453 1442.81 432.314C1452.11 435.349 1459.22 445.976 1451.49 455.553C1466.5 451.897 1471.42 468.923 1463.81 477.058C1460.38 471.735 1455.08 467.637 1448.54 465.907C1435.41 462.437 1421.24 465.53 1410.2 475.048C1394.23 461.5 1370.71 461.501 1354.75 475.058C1338.79 461.503 1315.26 461.498 1299.3 475.049C1288.26 465.547 1274.09 462.438 1260.97 465.928L1260.96 465.929C1255.62 467.354 1251.09 470.359 1247.74 474.322C1239.3 462.483 1245.62 445.765 1261.85 447.854C1251.57 433.051 1271.68 416.527 1286.23 427.208C1279.73 414.344 1296.95 399.604 1308.49 414.054ZM1327.08 438.415C1324.58 433.893 1325.67 430.425 1327.88 428.211C1330.32 425.758 1334.36 424.62 1338.03 425.785C1340.13 426.454 1342.38 425.289 1343.05 423.184C1343.72 421.078 1342.56 418.829 1340.45 418.16C1333.86 416.065 1326.71 418.047 1322.21 422.564C1319.39 425.39 1317.68 429.133 1317.64 433.303C1316.37 433.038 1315.11 432.92 1313.87 432.945C1309.94 433.023 1306.5 434.52 1303.86 436.814C1298.72 441.28 1296.37 449.093 1299.67 455.829C1300.64 457.814 1303.03 458.636 1305.02 457.666C1307 456.696 1307.82 454.301 1306.85 452.316C1305.37 449.272 1306.32 445.275 1309.11 442.851C1310.43 441.699 1312.1 440.982 1314.02 440.943C1315.94 440.905 1318.39 441.541 1321.24 443.596C1322.76 444.692 1324.83 444.587 1326.23 443.345C1327.64 442.102 1327.99 440.054 1327.08 438.415ZM1387.15 438.219C1388.88 436.854 1389.19 434.339 1387.82 432.602C1386.46 430.865 1383.94 430.563 1382.2 431.928C1375.23 437.407 1375.77 446.166 1379.71 451.756C1381.72 454.602 1384.74 456.9 1388.45 457.797C1392.23 458.709 1396.39 458.091 1400.46 455.671C1402.36 454.541 1402.98 452.086 1401.85 450.188C1400.72 448.289 1398.27 447.666 1396.37 448.796C1393.92 450.255 1391.88 450.395 1390.33 450.02C1388.71 449.631 1387.27 448.597 1386.25 447.146C1384.13 444.141 1384.32 440.44 1387.15 438.219Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1413.09 483.297C1422.48 473.746 1435.04 470.614 1446.49 473.64L1446.49 473.64C1455.33 475.979 1461.08 484.707 1459.99 493.964L1419.79 733.233H1291.12L1249.51 493.97C1248.42 484.732 1254.18 476.017 1263.03 473.658C1274.47 470.617 1287.03 473.762 1296.45 483.32C1297.2 484.084 1298.22 484.514 1299.3 484.513C1300.37 484.513 1301.4 484.082 1302.15 483.318C1315.82 469.413 1338.21 469.41 1351.9 483.32C1352.66 484.084 1353.68 484.514 1354.76 484.513C1355.83 484.513 1356.86 484.082 1357.61 483.318C1371.28 469.413 1393.67 469.41 1407.36 483.32C1408.11 484.079 1409.13 484.509 1410.2 484.513C1411.26 484.518 1412.29 484.097 1413.04 483.344L1413.06 483.324L1413.09 483.297Z\",\n  fill: \"#00FF89\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1326.38 588.413C1330.75 588.413 1334.3 584.867 1334.3 580.493C1334.3 576.119 1330.75 572.573 1326.38 572.573C1322 572.573 1318.46 576.119 1318.46 580.493C1318.46 584.867 1322 588.413 1326.38 588.413Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1381.16 588.413C1385.53 588.413 1389.08 584.867 1389.08 580.493C1389.08 576.119 1385.53 572.573 1381.16 572.573C1376.78 572.573 1373.24 576.119 1373.24 580.493C1373.24 584.867 1376.78 588.413 1381.16 588.413Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1334.5 599.113C1336.7 607.693 1344.5 614.033 1353.76 614.033C1363.04 614.033 1370.82 607.693 1373.04 599.113\",\n  stroke: \"#231F20\",\n  strokeWidth: 8,\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nconst SvgSuccess = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 1920,\n  height: 1080,\n  viewBox: \"0 0 1920 1080\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSuccess, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/success.9e79354f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M949.668 705.976C943.508 697.953 949.595 678.567 962.468 683.076C948.632 662.66 987.205 650.525 990.197 680.725C1003.14 664.854 1025.12 697.919 998.073 700.804C1007.34 711.688 977.7 732.528 970.138 719.929C963.081 708.1 955.244 713.217 949.668 705.976Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1364.03 707.62C1345.09 718.347 1374.89 736.487 1393.88 722.531C1398.3 729.367 1408.47 731.684 1417.25 726.81C1411.54 723.156 1407.55 717.047 1406.94 709.916C1405.8 696.657 1411.76 683.452 1423.97 675.044C1411.35 657.344 1415.69 632.763 1433.6 620.427C1423.97 606.917 1424.21 589.397 1432.84 576.374C1430.66 574.937 1427.99 574.191 1424.89 574.573C1429.49 549.727 1382.76 555.467 1398.86 577.174C1379.59 564.828 1370.09 602.04 1390.85 603.303C1391.35 603.334 1391.82 603.386 1392.26 603.459C1383.98 605.255 1380.08 615.349 1381.21 623.496C1372.61 623.389 1364.64 628.895 1361.67 636.789C1361.67 637.4 1361.54 638.02 1361.24 638.603C1361.12 638.856 1361 639.113 1360.9 639.374C1360.43 641.468 1360.31 643.691 1360.6 645.991C1360.91 647.091 1361.4 648.12 1362.05 649.01C1363.89 651.536 1367.15 653.158 1372.01 651.393C1373.77 650.753 1375.73 651.421 1376.74 652.999C1377.75 654.577 1377.53 656.643 1376.21 657.972C1373.73 660.463 1372.72 662.785 1372.46 664.683C1372.2 666.585 1372.65 668.35 1373.58 669.838C1375.53 672.971 1379.33 674.538 1382.57 673.544C1384.68 672.897 1386.92 674.084 1387.57 676.196C1388.22 678.308 1387.03 680.545 1384.92 681.193C1377.75 683.391 1370.4 679.851 1366.79 674.078C1364.94 671.114 1364 667.476 1364.54 663.589C1364.71 662.357 1365.02 661.128 1365.48 659.913C1361.37 659.221 1357.94 656.947 1355.59 653.724C1355.31 653.343 1355.05 652.949 1354.8 652.545C1336.76 658.867 1340.55 685.242 1358.06 684.663C1355.97 688.06 1354.97 692.105 1355.79 696.046C1356.33 700.961 1359.49 705.173 1364.03 707.62ZM1400.1 623.622C1399.02 621.693 1396.58 621.002 1394.65 622.078C1392.72 623.154 1392.03 625.591 1393.11 627.52C1397.43 635.264 1406.16 636.102 1412.3 633.084C1415.43 631.547 1418.17 628.927 1419.64 625.397C1421.13 621.808 1421.17 617.598 1419.42 613.202C1418.6 611.15 1416.27 610.151 1414.22 610.97C1412.17 611.788 1411.17 614.116 1411.99 616.167C1413.04 618.818 1412.86 620.852 1412.25 622.326C1411.61 623.86 1410.37 625.121 1408.77 625.905C1405.47 627.527 1401.85 626.763 1400.1 623.622Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1451.03 564.193C1443.26 553.289 1442.35 540.37 1447.32 529.62L1447.32 529.619C1451.16 521.326 1460.75 517.176 1469.68 519.851L1698.34 600.992L1675.99 727.709L1433.14 727.135C1423.85 726.609 1416.27 719.426 1415.48 710.302C1414.47 698.507 1419.75 686.678 1430.8 679.068C1431.68 678.459 1432.28 677.522 1432.47 676.467C1432.66 675.411 1432.41 674.325 1431.79 673.452C1420.47 657.573 1424.35 635.521 1440.43 624.451C1441.31 623.842 1441.91 622.905 1442.1 621.849C1442.29 620.794 1442.04 619.707 1441.42 618.834C1430.1 602.956 1433.98 580.904 1450.06 569.833C1450.94 569.229 1451.54 568.299 1451.73 567.25C1451.92 566.201 1451.68 565.12 1451.07 564.247L1451.05 564.224L1451.03 564.193Z\",\n  fill: \"#00FF89\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1539.56 666.162C1540.24 661.841 1537.29 657.785 1532.97 657.1C1528.65 656.416 1524.6 659.364 1523.91 663.684C1523.23 668.004 1526.18 672.061 1530.5 672.745C1534.82 673.43 1538.87 670.482 1539.56 666.162Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1548.13 612.056C1548.81 607.736 1545.86 603.679 1541.54 602.995C1537.22 602.311 1533.17 605.258 1532.48 609.578C1531.8 613.899 1534.75 617.956 1539.07 618.64C1543.39 619.324 1547.44 616.377 1548.13 612.056Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1572.16 624.084C1563.34 624.915 1555.86 631.627 1554.41 640.773C1552.96 649.939 1558.01 658.615 1566.13 662.149\",\n  stroke: \"#231F20\",\n  strokeWidth: 8,\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1119.92 721.631C1113.54 713.891 1124.52 703.351 1131.74 712.351C1131.24 699.351 1158.54 701.851 1149.94 717.611C1169.42 712.811 1149.78 757.771 1119.92 721.631Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1091.41 691.766C1064.35 702.566 1070.97 656.806 1096.53 670.626C1117.65 656.566 1135.31 707.666 1091.41 691.766Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1247.42 714.953C1228.58 709.373 1230.56 686.153 1247.24 687.353C1237.28 674.633 1258.52 658.353 1270.32 675.233C1281.28 660.313 1306.48 672.973 1296.68 693.953C1314.8 696.953 1304.94 723.593 1286.78 716.313C1265.76 707.893 1257.3 717.433 1247.42 714.953Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1028.69 717.608C1028.49 710.228 1040.37 701.428 1046.03 709.608C1046.61 691.648 1074.55 701.008 1063.39 720.088C1077.81 716.268 1076.61 745.168 1059.45 735.288C1060.25 745.688 1033.85 745.268 1034.81 734.588C1035.67 724.588 1028.85 724.248 1028.69 717.608Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1179.97 734.996C1172.05 731.176 1176.97 718.756 1185.99 723.296C1180.85 713.136 1203.49 705.156 1202.39 720.836C1225.87 719.076 1216.95 752.876 1179.97 734.996Z\",\n  fill: \"#F6F7F7\"\n});\n\nconst SvgFailed = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 1920,\n  height: 1080,\n  viewBox: \"0 0 1920 1080\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgFailed, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/failed.5acfa260.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { ROUTES } from 'store/constants/router';\nimport { mapOrderStatusToCategory, OrderStatus, OrderStatusCategory } from 'store/constants/orderStatus';\nimport {\n    DialogPage,\n    DialogTitle,\n    DialogButton,\n    FullscreenDecoration,\n    DialogText,\n} from 'components/DialogPage/DialogPage';\nimport { SpinnerPage } from 'components/SpinnerPage/SpinnerPage';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\nimport { ButtonViews } from 'components/Button/Button';\n\nimport { ReactComponent as PendingSvg } from './StatusSummary.assets/pending.svg';\nimport { ReactComponent as DeliveringSvg } from './StatusSummary.assets/delivering.svg';\nimport { ReactComponent as SuccessSvg } from './StatusSummary.assets/success.svg';\nimport { ReactComponent as FailedSvg } from './StatusSummary.assets/failed.svg';\n\nconst mapCategoryToBackground: Record<OrderStatusCategory, React.FunctionComponent<React.SVGProps<SVGSVGElement>>> = {\n    [OrderStatusCategory.PENDING]: PendingSvg,\n    [OrderStatusCategory.DELIVERING]: DeliveringSvg,\n    [OrderStatusCategory.SUCCESS]: SuccessSvg,\n    [OrderStatusCategory.FAILED]: FailedSvg,\n};\n\nconst mapOrderStatusToSummaryText: Record<OrderStatus, string[]> = {\n    [OrderStatus.INITIAL]: [''],\n    [OrderStatus.INVOICE_CREATED]: ['Заказ создан, но не оплачен'],\n    [OrderStatus.FUNDS_RESERVED]: ['Заказ создан и оплачен'],\n    [OrderStatus.CONFIRMED_BY_PARTNER]: ['Собираем заказ.\\n Курьер скоро направится к вам'],\n    [OrderStatus.DELIVERING]: ['Заказ в доставке.\\n Курьер скоро будет у вас'],\n    [OrderStatus.DELIVERED]: ['Заказ успешно доставлен'],\n    [OrderStatus.CANCEL_BY_PARTNER]: ['К сожалению,\\n заказ отменен'],\n    [OrderStatus.CANCEL_BY_CUSTOMER]: ['К сожалению,\\n заказ отменен'],\n    [OrderStatus.CANCEL_BY_PAYMENT]: ['К сожалению,\\n заказ отменен'],\n    [OrderStatus.PAID]: ['Заказ успешно доставлен'],\n    [OrderStatus.CANCELLED]: ['К сожалению,\\n заказ отменен'],\n    [OrderStatus.ERROR]: ['Ошибка обработки заказа'],\n};\n\nexport const StatusSummary: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const orderStatus = useSelector((state) => state.orderStatusData.orderStatus);\n\n    const [title, text] = React.useMemo(() => mapOrderStatusToSummaryText[orderStatus], [orderStatus]);\n    const orderStatusCategory = mapOrderStatusToCategory[orderStatus];\n\n    const isLoaded = orderStatus !== OrderStatus.INITIAL;\n    const isFailed = orderStatusCategory === OrderStatusCategory.FAILED;\n\n    const buttons: React.ReactNode = React.useMemo(() => {\n        const result = [\n            <DialogButton\n                shouldFocusOnMount={!isFailed}\n                key=\"dialog-button-details\"\n                onClick={() => {\n                    dispatch(push(ROUTES.STATUS_DETAILS));\n                }}\n            >\n                Детали заказа\n            </DialogButton>,\n            <DialogButton\n                shouldFocusOnMount={isFailed}\n                key=\"dialog-button-report\"\n                view={isFailed ? ButtonViews.primary : ButtonViews.secondary}\n                onClick={() => {\n                    dispatch(push(ROUTES.STATUS_REPORT));\n                }}\n            >\n                Связаться с нами\n            </DialogButton>,\n        ];\n\n        return isFailed ? result.reverse() : result;\n    }, [dispatch, isFailed]);\n\n    const decorations = React.useMemo(() => {\n        const BackgroundSvg = mapCategoryToBackground[orderStatusCategory];\n\n        return (\n            <FullscreenDecoration>\n                <BackgroundSvg />\n            </FullscreenDecoration>\n        );\n    }, [orderStatusCategory]);\n\n    if (!isLoaded) {\n        // TODO: Заменить на скелет https://sbtatlas.sigma.sbrf.ru/jira/browse/FOODTECHUI-243\n        return <SpinnerPage text=\"Обновляем статус заказа\" />;\n    }\n\n    return (\n        <DialogPage buttons={buttons} decorations={decorations}>\n            <DialogTitle>\n                <MultilineText text={title} />\n            </DialogTitle>\n            {text ? (\n                <DialogText>\n                    <MultilineText text={text} />\n                </DialogText>\n            ) : null}\n        </DialogPage>\n    );\n};\n","import React from 'react';\nimport { useSelector } from 'hooks/useSelector';\nimport { CartInfoPin, CartInfoContainer, CartPersonal, CartAddress } from 'components/Cart/CartInfo';\n\nexport const StatusDetailsInfo: React.FC = () => {\n    const { address } = useSelector(({ userData }) => userData);\n    const { phoneNumber, personalAddress } = useSelector(({ orderStatusDetailsPage }) => orderStatusDetailsPage);\n\n    return (\n        <CartInfoContainer>\n            <CartInfoPin />\n            <CartAddress>{address}</CartAddress>\n            <CartPersonal address={personalAddress} phone={phoneNumber} />\n        </CartInfoContainer>\n    );\n};\n","import React from 'react';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { statusDetailsSelectItemAction } from 'store/actions/statusDetailsPage';\nimport { LabelProps } from 'components/Label/Label';\nimport { CartListItemRoot, CartListItemThumb, CartListItemInfo } from 'components/Cart/CartListItem';\n\nexport interface CartListItemProps {\n    id: string;\n    index: number;\n    canFocus?: boolean;\n}\n\nexport interface StatusDetailsListItemViewProps {\n    productId: string;\n    imageUrl: string;\n    name: string;\n    disabled?: boolean;\n    price: number;\n    oldPrice?: number;\n    count: number;\n    label?: LabelProps;\n}\n\nexport const StatusDetailsListItem: React.FC<CartListItemProps> = ({ id, canFocus }) => {\n    const { imageUrl, name, price, oldPrice, label, count, disabled } = useSelector(\n        ({ orderStatusDetailsPage: { itemsMap } }) => itemsMap[id],\n    );\n    const dispatch = useDispatch();\n\n    const handleFocus = React.useCallback(() => dispatch(statusDetailsSelectItemAction(id)), [dispatch, id]);\n\n    return (\n        <CartListItemRoot tabIndex={canFocus ? 0 : undefined} disabled={disabled} onFocus={handleFocus}>\n            <CartListItemThumb imageUrl={imageUrl} />\n            <CartListItemInfo\n                disabled={disabled}\n                label={label}\n                name={name}\n                price={price}\n                oldPrice={oldPrice}\n                count={count}\n            />\n        </CartListItemRoot>\n    );\n};\n","import { createAction } from 'tools/create-action';\n\nexport const statusDetailsSelectItemAction = (payload: string) => createAction('statusDetails/SELECT_ITEM', payload);\n","import React from 'react';\nimport { useSelector } from 'hooks/useSelector';\nimport { CartListContainer, CartListScroller, CartTotalPrice } from 'components/Cart/CartList';\n\nimport { StatusDetailsListItem } from '../ListItem/StatusDetailsListItem';\n\nexport const StatusDetailsList: React.FC = () => {\n    const { order, wrapperYShift, topGradientVisible, bottomGradientVisible, totalPrice } = useSelector(\n        ({ orderStatusDetailsPage }) => orderStatusDetailsPage,\n    );\n\n    const itemList = React.useMemo(\n        () =>\n            order.map((itemId, index, list) => (\n                <StatusDetailsListItem\n                    key={itemId}\n                    canFocus={index > 0 && index < list.length - 2}\n                    index={index + 1}\n                    id={itemId}\n                />\n            )),\n        [order],\n    );\n\n    return (\n        <CartListContainer>\n            {order.length > 0 && (\n                <CartListScroller\n                    topGradientVisible={topGradientVisible}\n                    bottomGradientVisible={bottomGradientVisible}\n                    wrapperYShift={wrapperYShift}\n                >\n                    {itemList}\n                </CartListScroller>\n            )}\n            <CartTotalPrice>Сумма заказа {totalPrice} ₽</CartTotalPrice>\n        </CartListContainer>\n    );\n};\n","import React from 'react';\nimport { CartRoot, CartBackground } from 'components/Cart/Cart';\n\nimport { StatusDetailsInfo } from './Info/StatusDetailsInfo';\nimport { StatusDetailsList } from './List/StatusDetailsList';\n\nexport const StatusDetails: React.FC = () => (\n    <>\n        <CartRoot>\n            <StatusDetailsList />\n            <StatusDetailsInfo />\n        </CartRoot>\n        <CartBackground />\n    </>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Display3, Headline3 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { formatPhone } from 'tools/phoneNumber';\nimport { DialogPage } from 'components/DialogPage/DialogPage';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\n\nconst StyledText = styled(Headline3)`\n    margin-bottom: 48px;\n    color: ${primary};\n`;\n\nconst StyledPhone = styled(Display3)`\n    color: ${primary};\n`;\n\nexport const StatusReport: React.FC = () => {\n    const reportPhone = useSelector((state) => state.orderStatusData.reportPhone);\n\n    const phoneNumber = React.useMemo(() => formatPhone(reportPhone), [reportPhone]);\n\n    return (\n        <DialogPage>\n            <StyledText>\n                <MultilineText text={'Если что-то пошло не так,\\n позвоните нам по номеру'} />\n            </StyledText>\n            <StyledPhone>{phoneNumber}</StyledPhone>\n        </DialogPage>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1127.92 725.073C1121.54 717.333 1132.52 706.793 1139.74 715.793C1139.24 702.793 1166.54 705.293 1157.94 721.053C1177.42 716.253 1157.78 761.213 1127.92 725.073Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1189.22 736.613C1170.38 731.033 1172.36 707.813 1189.04 709.013C1179.08 696.293 1200.32 680.013 1212.12 696.893C1223.08 681.973 1248.28 694.633 1238.48 715.613C1256.6 718.613 1246.74 745.253 1228.58 737.973C1207.56 729.553 1199.1 739.093 1189.22 736.613Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1484.96 714.013C1484.76 706.633 1496.64 697.833 1502.3 706.013C1502.88 688.053 1530.82 697.413 1519.66 716.493C1534.08 712.673 1532.88 741.573 1515.72 731.693C1516.52 742.093 1490.12 741.673 1491.08 730.993C1491.94 720.993 1485.12 720.653 1484.96 714.013Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1298.5 414.054C1297.95 400.055 1316.08 396.47 1326.2 402.352C1331.9 392.908 1348 388.947 1357.39 404.214C1365.7 394.16 1378.9 395.062 1386.79 402.253C1395.32 398.336 1410.04 402.137 1407.94 413.734C1419.32 403.072 1430.71 413.627 1430.12 424.772C1429.36 425.017 1428.62 425.318 1427.9 425.674C1422.08 428.543 1418 434.77 1418 441.951C1418 444.16 1419.79 445.951 1422 445.951C1424.21 445.951 1426 444.16 1426 441.951C1426 437.812 1428.36 434.369 1431.44 432.848C1431.88 432.633 1432.33 432.453 1432.81 432.314C1442.11 435.349 1449.22 445.976 1441.49 455.553C1456.5 451.897 1461.42 468.922 1453.81 477.058C1450.38 471.735 1445.08 467.637 1438.54 465.907C1425.41 462.437 1411.24 465.53 1400.2 475.048C1384.23 461.5 1360.71 461.501 1344.75 475.058C1328.79 461.503 1305.26 461.498 1289.3 475.049C1278.26 465.547 1264.09 462.438 1250.97 465.928L1250.97 465.929C1245.62 467.354 1241.09 470.359 1237.74 474.323C1229.31 462.484 1235.62 445.765 1251.85 447.854C1241.57 433.051 1261.68 416.527 1276.23 427.209C1269.73 414.344 1286.95 399.603 1298.5 414.054ZM1317.08 438.415C1314.58 433.892 1315.67 430.425 1317.88 428.211C1320.32 425.758 1324.36 424.62 1328.03 425.784C1330.13 426.453 1332.38 425.289 1333.05 423.184C1333.72 421.078 1332.56 418.829 1330.45 418.16C1323.86 416.064 1316.71 418.047 1312.21 422.564C1309.39 425.39 1307.68 429.133 1307.64 433.303C1306.37 433.038 1305.11 432.92 1303.87 432.945C1299.94 433.023 1296.5 434.52 1293.86 436.814C1288.72 441.28 1286.37 449.093 1289.67 455.829C1290.64 457.814 1293.03 458.636 1295.02 457.666C1297 456.696 1297.82 454.301 1296.85 452.316C1295.37 449.272 1296.32 445.275 1299.11 442.851C1300.43 441.699 1302.1 440.982 1304.02 440.943C1305.94 440.905 1308.39 441.541 1311.24 443.596C1312.76 444.692 1314.83 444.587 1316.23 443.345C1317.64 442.102 1317.99 440.054 1317.08 438.415ZM1377.15 438.219C1378.88 436.854 1379.19 434.339 1377.82 432.602C1376.46 430.865 1373.94 430.563 1372.2 431.928C1365.23 437.407 1365.77 446.166 1369.71 451.756C1371.72 454.602 1374.74 456.9 1378.45 457.797C1382.23 458.709 1386.39 458.091 1390.46 455.671C1392.36 454.541 1392.98 452.086 1391.85 450.188C1390.72 448.289 1388.27 447.666 1386.37 448.796C1383.92 450.255 1381.88 450.395 1380.33 450.02C1378.71 449.631 1377.27 448.597 1376.25 447.146C1374.13 444.141 1374.32 440.44 1377.15 438.219Z\",\n  fill: \"#F6F7F7\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1403.09 483.297C1412.48 473.746 1425.04 470.614 1436.49 473.64L1436.49 473.64C1445.33 475.979 1451.08 484.707 1449.99 493.964L1409.79 733.233H1281.12L1239.51 493.97C1238.42 484.732 1244.18 476.017 1253.03 473.658C1264.47 470.617 1277.03 473.762 1286.45 483.32C1287.2 484.084 1288.22 484.514 1289.3 484.513C1290.37 484.513 1291.4 484.082 1292.15 483.318C1305.82 469.413 1328.21 469.41 1341.9 483.32C1342.66 484.084 1343.68 484.514 1344.76 484.513C1345.83 484.513 1346.86 484.082 1347.61 483.318C1361.28 469.413 1383.67 469.41 1397.36 483.32C1398.11 484.079 1399.13 484.509 1400.2 484.513C1401.26 484.518 1402.29 484.097 1403.04 483.344L1403.06 483.324L1403.09 483.297Z\",\n  fill: \"#00FF89\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1355.58 598C1355.67 604.517 1350.46 609.865 1343.94 609.94C1337.42 610.03 1332.08 604.817 1332 598.3\",\n  fill: \"#231F20\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1316.38 588.413C1320.75 588.413 1324.3 584.868 1324.3 580.493C1324.3 576.119 1320.75 572.573 1316.38 572.573C1312 572.573 1308.46 576.119 1308.46 580.493C1308.46 584.868 1312 588.413 1316.38 588.413Z\",\n  fill: \"#231F20\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1371.16 588.413C1375.53 588.413 1379.08 584.867 1379.08 580.493C1379.08 576.119 1375.53 572.573 1371.16 572.573C1366.78 572.573 1363.24 576.119 1363.24 580.493C1363.24 584.867 1366.78 588.413 1371.16 588.413Z\",\n  fill: \"#231F20\"\n});\n\nconst SvgEmpty = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 1920,\n  height: 1080,\n  viewBox: \"0 0 1920 1080\",\n  fill: \"none\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgEmpty, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/empty.38d66d0b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { closeAppAction } from 'store/actions/app';\nimport {\n    DialogPage,\n    DialogTitle,\n    DialogButton,\n    FullscreenDecoration,\n    DialogText,\n} from 'components/DialogPage/DialogPage';\nimport { MultilineText } from 'components/MultilineText/MultilineText';\nimport { ButtonViews } from 'components/Button/Button';\n\nimport { ReactComponent as EmptySvg } from './StatusEmpty.assets/empty.svg';\n\nexport const StatusEmpty: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const buttons = React.useMemo(\n        () => [\n            <DialogButton\n                shouldFocusOnMount\n                view={ButtonViews.secondary}\n                onClick={() => {\n                    dispatch(closeAppAction());\n                }}\n            >\n                Не сейчас\n            </DialogButton>,\n        ],\n        [dispatch],\n    );\n\n    const decorations = React.useMemo(\n        () => (\n            <FullscreenDecoration>\n                <EmptySvg />\n            </FullscreenDecoration>\n        ),\n        [],\n    );\n\n    return (\n        <DialogPage buttons={buttons} decorations={decorations}>\n            <DialogTitle>\n                <MultilineText text=\"Заказов пока нет\" />\n            </DialogTitle>\n            <DialogText>\n                <MultilineText text=\"Чтобы сделать заказ, скажите «Хочу попкорн»\" />\n            </DialogText>\n        </DialogPage>\n    );\n};\n","import React from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { Switch, Route } from 'react-router';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { history } from 'tools/history';\nimport { store } from 'store';\nimport { ROUTES } from 'store/constants/router';\nimport { AppLayout } from 'components/AppLayout/AppLayout';\nimport { Fonts } from 'components/Fonts/Fonts';\nimport { Catalog } from 'pages/Catalog/Catalog';\nimport { Cart } from 'pages/Cart/Cart';\nimport { Success } from 'pages/Success/Success';\nimport { Promo } from 'pages/Promo/Promo';\nimport { NoArea } from 'pages/NoArea/NoArea';\nimport { AddressSimple } from 'pages/AddressSimple/AddressSimple';\nimport { AddressSimpleGuide } from 'pages/AddressSimpleGuide/AddressSimpleGuide';\nimport { AddressSimpleQuestion } from 'pages/AddressSimpleQuestion/AddressSimpleQuestion';\nimport { AddressSimpleInput } from 'pages/AddressSimpleInput/AddressSimpleInput';\nimport { AddressFullAll } from 'pages/AddressFullAll/AddressFullAll';\nimport { AddressFullApartment } from 'pages/AddressFullApartment/AddressFullApartment';\nimport { AddressFullDoorCode } from 'pages/AddressFullDoorCode/AddressFullDoorCode';\nimport { AddressFullEntrance } from 'pages/AddressFullEntrance/AddressFullEntrance';\nimport { AddressFullFloor } from 'pages/AddressFullFloor/AddressFullFloor';\nimport { AddressFullPhone } from 'pages/AddressFullPhone/AddressFullPhone';\nimport { AddressFullAccommodationGuide } from 'pages/AddressFullAccommodationGuide/AddressFullAccommodationGuide';\nimport { AddressFullPhoneGuide } from 'pages/AddressFullPhoneGuide/AddressFullPhoneGuide';\nimport { Error } from 'pages/Error/Error';\nimport { Wait } from 'pages/Wait/Wait';\nimport { StatusSummary } from 'pages/StatusSummary/StatusSummary';\nimport { StatusDetails } from 'pages/StatusDetails/StatusDetails';\nimport { StatusReport } from 'pages/StatusReport/StatusReport';\nimport { StatusEmpty } from 'pages/StatusEmpty/StatusEmpty';\n\nconst GlobalStyle = createGlobalStyle`\n    body { /* stylelint-disable-line selector-nested-pattern */\n        margin: 0;\n    }\n\n    * { /* stylelint-disable-line selector-nested-pattern, selector-max-universal */\n        outline: none;\n    }\n`;\n\nconst StyledContainer = styled.div`\n    overflow: hidden;\n    width: 100%;\n    height: 100vh;\n    outline: none;\n    font-family: 'SB Sans Text', Helvetica, Arial, sans-serif;\n    background: transparent;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const RootDesktop: React.FC = () => (\n    <ReduxProvider store={store}>\n        <ConnectedRouter history={history}>\n            <GlobalStyle />\n            <Fonts />\n            <StyledContainer onScroll={preventScroll}>\n                <AppLayout>\n                    <Switch>\n                        <Route path={ROUTES.CATALOG}>\n                            <Catalog />\n                        </Route>\n                        <Route path={ROUTES.CART}>\n                            <Cart />\n                        </Route>\n                        <Route path={ROUTES.SUCCESS}>\n                            <Success />\n                        </Route>\n                        <Route path={ROUTES.STATUS_SUMMARY}>\n                            <StatusSummary />\n                        </Route>\n                        <Route path={ROUTES.STATUS_DETAILS}>\n                            <StatusDetails />\n                        </Route>\n                        <Route path={ROUTES.STATUS_REPORT}>\n                            <StatusReport />\n                        </Route>\n                        <Route path={ROUTES.STATUS_EMPTY}>\n                            <StatusEmpty />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE}>\n                            <AddressSimple />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE_GUIDE}>\n                            <AddressSimpleGuide />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE_QUESTION}>\n                            <AddressSimpleQuestion />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE_INPUT}>\n                            <AddressSimpleInput />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_FULL}>\n                            <Switch>\n                                <Route path={ROUTES.ADDRESS_FULL_ALL}>\n                                    <AddressFullAll />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_PHONE}>\n                                    <AddressFullPhone />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_APARTMENT}>\n                                    <AddressFullApartment />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_ENTRANCE}>\n                                    <AddressFullEntrance />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_FLOOR}>\n                                    <AddressFullFloor />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_DOOR_CODE}>\n                                    <AddressFullDoorCode />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_ACCOMMODATION_GUIDE}>\n                                    <AddressFullAccommodationGuide />\n                                </Route>\n                                <Route path={ROUTES.ADDRESS_FULL_PHONE_GUIDE}>\n                                    <AddressFullPhoneGuide />\n                                </Route>\n                            </Switch>\n                        </Route>\n                        <Route path={ROUTES.PROMO}>\n                            <Promo />\n                        </Route>\n                        <Route path={ROUTES.NO_AREA}>\n                            <NoArea />\n                        </Route>\n                        <Route path={ROUTES.ERROR}>\n                            <Error />\n                        </Route>\n                        <Route path={ROUTES.WAIT}>\n                            <Wait />\n                        </Route>\n                    </Switch>\n                </AppLayout>\n            </StyledContainer>\n        </ConnectedRouter>\n    </ReduxProvider>\n);\n","// TODO: FRNTND-1 mv to npm package\n\nconst widthPx = 1280;\nconst heightPx = 800;\nconst headerHeightPx = 144;\nconst footerHeightPx = 144;\nconst contentHeightPx = heightPx - headerHeightPx - footerHeightPx;\n\nexport const layout = {\n    widthPx,\n    heightPx,\n    headerHeightPx,\n    footerHeightPx,\n    contentHeightPx,\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { background, gradient } from '@sberdevices/plasma-tokens';\nimport { Header } from 'components/Header/Header';\nimport { Theme } from 'components/Theme/Theme';\nimport { layout } from 'style/const/layout@portal';\nimport { TransparentPixel } from 'components/TransparentPixel/TransparentPixel';\n\nconst StyledContainer = styled.div`\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    overflow: hidden;\n\n    background-color: ${background};\n    background-image: ${gradient};\n`;\n\nconst AppContent = styled.div`\n    position: relative;\n    z-index: 2;\n\n    height: ${layout.contentHeightPx}px;\n`;\n\nconst StyledHeader = styled(Header)`\n    z-index: 3;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const AppLayoutPortal: React.FC = ({ children }) => {\n    return (\n        <StyledContainer onScroll={preventScroll}>\n            <Theme />\n            <StyledHeader />\n            <TransparentPixel />\n            <AppContent>{children}</AppContent>\n        </StyledContainer>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { Switch } from 'react-router';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { history } from 'tools/history';\nimport { store } from 'store';\nimport { AppLayoutPortal } from 'components/AppLayout/AppLayout@portal';\n\nconst StyledContainer = styled.div`\n    overflow: hidden;\n    width: 100%;\n    height: 100vh;\n    outline: none;\n    font-family: 'SB Sans Text', Helvetica, Arial, sans-serif;\n    background: transparent;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const RootPortal: React.FC = () => (\n    <ReduxProvider store={store}>\n        <ConnectedRouter history={history}>\n            <StyledContainer onScroll={preventScroll}>\n                <AppLayoutPortal>\n                    <Switch>{/* TODO: Адаптация под портал */}</Switch>\n                </AppLayoutPortal>\n            </StyledContainer>\n        </ConnectedRouter>\n    </ReduxProvider>\n);\n","// TODO: FRNTND-1 mv to npm package\n\nconst headerHeightPx = 65;\n\nexport const layout = {\n    headerHeightPx,\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Button2 } from '@sberdevices/plasma-styles';\nimport { buttonSecondary, primary } from '@sberdevices/plasma-tokens';\nimport { transition } from 'style/const/transition';\nimport { icon } from 'style/const/icon';\nimport { focusBorderMixin } from 'style/mixin/focus';\n\nconst containerBorderRadiusPx = 24;\n\ninterface StyledHeaderButtonProps {\n    isVisible?: boolean;\n}\n\nconst StyledHeaderButton = styled.button<StyledHeaderButtonProps>`\n    position: relative;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    margin: 0 0 0 15px;\n\n    box-sizing: border-box;\n    height: 32px;\n    min-width: 32px;\n    padding: 0;\n    border: none;\n    border-radius: ${containerBorderRadiusPx}px;\n\n    background: transparent;\n\n    font-family: inherit;\n\n    transition: background-color ${transition.default};\n    will-change: background-color;\n\n    ${focusBorderMixin({ borderRadius: containerBorderRadiusPx })}\n\n    ${({ isVisible }) =>\n        !isVisible &&\n        css`\n            display: none;\n        `}\n\n    &:focus {\n        background: ${buttonSecondary};\n    }\n\n    &:first-of-type {\n        margin-left: 0;\n    }\n`;\n\nconst textHeightPx = icon.xs.sizePx;\n\nconst StyledText = styled(Button2)`\n    margin-left: 8px;\n\n    height: ${textHeightPx}px;\n    padding: 0 7px 0 1px;\n\n    line-height: ${textHeightPx}px;\n\n    color: ${primary};\n\n    opacity: 0.88;\n`;\n\ninterface HeaderButtonProps {\n    text?: string;\n    isVisible?: boolean;\n    onClick?: () => void;\n}\n\nexport const HeaderButtonTouch: React.FC<HeaderButtonProps> = ({ text, isVisible, onClick: handleClick, children }) => {\n    return (\n        <StyledHeaderButton tabIndex={0} onClick={handleClick} isVisible={isVisible} type=\"button\">\n            {children}\n            {text ? <StyledText>{text}</StyledText> : null}\n        </StyledHeaderButton>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButtonTouch } from 'components/HeaderButton/HeaderButton@touch';\nimport { icon } from 'style/const/icon';\n\nimport { ReactComponent as AddressSvg } from './address.svg';\n\nconst addressIconSizePx = icon.xs.sizePx;\n\nconst StyledIcon = styled(AddressSvg)`\n    width: ${addressIconSizePx}px;\n    height: ${addressIconSizePx}px;\n`;\n\nexport const HeaderAddressTouch: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const { isVisible } = useSelector((state) => selectHeader(state).address);\n\n    const handleClick = React.useCallback(() => dispatch(push(ROUTES.ADDRESS_SIMPLE)), [dispatch]);\n\n    return (\n        <HeaderButtonTouch isVisible={isVisible} onClick={handleClick}>\n            <StyledIcon />\n        </HeaderButtonTouch>\n    );\n};\n","import React from 'react';\nimport { push } from 'connected-react-router';\nimport styled from 'styled-components';\nimport { Underline } from '@sberdevices/plasma-styles';\nimport { buttonAccent, primary } from '@sberdevices/plasma-tokens';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { ROUTES } from 'store/constants/router';\nimport { HeaderButtonTouch } from 'components/HeaderButton/HeaderButton@touch';\nimport { icon } from 'style/const/icon';\n\nimport { ReactComponent as CartIcon } from './HeaderCart.assets/cart.svg';\n\nconst cartIconSizePx = icon.xs.sizePx;\n\nconst StyledCart = styled.div`\n    position: relative;\n`;\n\nconst StyledIcon = styled(CartIcon)`\n    width: ${cartIconSizePx}px;\n    height: ${cartIconSizePx}px;\n`;\n\nconst badgeSizePx = 16;\nconst badgeOffsetPx = cartIconSizePx / 2;\n\nconst StyledBadge = styled(Underline)`\n    position: absolute;\n    left: ${badgeOffsetPx}px;\n    bottom: ${badgeOffsetPx}px;\n\n    width: ${badgeSizePx}px;\n    height: ${badgeSizePx}px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    box-sizing: border-box;\n\n    color: ${primary};\n    background: ${buttonAccent};\n`;\n\nexport const HeaderCartTouch: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const { count, price, isVisible } = useSelector((state) => selectHeader(state).cart);\n\n    const handleClick = React.useCallback(() => {\n        dispatch(push(ROUTES.CART));\n    }, [dispatch]);\n\n    const text = `${price} ₽`;\n\n    return (\n        <HeaderButtonTouch isVisible={isVisible} onClick={handleClick} text={text}>\n            <StyledCart>\n                <StyledIcon />\n                <StyledBadge>{count}</StyledBadge>\n            </StyledCart>\n        </HeaderButtonTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body2 } from '@sberdevices/plasma-styles';\nimport { primary } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { selectHeader } from 'store/selectors';\nimport { icon } from 'style/const/icon';\nimport { layout } from 'style/const/layout@touch';\nimport { transition } from 'style/const/transition';\n\nimport { HeaderAddressTouch } from '../HeaderAddress/HeaderAddress@touch';\nimport { HeaderCartTouch } from '../HeaderCart/HeaderCart@touch';\n\nimport { ReactComponent as ChevronLeftSvg } from './Header.assets/chevron-left.svg';\nimport { ReactComponent as LogoSvg } from './Header.assets/logo.svg';\n\ninterface StyledHeaderProps {\n    isVisible: boolean;\n}\n\nconst StyledHeader = styled.div<StyledHeaderProps>`\n    --spatial-navigation-contain: contain;\n\n    position: relative;\n\n    height: ${layout.headerHeightPx}px;\n\n    box-sizing: border-box;\n    padding: 14px 13px 9px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    opacity: ${({ isVisible }) => Number(isVisible)};\n\n    transition: opacity ${transition.default};\n\n    z-index: 2;\n`;\n\nconst backButtonIconSizePx = icon.xs.sizePx;\n\nconst StyledBackButton = styled.span`\n    width: 32px;\n    height: 32px;\n    margin-right: 9px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledChevronLeft = styled(ChevronLeftSvg)`\n    width: ${backButtonIconSizePx}px;\n    height: ${backButtonIconSizePx}px;\n`;\n\nconst StyledSection = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst StyledLogo = styled(LogoSvg)`\n    margin-left: 3px;\n\n    width: 28px;\n    height: 28px;\n    border-radius: 8px;\n`;\n\nconst StyledTitle = styled(Body2)`\n    margin-left: 10px;\n\n    display: inline-block;\n\n    color: ${primary};\n`;\n\n// eslint-disable-next-line  @typescript-eslint/no-unused-vars\nexport const HeaderTouch: React.FC = ({ children, ...props }) => {\n    const { title, isBackButtonVisible, isVisible } = useSelector(selectHeader);\n\n    return (\n        <StyledHeader isVisible={isVisible} {...props}>\n            <StyledSection>\n                {isBackButtonVisible && (\n                    <StyledBackButton>\n                        <StyledChevronLeft />\n                    </StyledBackButton>\n                )}\n                <StyledLogo />\n                <StyledTitle>{title}</StyledTitle>\n            </StyledSection>\n            <StyledSection>\n                <HeaderAddressTouch />\n                <HeaderCartTouch />\n            </StyledSection>\n        </StyledHeader>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { background } from '@sberdevices/plasma-tokens';\nimport Typo from '@sberdevices/plasma-styles/components/Typo';\nimport { HeaderTouch } from 'components/Header/Header@touch';\nimport { layout } from 'style/const/layout@touch';\nimport { Theme } from 'components/Theme/Theme';\nimport { TransparentPixel } from 'components/TransparentPixel/TransparentPixel';\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: stretch;\n    align-content: stretch;\n\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    background-color: ${background};\n`;\n\nconst AppContent = styled.div`\n    position: absolute;\n    top: ${layout.headerHeightPx}px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n`;\n\nexport const AppLayoutTouch: React.FC = ({ children }) => {\n    return (\n        <Container>\n            <Theme />\n            <Typo />\n            <TransparentPixel />\n            <HeaderTouch />\n            <AppContent>{children}</AppContent>\n        </Container>\n    );\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Footnote1, Footnote2 } from '@sberdevices/plasma-styles';\nimport { critical, primary, secondary, surfaceLiquid01 } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { addItemAction, removeItemAction } from 'store/actions/native';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { ReactComponent as AddSvg } from 'assets/icons/add.svg';\nimport { ReactComponent as RemoveSvg } from 'assets/icons/remove.svg';\n\nconst StyledCartListItemTouch = styled.div`\n    position: relative;\n    padding: 10px 16px;\n    margin-bottom: 4px;\n\n    display: flex;\n`;\n\nconst thumbSizePx = 40;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\n\nconst StyledThumb = styled.div<StyledThumbProps>`\n    position: relative;\n\n    margin-right: 10px;\n\n    height: ${thumbSizePx}px;\n    width: ${thumbSizePx}px;\n\n    background-image: url('${({ imageUrl }) => imageUrl}');\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n`;\n\nconst StyledInfo = styled.div`\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    justify-content: center;\n`;\n\nconst StyledName = styled(Footnote1)`\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n\n    color: ${primary};\n`;\n\nconst StyledPrice = styled(Footnote1)`\n    margin-top: 2px;\n\n    color: ${secondary};\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: -4px;\n    right: -4px;\n`;\n\nconst StyledSelector = styled.div`\n    flex-shrink: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    margin-left: 16px;\n\n    min-width: 90px;\n`;\n\ninterface StyledCountTouchButtonProps {\n    isDanger?: boolean;\n}\n\nconst StyledCountTouchButton = styled.div<StyledCountTouchButtonProps>`\n    cursor: pointer;\n    background-color: ${surfaceLiquid01};\n    border-radius: 8px;\n    display: flex;\n    width: 32px;\n    height: 32px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 14px;\n\n    ${({ isDanger }) =>\n        isDanger &&\n        css`\n            background-color: ${critical};\n        `}\n`;\n\nconst StyledAddIcon = styled(AddSvg)`\n    height: 12px;\n    width: 12px;\n`;\n\nconst StyledLessIcon = styled(RemoveSvg)`\n    height: 12px;\n    width: 12px;\n`;\n\nconst StyledRemoveIcon = styled(AddSvg)`\n    transform: rotate(45deg);\n    height: 15px;\n    width: 15px;\n`;\n\nconst StyledCount = styled(Footnote2)`\n    color: ${primary};\n`;\n\nexport interface CartListItemTouchProps {\n    id: string;\n    index: number;\n}\n\nexport interface CartListItemTouchViewProps {\n    imageUrl: string;\n    name: string;\n    price: number;\n    count: number;\n    disabled?: boolean;\n    isMoreButtonDisabled?: boolean;\n}\n\nexport const CartListItemTouch: React.FC<CartListItemTouchProps> = ({ index, id }) => {\n    const { imageUrl, name, price, count, disabled } = useSelector(({ cartPageTouch: { itemsMap } }) => itemsMap[id]);\n\n    const dispatch = useDispatch();\n\n    const handleLessClick = React.useCallback(() => {\n        dispatch(\n            removeItemAction({\n                item: id,\n                count: '1',\n                shouldRemoveMention: !count,\n            }),\n        );\n    }, [dispatch, id, count]);\n\n    const handleMoreClick = React.useCallback(() => {\n        dispatch(\n            addItemAction({\n                item: id,\n                count: '1',\n            }),\n        );\n    }, [dispatch, id]);\n\n    return (\n        <StyledCartListItemTouch>\n            <StyledThumb imageUrl={imageUrl}>\n                <StyledIndexBadge size=\"xxs\" index={index + 1} />\n            </StyledThumb>\n            <StyledInfo>\n                <StyledName>{name}</StyledName>\n                <StyledPrice>{price} ₽</StyledPrice>\n            </StyledInfo>\n            {disabled ? null : (\n                <StyledSelector>\n                    <StyledCountTouchButton isDanger={!count} onClick={handleLessClick}>\n                        {count ? <StyledLessIcon /> : <StyledRemoveIcon />}\n                    </StyledCountTouchButton>\n                    <StyledCount>{count}</StyledCount>\n                    <StyledCountTouchButton onClick={handleMoreClick}>\n                        <StyledAddIcon />\n                    </StyledCountTouchButton>\n                </StyledSelector>\n            )}\n        </StyledCartListItemTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1, Body2 } from '@sberdevices/plasma-styles';\nimport { accent, primary, warning } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\n\nimport { CartListItemTouch } from '../ListItem/CartListItem@touch';\n\nconst StyledCartListTouch = styled.div`\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    margin-top: 17px;\n`;\n\nconst StyledContainer = styled.div`\n    height: 190px;\n    margin-bottom: 24px;\n`;\n\nconst StyledTotalPrice = styled(Body2)`\n    padding-left: 16px;\n\n    color: ${primary};\n`;\n\nconst StyledPrice = styled.span`\n    color: ${accent};\n`;\n\nconst StyledMinimalPrice = styled(Body1)`\n    margin-top: 8px;\n\n    padding-left: 16px;\n\n    color: ${warning};\n`;\n\nexport const CartListTouch: React.FC = () => {\n    const { order, totalPrice, toMinimumPrice } = useSelector(({ cartPageTouch }) => cartPageTouch);\n\n    return (\n        <StyledCartListTouch>\n            {order.length > 0 && (\n                <StyledContainer>\n                    {order.map((itemId, index) => (\n                        <CartListItemTouch key={itemId} id={itemId} index={index} />\n                    ))}\n                </StyledContainer>\n            )}\n            <StyledTotalPrice>\n                Сумма к оплате\n                <StyledPrice> {totalPrice} ₽</StyledPrice>\n            </StyledTotalPrice>\n            {Boolean(toMinimumPrice) && (\n                <StyledMinimalPrice>До минимального заказа еще {toMinimumPrice} ₽</StyledMinimalPrice>\n            )}\n        </StyledCartListTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as SadFaceSvg } from './Pin.assets/sad-face.svg';\nimport { ReactComponent as ShadowSvg } from './Pin.assets/shadow.svg';\nimport { ReactComponent as HappyFaceSvg } from './Pin.assets/happy-face.svg';\n\nconst badgeHeightPx = 43;\n\nexport const SadFaceIcon = styled(SadFaceSvg)`\n    display: block;\n    height: 42px;\n    flex: 0 0 42px;\n    margin: 0 -10px;\n    max-width: 42px;\n`;\n\nexport const HappyFaceIcon = styled(HappyFaceSvg)`\n    display: block;\n    height: 42px;\n    flex: 0 0 42px;\n    margin: 0 -10px;\n    max-width: 42px;\n`;\n\nconst StyledBody = styled.div`\n    position: relative;\n\n    height: ${badgeHeightPx}px;\n    min-width: ${badgeHeightPx}px;\n    padding: 6px;\n    border-radius: ${badgeHeightPx / 2}px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    text-align: center;\n`;\n\nconst kernelWidthPx = 2;\nconst kernelBorderRadiusPx = kernelWidthPx / 2;\n\nconst StyledKernelTop = styled.div`\n    position: relative;\n    display: flex;\n\n    height: 10px;\n    width: ${kernelWidthPx}px;\n\n    border-radius: ${kernelBorderRadiusPx}px;\n\n    margin-bottom: -4px;\n    margin-top: -2px;\n`;\n\nconst StyledKernelBottom = styled.div`\n    height: 15px;\n    position: relative;\n    width: ${kernelWidthPx}px;\n\n    border-radius: ${kernelBorderRadiusPx}px;\n`;\n\nconst StyledShadow = styled(ShadowSvg)`\n    display: block;\n    margin-top: -3px;\n\n    width: 37px;\n    height: 8px;\n`;\n\nconst StyledPin = styled.div<PinInterface>`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & ${StyledBody}, ${StyledKernelBottom}, ${StyledKernelTop} {\n        background-color: ${({ pinColor }) => pinColor};\n    }\n`;\n\nexport interface PinInterface {\n    className?: string;\n    pinColor: string;\n}\nexport const Pin: React.FC<PinInterface> = ({ className, pinColor, children }) => {\n    return (\n        <StyledPin pinColor={pinColor} className={className}>\n            <StyledBody>{children}</StyledBody>\n            <StyledKernelTop />\n            <StyledKernelBottom />\n            <StyledShadow />\n        </StyledPin>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1, Caption, Headline4, ParagraphText2 } from '@sberdevices/plasma-styles';\nimport { fontWeights, primary, secondary, critical } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { Pin } from 'components/Pin/Pin@touch';\n\nimport bgImage from '../Cart.assets/bg@touch.jpg';\n\nconst StyledBackground = styled.div`\n    position: absolute;\n    top: -65px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    background-image: url('${bgImage}');\n\n    opacity: 0.6;\n`;\n\nconst StyledCartInfoTouch = styled.div`\n    position: relative;\n\n    height: 236px;\n\n    padding: 15px 16px 0;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    &::before {\n        content: '';\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        height: 96px;\n        background: linear-gradient(360deg, #080808 0%, rgba(8, 8, 8, 0) 100%);\n\n        z-index: 1;\n\n        pointer-events: none;\n    }\n`;\n\nconst StyledPlaceInfo = styled.div`\n    position: relative;\n    z-index: 1;\n`;\n\nconst StyledTime = styled(ParagraphText2)`\n    font-weight: ${fontWeights.Semibold};\n    color: ${primary};\n`;\n\nconst StyledUnit = styled(Caption)`\n    margin-top: -4px;\n\n    color: ${primary};\n`;\n\nconst StyledAddress = styled(Headline4)`\n    margin-top: 14px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    -webkit-line-clamp: 2;\n\n    color: ${primary};\n    text-align: center;\n`;\n\nconst StyledPersonal = styled(Body1)`\n    margin-top: 6px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n`;\n\nconst StyledPersonalLocation = styled(Body1)`\n    -webkit-line-clamp: 2;\n\n    color: ${secondary};\n`;\n\nexport const CartInfoTouch: React.FC = () => {\n    const { address } = useSelector(({ userData }) => userData);\n    const { deliveryTime, hasRequiredData, personalAddress } = useSelector(({ cartPageTouch }) => cartPageTouch);\n\n    return (\n        <StyledCartInfoTouch>\n            <StyledPlaceInfo>\n                <Pin pinColor={critical}>\n                    <StyledTime>{deliveryTime}</StyledTime>\n                    <StyledUnit>мин</StyledUnit>\n                </Pin>\n                <StyledAddress>{address}</StyledAddress>\n                {hasRequiredData ? (\n                    <StyledPersonal>\n                        <StyledPersonalLocation>{personalAddress}</StyledPersonalLocation>\n                    </StyledPersonal>\n                ) : null}\n            </StyledPlaceInfo>\n            <StyledBackground />\n        </StyledCartInfoTouch>\n    );\n};\n","import React from 'react';\n\nimport { CartListTouch } from './List/CartList@touch';\nimport { CartInfoTouch } from './Info/CartInfo@touch';\n\nexport const CartTouch: React.FC = () => {\n    return (\n        <>\n            <CartInfoTouch />\n            <CartListTouch />\n        </>\n    );\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useFocusOnMount } from 'hooks/useFocusOnMount';\nimport { transition } from 'style/const/transition';\nimport { accent, critical, fontWeights, surfaceLiquid01, tertiary } from '@sberdevices/plasma-tokens';\n\ninterface StyledTitleProps {\n    isMinified?: boolean;\n    isFocused?: boolean;\n    isInvalid?: boolean;\n}\nconst StyledTitle = styled.div<StyledTitleProps>`\n    position: absolute;\n    left: 16px;\n    top: 18px;\n\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 20px;\n    letter-spacing: -0.3px;\n\n    color: ${({ isInvalid, isFocused }) => {\n        if (isInvalid) {\n            return critical;\n        }\n\n        if (isFocused) {\n            return accent;\n        }\n\n        return tertiary;\n    }};\n\n    transition: font-size 0.2s ease-in-out, top 0.2s ease-in-out, color 0.2s ease-in-out;\n\n    ${({ isMinified }) =>\n        isMinified &&\n        css`\n            top: 6px;\n            font-size: 12px;\n            line-height: 16px;\n        `};\n`;\n\ninterface StyledInputProps {\n    disabled?: boolean;\n    $isEmpty: boolean;\n}\nconst StyledInput = styled.input<StyledInputProps>`\n    margin-top: ${({ $isEmpty }) => ($isEmpty ? 4 : 12)}px; // 4 12\n    height: 40px;\n    width: 100%;\n    font-family: inherit;\n    font-weight: ${fontWeights.Medium};\n    font-size: 16px;\n    color: ${({ disabled }) => (disabled ? 'rgba(255, 255, 255, 0.28)' : '#fff')};\n    caret-color: ${accent};\n    line-height: 20px;\n    letter-spacing: -0.3px;\n    padding: 0;\n    border: none;\n    background: transparent;\n`;\n\nconst StyledWrapper = styled.div`\n    position: relative;\n    box-sizing: border-box;\n    height: 64px;\n    padding: 4px 16px;\n    background-color: ${surfaceLiquid01};\n`;\n\ninterface StyledRootProps {\n    isFocused?: boolean;\n}\nconst StyledRoot = styled.div<StyledRootProps>`\n    margin: -4px;\n    height: 64px;\n    box-sizing: border-box;\n    border: 4px solid transparent;\n    border-radius: 16px;\n\n    overflow: hidden;\n\n    transition: border ${transition.default};\n`;\n\ninterface InputProps {\n    title: string;\n    value: string;\n    className?: string;\n    type?: string;\n    disabled?: boolean;\n    isInvalid?: boolean;\n    onSubmit?: (event: React.SyntheticEvent<HTMLInputElement>) => void;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    onRootKeyPress?: (event: React.KeyboardEvent<HTMLInputElement>) => void;\n    forwardRef?: React.RefObject<HTMLDivElement>;\n    forwardInputRef?: React.RefObject<HTMLInputElement>;\n    shouldFocusOnMount?: boolean;\n    shouldFocusInputOnMount?: boolean;\n}\n\nexport const Input: React.FC<InputProps> = ({\n    title,\n    value,\n    className,\n    type = 'text',\n    disabled,\n    isInvalid,\n    onSubmit,\n    onChange,\n    onRootKeyPress,\n    forwardRef,\n    forwardInputRef,\n    shouldFocusOnMount,\n    shouldFocusInputOnMount,\n}) => {\n    const [isFocused, setFocus] = React.useState(false);\n    const [isUsing, setUsing] = React.useState(false);\n    const inputRootRef = React.useRef<HTMLInputElement>(null);\n    const inputRef = forwardInputRef || inputRootRef;\n    const onMountRootRef = useFocusOnMount<HTMLDivElement>(forwardRef);\n    const rootRef = shouldFocusOnMount ? onMountRootRef : forwardRef;\n    const handleRootFocus = React.useCallback(() => setFocus(true), [setFocus]);\n    const handleRootBlur = React.useCallback(() => {\n        setFocus(false);\n        setUsing(false);\n    }, [setFocus, setUsing]);\n    const handleRootKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            if (inputRef && inputRef.current) {\n                if (onRootKeyPress) {\n                    onRootKeyPress(e);\n                }\n\n                if (!e.defaultPrevented) {\n                    inputRef.current.focus();\n                    setUsing(true);\n                }\n            }\n        },\n        [onRootKeyPress, setUsing, inputRef],\n    );\n    const handleInputKeyPress = React.useCallback(\n        (event: React.KeyboardEvent<HTMLInputElement>) => {\n            if (onSubmit && event && event.key === 'Enter') {\n                event.stopPropagation();\n                onSubmit(event);\n            }\n        },\n        [onSubmit],\n    );\n\n    React.useEffect(() => {\n        if (shouldFocusInputOnMount && inputRef && inputRef.current) {\n            inputRef.current.focus();\n            setUsing(true);\n        }\n    }, [shouldFocusInputOnMount, inputRef, setUsing]);\n\n    const isTitleMinified = isUsing || Boolean(value);\n    const isEmptyValue = !value.length;\n\n    return (\n        <StyledRoot\n            tabIndex={disabled ? -1 : 0}\n            className={className}\n            ref={rootRef}\n            isFocused={isFocused}\n            onFocus={handleRootFocus}\n            onBlur={handleRootBlur}\n            onKeyPress={handleRootKeyPress}\n        >\n            <StyledWrapper>\n                <StyledTitle isMinified={isTitleMinified} isFocused={isFocused} isInvalid={isInvalid}>\n                    {title}\n                </StyledTitle>\n                <StyledInput\n                    tabIndex={-1}\n                    ref={inputRef}\n                    type={type}\n                    disabled={disabled}\n                    onKeyPress={handleInputKeyPress}\n                    onChange={onChange}\n                    value={value}\n                    $isEmpty={isEmptyValue}\n                />\n            </StyledWrapper>\n        </StyledRoot>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Body1 } from '@sberdevices/plasma-styles';\nimport { PlasmaIcon } from 'components/PlasmaIcon/PlasmaIcon';\nimport { Input } from 'components/Input/Input@touch';\nimport { Button, ButtonViews } from 'components/Button/Button';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport {\n    addressFullApartmentInputChangeAction,\n    addressFullDoorCodeInputChangeAction,\n    addressFullEntranceInputChangeAction,\n    addressFullFloorInputChangeAction,\n    addressFullPhoneNumberInputChangeAction,\n} from 'store/actions/addressFullPage';\nimport { addressFullSubmitAction } from 'store/actions/server';\nimport { noop } from 'tools/noop';\n\nconst StyledAddressFullAllTouch = styled.div`\n    overflow-y: auto;\n    box-sizing: border-box;\n    display: grid;\n    grid-row-gap: 16px;\n    grid-column-gap: 32px;\n    padding: 14px 16px 0;\n`;\n\nconst StyledVoiceHint = styled(Body1)`\n    display: flex;\n    align-items: center;\n    background: linear-gradient(to right, #00ffdf, #00ff5a);\n    color: transparent;\n    -webkit-background-clip: text;\n    padding-bottom: 16px;\n`;\n\nconst StyledPlasmaIcon = styled(PlasmaIcon)`\n    height: 64px;\n    width: 72px;\n    box-sizing: border-box;\n    background: rgba(255, 255, 255, 0.03);\n    box-shadow: inset 0 2px 2px rgba(255, 255, 255, 0.15);\n    border-radius: 100%;\n    margin-right: 16px;\n    padding: 16px;\n`;\n\nconst Row = styled.div`\n    display: grid;\n`;\n\nconst PaddingRow = styled(Row)`\n    padding-bottom: 16px;\n`;\n\nconst TwoRow = styled(Row)`\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 8px;\n`;\n\nconst SubmitButton = styled(Button)`\n    flex-grow: 0;\n    padding: 4px 0;\n    width: 143px;\n    font-size: 16px;\n    border-radius: 16px;\n\n    &[disabled] {\n        opacity: 0.3;\n    }\n`;\n\nexport const AddressFullAllTouch: React.FC = () => {\n    const dispatch = useDispatch();\n    const {\n        addressInputValue,\n        phoneNumberInputValue,\n        apartmentInputValue,\n        entranceInputValue,\n        floorInputValue,\n        doorCodeInputValue,\n        isSubmitButtonDisabled,\n        isPhoneValid,\n    } = useSelector(({ addressFullPage }) => addressFullPage);\n\n    const handleApartmentInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullApartmentInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n\n    const handleEntranceInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullEntranceInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n\n    const handleFloorInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullFloorInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n\n    const handleDoorCodeInputChange = React.useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch(addressFullDoorCodeInputChangeAction(e.target.value));\n        },\n        [dispatch],\n    );\n\n    const handlePhoneInputChange = React.useCallback(\n        ({ nativeEvent }: React.ChangeEvent<HTMLInputElement>) => {\n            if (nativeEvent instanceof InputEvent) {\n                const { inputType, data } = nativeEvent;\n\n                dispatch(addressFullPhoneNumberInputChangeAction({ inputType, data }));\n            }\n        },\n        [dispatch],\n    );\n\n    const handleSubmitClick = React.useCallback(() => {\n        dispatch(addressFullSubmitAction());\n    }, [dispatch]);\n\n    return (\n        <StyledAddressFullAllTouch>\n            <StyledVoiceHint>\n                <StyledPlasmaIcon fill=\"url(#plasma-green-gradient)\">\n                    <linearGradient id=\"plasma-green-gradient\">\n                        <stop offset=\"0%\" stopColor=\"#00FFE6\" />\n                        <stop offset=\"100%\" stopColor=\"#80FF00\" />\n                    </linearGradient>\n                </StyledPlasmaIcon>\n                Вы можете заполнять данные голосом\n            </StyledVoiceHint>\n            <PaddingRow>\n                <Input title=\"Улица и дом\" value={addressInputValue} onChange={noop} />\n            </PaddingRow>\n            <Row>\n                <Input title=\"Квартира\" value={apartmentInputValue} onChange={handleApartmentInputChange} />\n            </Row>\n            <TwoRow>\n                <Input title=\"Подъезд\" value={entranceInputValue} onChange={handleEntranceInputChange} />\n                <Input title=\"Этаж\" value={floorInputValue} onChange={handleFloorInputChange} />\n            </TwoRow>\n            <PaddingRow>\n                <Input title=\"Комментарий\" value={doorCodeInputValue} onChange={handleDoorCodeInputChange} />\n            </PaddingRow>\n            <PaddingRow>\n                <Input\n                    title=\"Номер телефона\"\n                    value={phoneNumberInputValue}\n                    onChange={handlePhoneInputChange}\n                    isInvalid={!isPhoneValid}\n                />\n            </PaddingRow>\n            <Row>\n                <SubmitButton\n                    view={ButtonViews.primary}\n                    shouldLockAfterClick\n                    onClick={handleSubmitClick}\n                    disabled={isSubmitButtonDisabled}\n                >\n                    Сохранить\n                </SubmitButton>\n            </Row>\n        </StyledAddressFullAllTouch>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Button2, ParagraphText1 } from '@sberdevices/plasma-styles';\nimport { primary, surfaceLiquid01 } from '@sberdevices/plasma-tokens';\nimport { ReactComponent as AddSvg } from 'assets/icons/add.svg';\nimport { ReactComponent as RemoveSvg } from 'assets/icons/remove.svg';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { useSelector } from 'hooks/useSelector';\nimport { addItemAction, removeItemAction } from 'store/actions/native';\nimport { IndexBadge } from 'components/IndexBadge/IndexBadge';\nimport { BadgeType } from 'components/Badge/Badge';\n\nconst cardBorderRadiusPx = 20;\n\nconst StyledListItem = styled.div`\n    position: relative;\n    border-radius: ${cardBorderRadiusPx}px;\n    background-color: ${surfaceLiquid01};\n    color: ${primary};\n`;\n\ninterface StyledThumbProps {\n    imageUrl: string;\n}\n\nconst StyledThumb = styled.div<StyledThumbProps>`\n    display: block;\n    width: 100%;\n    height: 168px;\n\n    background-image: url('${({ imageUrl }) => imageUrl}');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    border-top-left-radius: ${cardBorderRadiusPx}px;\n    border-top-right-radius: ${cardBorderRadiusPx}px;\n`;\n\nconst StyledIndexBadge = styled(IndexBadge)`\n    top: 8px;\n    right: 8px;\n    color: ${primary};\n`;\n\nconst StyledAddIcon = styled(AddSvg)`\n    height: 12px;\n    width: 12px;\n`;\n\nconst StyledRemoveIcon = styled(RemoveSvg)`\n    height: 12px;\n    width: 12px;\n`;\n\nconst StyledDescription = styled.div`\n    padding: 8px 16px 0;\n`;\n\nconst StyledButtonsContainer = styled.div`\n    padding: 12px;\n    margin-top: 6px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n`;\n\nconst StyledName = styled.div`\n    color: ${primary};\n    font-size: 14px;\n    height: 36px;\n\n    display: block;\n    display: -webkit-box;\n\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n`;\n\ntype StyledTouchButtonProps = {\n    disabled?: boolean;\n};\n\nconst StyledTouchButton = styled(Button2)<StyledTouchButtonProps>`\n    cursor: pointer;\n    padding: 11px 20px;\n    text-align: center;\n    background-color: ${surfaceLiquid01};\n    border-radius: 12px;\n    width: 100%;\n    opacity: ${({ disabled }) => (disabled ? 0.2 : 1)};\n`;\n\nconst StyledCountTouchButton = styled(Button2)`\n    cursor: pointer;\n    background-color: ${surfaceLiquid01};\n    border-radius: 12px;\n    display: flex;\n    width: 40px;\n    height: 40px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n`;\n\ninterface CatalogListItemTouchProps {\n    id: string;\n}\n\nexport interface CatalogListItemTouchViewProps {\n    imageUrl: string;\n    count: number;\n    name: string;\n    index: number;\n    price: number;\n    badge?: BadgeType;\n    disabled?: boolean;\n    buttonDisabled?: boolean;\n}\n\nexport const CatalogListItemTouch: React.FC<CatalogListItemTouchProps> = ({ id }) => {\n    const dispatch = useDispatch();\n    const { imageUrl, count, index, name, price, disabled } = useSelector(\n        ({ catalogPageTouch }) => catalogPageTouch.itemsMap[id],\n    );\n    const isPossibleChangeCountActive = count > 0;\n\n    const handleClickAdd = React.useCallback(() => {\n        if (!disabled) {\n            dispatch(addItemAction({ item: id, count: '1' }));\n        }\n    }, [dispatch, id, disabled]);\n\n    const handleClickRemove = React.useCallback(() => {\n        if (!disabled) {\n            dispatch(removeItemAction({ item: id, count: '1' }));\n        }\n    }, [dispatch, id, disabled]);\n\n    return (\n        <StyledListItem tabIndex={0}>\n            <StyledThumb imageUrl={imageUrl} />\n            <StyledIndexBadge size=\"xs\" index={index} />\n            <StyledDescription>\n                <StyledName>{name}</StyledName>\n            </StyledDescription>\n            <StyledButtonsContainer>\n                {isPossibleChangeCountActive ? (\n                    <>\n                        <StyledCountTouchButton onClick={handleClickRemove}>\n                            <StyledRemoveIcon />\n                        </StyledCountTouchButton>\n                        <ParagraphText1>{count}</ParagraphText1>\n                        <StyledCountTouchButton onClick={handleClickAdd}>\n                            <StyledAddIcon />\n                        </StyledCountTouchButton>\n                    </>\n                ) : (\n                    <StyledTouchButton onClick={handleClickAdd} disabled={disabled}>\n                        {price} ₽\n                    </StyledTouchButton>\n                )}\n            </StyledButtonsContainer>\n        </StyledListItem>\n    );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'hooks/useSelector';\n\nimport { CatalogListItemTouch } from '../ListItem/CatalogListItem@touch';\n\nconst StyledCatalogList = styled.div`\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    padding: 6px 14px;\n    box-sizing: border-box;\n`;\n\nconst StyledScrollableCatalogContainer = styled.div`\n    display: grid;\n    grid-gap: 9px;\n    grid-template-columns: 1fr 1fr;\n`;\n\nexport const CatalogListTouch: React.FC = () => {\n    const itemIds = useSelector(({ catalogPageTouch }) => catalogPageTouch.order);\n    const itemsList = React.useMemo(() => itemIds.map((itemId) => <CatalogListItemTouch key={itemId} id={itemId} />), [\n        itemIds,\n    ]);\n\n    return (\n        <StyledCatalogList>\n            <StyledScrollableCatalogContainer>{itemsList}</StyledScrollableCatalogContainer>\n        </StyledCatalogList>\n    );\n};\n","import React from 'react';\n\nimport { CatalogListTouch } from './List/CatalogList@touch';\n\nexport const CatalogTouch: React.FC = () => {\n    return <CatalogListTouch />;\n};\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useSprings, animated } from 'react-spring/web';\nimport { useGesture } from 'react-use-gesture';\n\nconst StyledSliderContainer = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n\nconst StyledSlider = styled.div`\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n`;\n\nconst StyledSlide = styled.div`\n    width: 100%;\n    height: 100%;\n    will-change: transform;\n    user-select: none;\n    pointer-events: none;\n`;\n\nconst clamp = (input: number, lower: number, upper: number) => Math.min(Math.max(input, lower), upper);\n\ninterface SliderProps {\n    auto?: number;\n    className?: string;\n    children?: React.ReactNode[];\n    onSlideChange?: (slide: number) => void;\n    width: number;\n}\n\nexport const Slider: React.FC<SliderProps> = ({ auto = 0, className, children = [], onSlideChange, width }) => {\n    const [slide, setSlide] = useState(0);\n    const [isDragging, setDragging] = useState(false);\n\n    const [springProps, setSpringProps] = useSprings(children.length, (index) => ({\n        offset: index,\n    }));\n\n    const gestureBinds = useGesture(\n        {\n            onDrag: ({ down, movement: [xDelta], direction: [xDir], distance, cancel, first }) => {\n                if (first) {\n                    setDragging(true);\n                }\n\n                if (down && distance > width / 2) {\n                    if (cancel) cancel();\n\n                    setSlide(clamp(slide + (xDir > 0 ? -1 : 1), 0, children?.length - 1));\n                }\n\n                setSpringProps((index: number) => ({\n                    offset: (down ? xDelta : 0) / width + (index - slide),\n                }));\n            },\n            onClick: () => {\n                if (isDragging) {\n                    setDragging(false);\n                }\n\n                return false;\n            },\n        },\n        {\n            drag: {\n                delay: 200,\n            },\n        },\n    );\n\n    useEffect(() => {\n        setSpringProps((index: number) => ({ offset: index - slide }));\n\n        onSlideChange && onSlideChange(slide);\n    }, [slide, setSpringProps, onSlideChange]);\n\n    useEffect(() => {\n        let intervalId: number;\n\n        if (auto > 0) {\n            intervalId = setInterval(() => {\n                const targetIndex = (slide + 1) % children.length;\n\n                setSlide(targetIndex);\n            }, auto);\n        }\n\n        return () => {\n            if (intervalId) {\n                clearInterval(intervalId);\n            }\n        };\n    }, [auto, children.length, slide]);\n\n    return (\n        <StyledSliderContainer className={className}>\n            <StyledSlider>\n                {springProps.map(({ offset }, index) => (\n                    <animated.div\n                        {...gestureBinds()}\n                        key={index}\n                        style={{\n                            transform: offset.to((offsetX) => `translateX(${offsetX * 100}%)`),\n                            position: 'absolute',\n                            width: '100%',\n                            height: '100%',\n                            willChange: 'transform',\n                        }}\n                    >\n                        <StyledSlide>{children[index]}</StyledSlide>\n                    </animated.div>\n                ))}\n            </StyledSlider>\n        </StyledSliderContainer>\n    );\n};\n","import React, { useState, useMemo, useRef, useEffect } from 'react';\nimport styled, { css, FlattenSimpleInterpolation } from 'styled-components';\nimport { Body1, Headline1 } from '@sberdevices/plasma-styles';\nimport { secondary } from '@sberdevices/plasma-tokens';\nimport { Slider } from 'components/Slider/Slider';\nimport { transition } from 'style/const/transition';\n\nimport popcornBox2 from './Promo.assets/popcorn-box_1.png';\nimport popcornBox1 from './Promo.assets/popcorn-box_2.png';\nimport popcornBox3 from './Promo.assets/popcorn-box_3.png';\nimport popcornBox4 from './Promo.assets/popcorn-box_4.png';\nimport popcorn1 from './Promo.assets/popcorn-1.png';\nimport popcorn2 from './Promo.assets/popcorn-2.png';\nimport popcorn3 from './Promo.assets/popcorn-3.png';\n\nconst popcornBoxList: FlattenSimpleInterpolation[] = [\n    css`\n        width: 250px;\n        height: 385px;\n        background-image: url('${popcornBox1}');\n    `,\n    css`\n        width: 250px;\n        height: 280px;\n        margin-top: 84px;\n        background-image: url('${popcornBox2}');\n    `,\n    css`\n        width: 250px;\n        height: 280px;\n        margin-top: 84px;\n        background-image: url('${popcornBox3}');\n    `,\n    css`\n        width: 250px;\n        height: 380px;\n        margin-top: 31px;\n        background-image: url('${popcornBox4}');\n    `,\n];\n\nconst popcornList: FlattenSimpleInterpolation[] = [\n    css`\n        width: 54px;\n        height: 54px;\n        top: 41px;\n        left: 260px;\n        background-image: url(${popcorn2});\n    `,\n    css`\n        width: 71px;\n        height: 71px;\n        top: 226px;\n        left: 75px;\n        background-image: url(${popcorn1});\n    `,\n    css`\n        width: 76px;\n        height: 76px;\n        top: 271px;\n        left: 287px;\n        background-image: url(${popcorn1});\n    `,\n    css`\n        width: 64px;\n        height: 64px;\n        top: 311px;\n        left: 7px;\n        background-image: url(${popcorn3});\n    `,\n    css`\n        width: 74px;\n        height: 74px;\n        top: 530px;\n        left: 274px;\n        background-image: url(${popcorn3});\n    `,\n];\n\n/* Slider */\nconst StyledSlider = styled(Slider)`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n`;\n\ninterface PopcornBoxProps {\n    popcornStyle: FlattenSimpleInterpolation;\n}\n\nconst PopcornBox = styled.div<PopcornBoxProps>`\n    margin: 26px auto 0;\n\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    transition: opacity 1s ${transition.timingFn.default};\n\n    ${({ popcornStyle }) => popcornStyle}\n`;\n\n/* Text container */\nconst TextContainer = styled.div`\n    position: relative;\n    text-align: center;\n    padding: 253px 24px 0;\n    user-select: none;\n    pointer-events: none;\n`;\n\nconst Subtitle = styled(Body1)`\n    color: ${secondary};\n\n    margin-top: 10px;\n`;\n\n/* Pins container */\nconst SliderPinsContainer = styled.div`\n    position: absolute;\n    display: grid;\n    grid-auto-flow: column;\n    grid-gap: 6px;\n    top: 483px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n`;\n\n/* Corns container */\nconst CornsContainer = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    z-index: 1;\n`;\n\ninterface CornProps {\n    popcornStyle: FlattenSimpleInterpolation;\n}\n\nconst Corn = styled.div<CornProps>`\n    position: absolute;\n\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n    ${({ popcornStyle }) => popcornStyle}\n`;\n\ninterface PinProps {\n    isActive: boolean;\n}\n\nconst Pin = styled.div<PinProps>`\n    background-color: #fff;\n    border-radius: 1.5px;\n    width: 12px;\n    height: 3px;\n\n    opacity: ${({ isActive }) => (isActive ? 1 : 0.16)};\n    transition: opacity 0.5s ease-in-out;\n`;\n\nexport const PromoTouch: React.FC = () => {\n    const promoRef = useRef<HTMLDivElement>(null);\n    const [promoWidth, setPromoWidth] = useState(0);\n    const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\n    const cornsList = useMemo(() => popcornList.map((style, index) => <Corn key={index} popcornStyle={style} />), []);\n\n    useEffect(() => {\n        if (promoRef.current) {\n            const { width } = promoRef.current.getBoundingClientRect();\n\n            setPromoWidth(width);\n        }\n    }, []);\n\n    return (\n        <div ref={promoRef}>\n            <CornsContainer>{cornsList}</CornsContainer>\n            <TextContainer>\n                <Headline1>Доставляем попкорн к&nbsp;просмотру фильмов</Headline1>\n                <Subtitle>Бесплатно в течении 15-30 минут для Москвы и Санкт-Петербурга</Subtitle>\n            </TextContainer>\n            <SliderPinsContainer>\n                {popcornBoxList.map((_, index) => (\n                    <Pin key={index} isActive={index === currentSlideIndex} />\n                ))}\n            </SliderPinsContainer>\n            <StyledSlider auto={5000} onSlideChange={(slide: number) => setCurrentSlideIndex(slide)} width={promoWidth}>\n                {popcornBoxList.map((style, index) => (\n                    <PopcornBox key={index} popcornStyle={style} />\n                ))}\n            </StyledSlider>\n        </div>\n    );\n};\n","import React, { useMemo } from 'react';\nimport styled, { css } from 'styled-components';\nimport { Headline2, ParagraphText2 } from '@sberdevices/plasma-styles';\nimport { primary, secondary } from '@sberdevices/plasma-tokens';\nimport { useSelector } from 'hooks/useSelector';\nimport { layout } from 'style/const/layout@touch';\n\nimport figureIcon1 from './Success.assets/figure-1.svg';\nimport figureIcon2 from './Success.assets/figure-2.svg';\nimport figureIcon3 from './Success.assets/figure-3.svg';\nimport figureIcon4 from './Success.assets/figure-4.svg';\nimport figureIcon5 from './Success.assets/figure-5.svg';\nimport figureIcon6 from './Success.assets/figure-6.svg';\nimport figureIcon7 from './Success.assets/figure-7.svg';\nimport figureIcon8 from './Success.assets/figure-8.svg';\nimport figureIcon9 from './Success.assets/figure-9.svg';\n\nconst SuccessTouchContainer = styled.div`\n    position: relative;\n\n    height: 100vh;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst SuccessTouchOrderInfo = styled.div`\n    text-align: center;\n    padding: 0 30px;\n\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    margin-top: -${layout.headerHeightPx}px;\n`;\n\nconst SuccessTouchOrderNumber = styled(ParagraphText2)`\n    color: ${secondary};\n`;\n\nconst SuccessTouchOrderTime = styled(Headline2)`\n    margin-top: 10px;\n\n    color: ${primary};\n`;\n\ninterface FigureTouchProps {\n    params: [string, number, number, number];\n}\n\nconst SuccessTouchFigure = styled.div<FigureTouchProps>`\n    position: absolute;\n\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n\n    ${({ params: [bgUrl, topPx, leftPx, sizePx] }) => css`\n        top: ${topPx}%;\n        left: ${leftPx}%;\n\n        height: ${sizePx}px;\n        width: ${sizePx}px;\n\n        background-image: url('${bgUrl}');\n    `}\n`;\n\nconst figureList: FigureTouchProps['params'][] = [\n    [figureIcon1, 6.1, 13.9, 30],\n    [figureIcon2, 27.3, 83.7, 36],\n    [figureIcon3, 0.6, 78, 24],\n    [figureIcon4, 70.6, 74, 32],\n    [figureIcon5, 51.4, 62.2, 31],\n    [figureIcon6, 20.6, 51.3, 28],\n    [figureIcon7, 15.6, 39.7, 18],\n    [figureIcon8, 53.8, 46.5, 20],\n    [figureIcon9, 63.8, 18, 36],\n    [figureIcon4, 44.3, 11.3, 17],\n];\n\nexport const SuccessTouch: React.FC = () => {\n    const deliveryTime = useSelector(({ delivery }) => delivery.deliveryTime);\n    const { orderId } = useSelector(({ cart }) => cart);\n    const touchFigureList = useMemo(\n        () => figureList.map((params, index) => <SuccessTouchFigure key={index} params={params} />),\n        [],\n    );\n\n    return (\n        <SuccessTouchContainer>\n            <SuccessTouchOrderInfo>\n                <SuccessTouchOrderNumber>Заказ #{orderId} оформлен</SuccessTouchOrderNumber>\n                <SuccessTouchOrderTime>\n                    Спасибо за заказ!\n                    <br />\n                    Будем у вас через {deliveryTime} минут.\n                </SuccessTouchOrderTime>\n            </SuccessTouchOrderInfo>\n            {touchFigureList}\n        </SuccessTouchContainer>\n    );\n};\n","import React, { useRef, useState, useLayoutEffect } from 'react';\nimport styled from 'styled-components';\nimport * as Sentry from '@sentry/react';\nimport DG from '2gis-maps';\nimport { useDispatch } from 'hooks/useDispatch';\nimport { Pin, HappyFaceIcon } from 'components/Pin/Pin@touch';\nimport { getGeolocation } from 'tools/geolocation';\nimport { memoizeResolvedPromise } from 'tools/memoize';\nimport { isErrorResponse } from 'tools/twoGis/api/common';\nimport { getGeocode } from 'tools/twoGis/api/items';\nimport { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\nimport { revertUserChanges } from 'store/actions/app';\nimport { addressSelectSuggestAction } from 'store/actions/addressMap';\nimport { critical } from '@sberdevices/plasma-tokens';\n\nlet map: DG.DGMap;\n\nconst StyledAddressMapTouch = styled.div`\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: 100%;\n`;\n\nconst StyledMap = styled.div`\n    height: calc(100% + 65px);\n    width: 100%;\n    margin-top: -65px;\n    filter: grayscale(71%) brightness(47%) hue-rotate(163deg) saturate(302%); // ToDo: найти более изящное решение для стилизации карты\n`;\n\nconst StyledAddress = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 311px;\n\n    color: white;\n    text-align: center;\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 24px;\n    letter-spacing: -0.025em;\n    margin-top: -14px;\n    pointer-events: none;\n\n    transform: translateX(-50%);\n`;\n\nconst PinTouch = styled(Pin)`\n    pointer-events: none;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    margin-top: -60px;\n`;\n\nconst memoizedGetItemsGeocode = memoizeResolvedPromise(getGeocode);\n\nexport const AddressMapTouch: React.FC = () => {\n    const dispatch = useDispatch();\n    const [address, setAddress] = useState<DGBuildingSuggest | null>(null);\n    const mapRef = useRef<HTMLDivElement>(null);\n    const onLoad = React.useCallback(() => {\n        if (mapRef.current instanceof HTMLDivElement) {\n            mapRef.current.focus();\n        }\n    }, [mapRef]);\n\n    const onMove = React.useCallback(\n        (e) => {\n            const { x, y } = e.target.getSize();\n            const { lng, lat } = map.containerPointToLatLng({ x: x / 2, y: y / 2 });\n\n            memoizedGetItemsGeocode({ point: [lng, lat].join(',') })\n                .then((response) => {\n                    if (isErrorResponse(response)) {\n                        if (response.meta.code === 404) {\n                            return [];\n                        }\n\n                        throw new Error(`Error: 2GIS Get geocode: ${response.meta.error.message}`);\n                    }\n\n                    return response.result.items;\n                })\n                .then(([firstItem]) => {\n                    if (firstItem) {\n                        setAddress(firstItem);\n                        dispatch(addressSelectSuggestAction(firstItem));\n                    } else {\n                        setAddress(null);\n                        dispatch(revertUserChanges());\n                    }\n                })\n                .catch((error) => {\n                    if (process.env.REACT_APP_ENVIRONMENT === 'production') {\n                        Sentry.captureException(error);\n                    } else {\n                        // eslint-disable-next-line no-console\n                        console.error(error);\n                    }\n\n                    return [];\n                });\n        },\n        [dispatch],\n    );\n\n    useLayoutEffect(() => {\n        getGeolocation()\n            // Если не удалось определить местоположение то выставляем Батайский проезд 27\n            .catch(() => ({ coords: { latitude: 55.644242, longitude: 37.72276 } }))\n            .then(({ coords: { latitude, longitude } }) => {\n                map = DG.map('map', {\n                    center: [latitude, longitude],\n                    zoom: 18,\n                    zoomControl: false,\n                    fullscreenControl: false,\n                });\n\n                map.addEventListener('moveend', onMove);\n                map.addEventListener('load', onLoad);\n            });\n\n        return () => {\n            map.removeEventListener('moveend', onMove);\n            map.removeEventListener('load', onLoad);\n        };\n    }, [onMove, onLoad]);\n\n    return (\n        <StyledAddressMapTouch>\n            <StyledMap id=\"map\" ref={mapRef} />\n            <PinTouch pinColor={critical}>\n                <HappyFaceIcon />\n            </PinTouch>\n            <StyledAddress>{address?.address_name}</StyledAddress>\n        </StyledAddressMapTouch>\n    );\n};\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { doDGApiRequest } from 'tools/twoGis/api/doApiRequest';\nimport { DGListResult } from 'tools/twoGis/api/common';\nimport { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\n\ntype DGApiGetItemsGeocodeParams = {\n    point: string;\n    radius: number;\n    type: string[];\n    fields: string[];\n};\n\ntype DGGetItemsGeocodeParams = {\n    point: string;\n};\n\nconst geoSearchEndpointPath = '/3.0/items/geocode';\n\nexport const getGeocode = async ({ point }: DGGetItemsGeocodeParams) => {\n    return doDGApiRequest<DGApiGetItemsGeocodeParams, DGListResult<DGBuildingSuggest>>(geoSearchEndpointPath, {\n        point,\n        radius: 30,\n        type: ['building'],\n        fields: ['items.address', 'items.point'],\n    });\n};\n","import { createAction } from 'tools/create-action';\nimport { DGBuildingSuggest } from 'tools/twoGis/api/suggest';\n\nexport const addressSelectSuggestAction = (payload: DGBuildingSuggest) =>\n    createAction('address/SELECT_SUGGEST', payload);\n","export const getGeolocation = (timeout = 2000) =>\n    new Promise<Position>((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject, {\n            maximumAge: 5 * 60 * 1000,\n            timeout,\n            enableHighAccuracy: false,\n        });\n\n        // что-то вычисление текущей позиции не всегда по таймауту падает,\n        // так что продублируем руками\n        setTimeout(() => {\n            reject();\n        }, timeout);\n    });\n","import React from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { Switch, Route } from 'react-router';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { history } from 'tools/history';\nimport { store } from 'store';\nimport { ROUTES } from 'store/constants/router';\nimport { AppLayoutTouch } from 'components/AppLayout/AppLayout@touch';\nimport { CartTouch } from 'pages/Cart/Cart@touch';\nimport { AddressFullAllTouch } from 'pages/AddressFullAll/AddressFullAll@touch';\nimport { CatalogTouch } from 'pages/Catalog/Catalog@touch';\nimport { PromoTouch } from 'pages/Promo/Promo@touch';\nimport { SuccessTouch } from 'pages/Success/Success@touch';\nimport { AddressMapTouch } from 'pages/AddressMap/AddressMap@touch';\n\nconst GlobalStyle = createGlobalStyle`\n    body { /* stylelint-disable-line selector-nested-pattern */\n        margin: 0;\n    }\n\n    * { /* stylelint-disable-line selector-nested-pattern, selector-max-universal */\n        outline: none;\n    }\n`;\n\nconst StyledContainer = styled.div`\n    overflow: hidden;\n    width: 100%;\n    height: 100vh;\n    outline: none;\n    font-family: 'SB Sans Text', Helvetica, Arial, sans-serif;\n    background: #000;\n`;\n\nconst preventScroll = (event: React.SyntheticEvent<HTMLDivElement>) => {\n    event.currentTarget.scrollTop = 0;\n};\n\nexport const RootTouch: React.FC = () => (\n    <ReduxProvider store={store}>\n        <ConnectedRouter history={history}>\n            <GlobalStyle />\n            <StyledContainer onScroll={preventScroll}>\n                <AppLayoutTouch>\n                    <Switch>\n                        <Route path={ROUTES.CATALOG}>\n                            <CatalogTouch />\n                        </Route>\n                        <Route path={ROUTES.CART}>\n                            <CartTouch />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_FULL_ALL}>\n                            <AddressFullAllTouch />\n                        </Route>\n                        <Route path={ROUTES.SUCCESS}>\n                            <SuccessTouch />\n                        </Route>\n                        <Route path={ROUTES.ADDRESS_SIMPLE}>\n                            <AddressMapTouch />\n                        </Route>\n                        <Route path={ROUTES.PROMO}>\n                            <PromoTouch />\n                        </Route>\n                    </Switch>\n                </AppLayoutTouch>\n            </StyledContainer>\n        </ConnectedRouter>\n    </ReduxProvider>\n);\n","import { isMobile, isPortal } from 'tools/environment';\n\nimport { RootDesktop } from './Root@desktop';\nimport { RootPortal } from './Root@portal';\nimport { RootTouch } from './Root@touch';\n\nfunction getRoot() {\n    if (isMobile) {\n        return RootTouch;\n    }\n\n    if (isPortal) {\n        return RootPortal;\n    }\n\n    return RootDesktop;\n}\n\nexport const Root = getRoot();\n","/* eslint-disable */\n\nimport debounce from 'lodash.debounce';\n\n/* Spatial Navigation Polyfill\n *\n * It follows W3C official specification\n * https://drafts.csswg.org/css-nav-1/\n *\n * Copyright (c) 2018-2019 LG Electronics Inc.\n * https://github.com/WICG/spatial-navigation/polyfill\n *\n * Licensed under the MIT license (MIT)\n */\n\n(function () {\n    // The polyfill must not be executed, if it's already enabled via browser engine or browser extensions.\n    if ('navigate' in window) {\n        return;\n    }\n\n    const ARROW_KEY_CODE = { 37: 'left', 38: 'up', 39: 'right', 40: 'down' };\n    const TAB_KEY_CODE = 9;\n    let mapOfBoundRect = null;\n    let startingPoint = null; // Saves spatial navigation starting point\n    let savedSearchOrigin = { element: null, rect: null }; // Saves previous search origin\n    let searchOriginRect = null; // Rect of current search origin\n\n    window.__getSpatNavState = () => {\n        return {\n            mapOfBoundRect,\n            startingPoint,\n            savedSearchOrigin,\n            searchOriginRect,\n        };\n    };\n\n    /**\n     * Initiate the spatial navigation features of the polyfill.\n     * @function initiateSpatialNavigation\n     */\n    function initiateSpatialNavigation() {\n        /*\n         * Bind the standards APIs to be exposed to the window object for authors\n         */\n        window.navigate = navigate;\n        window.Element.prototype.spatialNavigationSearch = spatialNavigationSearch;\n        window.Element.prototype.focusableAreas = focusableAreas;\n        window.Element.prototype.getSpatialNavigationContainer = getSpatialNavigationContainer;\n\n        /*\n         * CSS.registerProperty() from the Properties and Values API\n         * Reference: https://drafts.css-houdini.org/css-properties-values-api/#the-registerproperty-function\n         */\n        if (window.CSS && CSS.registerProperty) {\n            if (\n                window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-contain') ===\n                ''\n            ) {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-contain',\n                    syntax: 'auto | contain',\n                    inherits: false,\n                    initialValue: 'auto',\n                });\n            }\n\n            if (\n                window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-action') === ''\n            ) {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-action',\n                    syntax: 'auto | focus | scroll',\n                    inherits: false,\n                    initialValue: 'auto',\n                });\n            }\n\n            if (\n                window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-function') ===\n                ''\n            ) {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-function',\n                    syntax: 'normal | grid',\n                    inherits: false,\n                    initialValue: 'normal',\n                });\n            }\n        }\n    }\n\n    /**\n     * Add event handlers for the spatial navigation behavior.\n     * This function defines which input methods trigger the spatial navigation behavior.\n     * @function spatialNavigationHandler\n     */\n    function spatialNavigationHandler() {\n        /*\n         * keydown EventListener :\n         * If arrow key pressed, get the next focusing element and send it to focusing controller\n         */\n        window.addEventListener('keydown', (e) => {\n            const currentKeyMode =\n                (parent && parent.__spatialNavigation__.keyMode) || window.__spatialNavigation__.keyMode;\n            const eventTarget = document.activeElement;\n            const dir = ARROW_KEY_CODE[e.keyCode];\n\n            if (e.keyCode === TAB_KEY_CODE) {\n                startingPoint = null;\n            }\n\n            if (\n                !currentKeyMode ||\n                currentKeyMode === 'NONE' ||\n                (currentKeyMode === 'SHIFTARROW' && !e.shiftKey) ||\n                (currentKeyMode === 'ARROW' && e.shiftKey) ||\n                e.ctrlKey ||\n                e.metaKey ||\n                e.altKey\n            )\n                return;\n\n            if (!e.defaultPrevented) {\n                let focusNavigableArrowKey = {\n                    left: true,\n                    up: true,\n                    right: true,\n                    down: true,\n                };\n\n                // Edge case (text input, area) : Don't move focus, just navigate cursor in text area\n                if (eventTarget.nodeName === 'INPUT' || eventTarget.nodeName === 'TEXTAREA') {\n                    focusNavigableArrowKey = handlingEditableElement(e);\n                }\n\n                if (focusNavigableArrowKey[dir]) {\n                    e.preventDefault();\n                    mapOfBoundRect = new Map();\n\n                    navigate(dir);\n\n                    mapOfBoundRect = null;\n                    startingPoint = null;\n                }\n            }\n        });\n\n        /*\n         * mouseup EventListener :\n         * If the mouse click a point in the page, the point will be the starting point.\n         * NOTE: Let UA set the spatial navigation starting point based on click\n         */\n        document.addEventListener('mouseup', (e) => {\n            startingPoint = { x: e.clientX, y: e.clientY };\n        });\n\n        /*\n         * focusin EventListener :\n         * When the element get the focus, save it and its DOMRect for resetting the search origin\n         * if it disappears.\n         */\n        window.addEventListener('focusin', (e) => {\n            if (e.target !== window) {\n                savedSearchOrigin.element = e.target;\n                savedSearchOrigin.rect = e.target.getBoundingClientRect();\n            }\n        });\n    }\n\n    /**\n     * Enable the author to trigger spatial navigation programmatically, as if the user had done so manually.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-window-navigate}\n     * @function navigate\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function navigate(dir) {\n        // spatial navigation steps\n\n        // 1\n        const searchOrigin = findSearchOrigin();\n        console.log(searchOrigin);\n        let eventTarget = searchOrigin;\n        let elementFromPosition = null;\n\n        // 2 Optional step, UA defined starting point\n        if (startingPoint) {\n            // if there is a starting point, set eventTarget as the element from position for getting the spatnav container\n            elementFromPosition = document.elementFromPoint(startingPoint.x, startingPoint.y);\n\n            // Use starting point if the starting point isn't inside the focusable element (but not container)\n            // * Starting point is meaningfull when:\n            // 1) starting point is inside the spatnav container\n            // 2) starting point is inside the non-focusable element\n            if (elementFromPosition === null) {\n                elementFromPosition = document.body;\n            }\n            if (isFocusable(elementFromPosition) && !isContainer(elementFromPosition)) {\n                startingPoint = null;\n            } else if (isContainer(elementFromPosition)) {\n                eventTarget = elementFromPosition;\n            } else {\n                eventTarget = elementFromPosition.getSpatialNavigationContainer();\n            }\n        }\n\n        // 4\n        if (eventTarget === window || eventTarget === document || eventTarget === document.documentElement) {\n            eventTarget = document.body || document.documentElement;\n        }\n\n        // 5\n        // At this point, spatialNavigationSearch can be applied.\n        // If startingPoint is either a scroll container or the document,\n        // find the best candidate within startingPoint\n        let container = null;\n        if ((isContainer(eventTarget) || eventTarget.nodeName === 'BODY') && !(eventTarget.nodeName === 'INPUT')) {\n            if (eventTarget.nodeName === 'IFRAME') {\n                eventTarget = eventTarget.contentDocument.documentElement;\n            }\n\n            container = container === window ? document.body : eventTarget;\n            let bestInsideCandidate = null;\n\n            // 5-2\n            if (\n                document.activeElement === searchOrigin ||\n                (document.activeElement === document.body && searchOrigin === document.documentElement)\n            ) {\n                if (getCSSSpatNavAction(eventTarget) === 'scroll') {\n                    if (scrollingController(eventTarget, dir)) return;\n                } else if (getCSSSpatNavAction(eventTarget) === 'focus') {\n                    bestInsideCandidate = eventTarget.spatialNavigationSearch(dir, {\n                        container: eventTarget,\n                        candidates: getSpatialNavigationCandidates(eventTarget, {\n                            mode: 'all',\n                        }),\n                    });\n                    if (focusingController(bestInsideCandidate, dir)) return;\n                } else if (getCSSSpatNavAction(eventTarget) === 'auto') {\n                    bestInsideCandidate = eventTarget.spatialNavigationSearch(dir, {\n                        container: eventTarget,\n                    });\n                    if (focusingController(bestInsideCandidate, dir) || scrollingController(eventTarget, dir)) return;\n                }\n            } else {\n                // when the previous search origin became offscreen\n                container = container.getSpatialNavigationContainer();\n            }\n        }\n\n        // 6\n        // Let container be the nearest ancestor of eventTarget\n        container = eventTarget.getSpatialNavigationContainer();\n        let parentContainer = container.parentElement ? container.getSpatialNavigationContainer() : null;\n\n        // When the container is the viewport of a browsing context\n        if (!parentContainer && window.location !== window.parent.location) {\n            parentContainer = window.parent.document.documentElement;\n        }\n\n        if (getCSSSpatNavAction(container) === 'scroll') {\n            if (scrollingController(container, dir)) return;\n        } else if (getCSSSpatNavAction(container) === 'focus') {\n            navigateChain(eventTarget, container, parentContainer, dir, 'all');\n        } else if (getCSSSpatNavAction(container) === 'auto') {\n            navigateChain(eventTarget, container, parentContainer, dir, 'visible');\n        }\n    }\n\n    /**\n     * Move the focus to the best candidate or do nothing.\n     * @function focusingController\n     * @param bestCandidate {Node} - The best candidate of the spatial navigation\n     * @param dir {SpatialNavigationDirection}- The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function focusingController(bestCandidate, dir) {\n        // 10 & 11\n        // When bestCandidate is found\n        if (bestCandidate) {\n            // When bestCandidate is a focusable element and not a container : move focus\n            /*\n             * [event] navbeforefocus : Fired before spatial or sequential navigation changes the focus.\n             */\n            if (!createSpatNavEvents('beforefocus', bestCandidate, null, dir)) return true;\n\n            const container = bestCandidate.getSpatialNavigationContainer();\n\n            if (container !== window && getCSSSpatNavAction(container) === 'focus') {\n                bestCandidate.focus();\n            } else {\n                bestCandidate.focus({ preventScroll: true });\n            }\n\n            startingPoint = null;\n            return true;\n        }\n\n        // When bestCandidate is not found within the scrollport of a container: Nothing\n        return false;\n    }\n\n    /**\n     * Directionally scroll the scrollable spatial navigation container if it can be manually scrolled more.\n     * @function scrollingController\n     * @param container {Node} - The spatial navigation container which can scroll\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function scrollingController(container, dir) {\n        // If there is any scrollable area among parent elements and it can be manually scrolled, scroll the document\n        if (isScrollable(container, dir) && !isScrollBoundary(container, dir)) {\n            moveScroll(container, dir);\n            return true;\n        }\n\n        // If the spatnav container is document and it can be scrolled, scroll the document\n        if (!container.parentElement && !isHTMLScrollBoundary(container, dir)) {\n            moveScroll(container.ownerDocument.documentElement, dir);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Find the candidates within a spatial navigation container include delegable container.\n     * This function does not search inside delegable container or focusable container.\n     * In other words, this return candidates set is not included focusable elements inside delegable container or focusable container.\n     *\n     * @function getSpatialNavigationCandidates\n     * @param container {Node} - The spatial navigation container\n     * @param option {FocusableAreasOptions} - 'mode' attribute takes 'visible' or 'all' for searching the boundary of focusable elements.\n     *                                          Default value is 'visible'.\n     * @returns {sequence<Node>} candidate elements within the container\n     */\n    function getSpatialNavigationCandidates(container, option = { mode: 'visible' }) {\n        let candidates = [];\n\n        if (container.childElementCount > 0) {\n            if (!container.parentElement) {\n                container = container.getElementsByTagName('body')[0] || document.body;\n            }\n            const children = container.children;\n            for (const elem of children) {\n                if (isDelegableContainer(elem)) {\n                    candidates.push(elem);\n                } else if (isFocusable(elem)) {\n                    candidates.push(elem);\n\n                    if (!isContainer(elem) && elem.childElementCount) {\n                        candidates = candidates.concat(getSpatialNavigationCandidates(elem, { mode: 'all' }));\n                    }\n                } else if (elem.childElementCount) {\n                    candidates = candidates.concat(getSpatialNavigationCandidates(elem, { mode: 'all' }));\n                }\n            }\n        }\n\n        //   console.log(candidates)\n        return option.mode === 'all' ? candidates : candidates.filter(isVisible);\n    }\n\n    /**\n     * Find the candidates among focusable elements within a spatial navigation container from the search origin (currently focused element)\n     * depending on the directional information.\n     * @function getFilteredSpatialNavigationCandidates\n     * @param element {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation without the directional information\n     * @param container {Node} - The spatial navigation container\n     * @returns {Node} The candidates for spatial navigation considering the directional information\n     */\n    function getFilteredSpatialNavigationCandidates(element, dir, candidates, container) {\n        const targetElement = element;\n        // Removed below line due to a bug. (iframe body rect is sometime weird.)\n        // const targetElement = (element.nodeName === 'IFRAME') ? element.contentDocument.body : element;\n        // If the container is unknown, get the closest container from the element\n        container = container || targetElement.getSpatialNavigationContainer();\n\n        // If the candidates is unknown, find candidates\n        // 5-1\n        candidates = !candidates || candidates.length <= 0 ? getSpatialNavigationCandidates(container) : candidates;\n        return filteredCandidates(targetElement, candidates, dir, container);\n    }\n\n    /**\n     * Find the best candidate among the candidates within the container from the search origin (currently focused element)\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-spatialnavigationsearch}\n     * @function spatialNavigationSearch\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param container {Node} - The spatial navigation container\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function spatialNavigationSearch(dir, args) {\n        const targetElement = this;\n        let internalCandidates = [];\n        let externalCandidates = [];\n        let insideOverlappedCandidates = getOverlappedCandidates(targetElement);\n        let bestTarget;\n\n        // Set default parameter value\n        if (!args) args = {};\n\n        const defaultContainer = targetElement.getSpatialNavigationContainer();\n        let defaultCandidates = getSpatialNavigationCandidates(defaultContainer);\n        const container = args.container || defaultContainer;\n        if (args.container && defaultContainer.contains(args.container)) {\n            defaultCandidates = defaultCandidates.concat(getSpatialNavigationCandidates(container));\n        }\n        const candidates =\n            args.candidates && args.candidates.length > 0\n                ? args.candidates.filter((candidate) => container.contains(candidate))\n                : defaultCandidates.filter((candidate) => container.contains(candidate) && container !== candidate);\n\n        // Find the best candidate\n        // 5\n        // If startingPoint is either a scroll container or the document,\n        // find the best candidate within startingPoint\n        if (candidates && candidates.length > 0) {\n            // Divide internal or external candidates\n            candidates.forEach((candidate) => {\n                if (candidate !== targetElement) {\n                    (targetElement.contains(candidate) && targetElement !== candidate\n                        ? internalCandidates\n                        : externalCandidates\n                    ).push(candidate);\n                }\n            });\n\n            // include overlapped element to the internalCandidates\n            let fullyOverlapped = insideOverlappedCandidates.filter(\n                (candidate) => !internalCandidates.includes(candidate),\n            );\n            let overlappedContainer = candidates.filter(\n                (candidate) => isContainer(candidate) && isEntirelyVisible(targetElement, candidate),\n            );\n            let overlappedByParent = overlappedContainer\n                .map((elm) => elm.focusableAreas())\n                .flat()\n                .filter((candidate) => candidate !== targetElement);\n\n            internalCandidates = internalCandidates\n                .concat(fullyOverlapped)\n                .filter((candidate) => container.contains(candidate));\n            externalCandidates = externalCandidates\n                .concat(overlappedByParent)\n                .filter((candidate) => container.contains(candidate));\n\n            // Filter external Candidates\n            if (externalCandidates.length > 0) {\n                externalCandidates = getFilteredSpatialNavigationCandidates(\n                    targetElement,\n                    dir,\n                    externalCandidates,\n                    container,\n                );\n            }\n\n            // If there isn't search origin element but search orgin rect exist  (search origin isn't in the layout case)\n            if (searchOriginRect) {\n                bestTarget = selectBestCandidate(\n                    targetElement,\n                    getFilteredSpatialNavigationCandidates(targetElement, dir, internalCandidates, container),\n                    dir,\n                );\n            }\n\n            if (internalCandidates && internalCandidates.length > 0 && !(targetElement.nodeName === 'INPUT')) {\n                bestTarget = selectBestCandidateFromEdge(targetElement, internalCandidates, dir);\n            }\n\n            bestTarget = bestTarget || selectBestCandidate(targetElement, externalCandidates, dir);\n\n            if (bestTarget && isDelegableContainer(bestTarget)) {\n                // if best target is delegable container, then find descendants candidate inside delegable container.\n                const innerTarget = getSpatialNavigationCandidates(bestTarget, {\n                    mode: 'all',\n                });\n                const descendantsBest =\n                    innerTarget.length > 0\n                        ? targetElement.spatialNavigationSearch(dir, {\n                              candidates: innerTarget,\n                              container: bestTarget,\n                          })\n                        : null;\n                if (descendantsBest) {\n                    bestTarget = descendantsBest;\n                } else if (!isFocusable(bestTarget)) {\n                    // if there is no target inside bestTarget and delegable container is not focusable,\n                    // then try to find another best target without curren best target.\n                    candidates.splice(candidates.indexOf(bestTarget), 1);\n                    bestTarget = candidates.length\n                        ? targetElement.spatialNavigationSearch(dir, {\n                              candidates: candidates,\n                              container: container,\n                          })\n                        : null;\n                }\n            }\n            return bestTarget;\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the filtered candidate among candidates.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate}\n     * @function filteredCandidates\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param container {Node} - The spatial navigation container\n     * @returns {sequence<Node>} The filtered candidates which are not the search origin and not in the given spatial navigation direction from the search origin\n     */\n    // TODO: Need to fix filtering the candidates with more clean code\n    function filteredCandidates(currentElm, candidates, dir, container) {\n        const originalContainer = currentElm.getSpatialNavigationContainer();\n        let eventTargetRect;\n\n        // If D(dir) is null, let candidates be the same as visibles\n        if (dir === undefined) return candidates;\n\n        // Offscreen handling when originalContainer is not <HTML>\n        if (originalContainer.parentElement && container !== originalContainer && !isVisible(currentElm)) {\n            eventTargetRect = getBoundingClientRect(originalContainer);\n        } else {\n            eventTargetRect = searchOriginRect || getBoundingClientRect(currentElm);\n        }\n\n        /*\n         * Else, let candidates be the subset of the elements in visibles\n         * whose principal box’s geometric center is within the closed half plane\n         * whose boundary goes through the geometric center of starting point and is perpendicular to D.\n         */\n        if ((isContainer(currentElm) || currentElm.nodeName === 'BODY') && !(currentElm.nodeName === 'INPUT')) {\n            return candidates.filter((candidate) => {\n                const candidateRect = getBoundingClientRect(candidate);\n                return (\n                    container.contains(candidate) &&\n                    ((currentElm.contains(candidate) &&\n                        isInside(eventTargetRect, candidateRect) &&\n                        candidate !== currentElm) ||\n                        isOutside(candidateRect, eventTargetRect, dir))\n                );\n            });\n        } else {\n            return candidates.filter((candidate) => {\n                const candidateRect = getBoundingClientRect(candidate);\n                const candidateBody = candidate.nodeName === 'IFRAME' ? candidate.contentDocument.body : null;\n                return (\n                    container.contains(candidate) &&\n                    candidate !== currentElm &&\n                    candidateBody !== currentElm &&\n                    isOutside(candidateRect, eventTargetRect, dir) &&\n                    !isInside(eventTargetRect, candidateRect)\n                );\n            });\n        }\n    }\n\n    /**\n     * Select the best candidate among given candidates.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate}\n     * @function selectBestCandidate\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function selectBestCandidate(currentElm, candidates, dir) {\n        const container = currentElm.getSpatialNavigationContainer();\n        const spatialNavigationFunction = getComputedStyle(container).getPropertyValue('--spatial-navigation-function');\n        const currentTargetRect = searchOriginRect || getBoundingClientRect(currentElm);\n        let distanceFunction;\n        let alignedCandidates;\n\n        switch (spatialNavigationFunction) {\n            case 'grid':\n                alignedCandidates = candidates.filter((elm) =>\n                    isAligned(currentTargetRect, getBoundingClientRect(elm), dir),\n                );\n                if (alignedCandidates.length > 0) {\n                    candidates = alignedCandidates;\n                }\n                distanceFunction = getAbsoluteDistance;\n                break;\n            default:\n                distanceFunction = getDistance;\n                break;\n        }\n        return getClosestElement(currentElm, candidates, dir, distanceFunction);\n    }\n\n    /**\n     * Select the best candidate among candidates by finding the closet candidate from the edge of the currently focused element (search origin).\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate (Step 5)}\n     * @function selectBestCandidateFromEdge\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function selectBestCandidateFromEdge(currentElm, candidates, dir) {\n        if (startingPoint) return getClosestElement(currentElm, candidates, dir, getDistanceFromPoint);\n        else return getClosestElement(currentElm, candidates, dir, getInnerDistance);\n    }\n\n    /**\n     * Select the closest candidate from the currently focused element (search origin) among candidates by using the distance function.\n     * @function getClosestElement\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param distanceFunction {function} - The distance function which measures the distance from the search origin to each candidate\n     * @returns {Node} The candidate which is the closest one from the search origin\n     */\n    function getClosestElement(currentElm, candidates, dir, distanceFunction) {\n        let eventTargetRect = null;\n        if (\n            window.location !== window.parent.location &&\n            (currentElm.nodeName === 'BODY' || currentElm.nodeName === 'HTML')\n        ) {\n            // If the eventTarget is iframe, then get rect of it based on its containing document\n            // Set the iframe's position as (0,0) because the rects of elements inside the iframe don't know the real iframe's position.\n            eventTargetRect = window.frameElement.getBoundingClientRect();\n            eventTargetRect.x = 0;\n            eventTargetRect.y = 0;\n        } else {\n            eventTargetRect = searchOriginRect || currentElm.getBoundingClientRect();\n        }\n\n        let minDistance = Number.POSITIVE_INFINITY;\n        let minDistanceElements = [];\n\n        if (candidates) {\n            for (let i = 0; i < candidates.length; i++) {\n                const distance = distanceFunction(eventTargetRect, getBoundingClientRect(candidates[i]), dir);\n\n                // If the same distance, the candidate will be selected in the DOM order\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    minDistanceElements = [candidates[i]];\n                } else if (distance === minDistance) {\n                    minDistanceElements.push(candidates[i]);\n                }\n            }\n        }\n        if (minDistanceElements.length === 0) return null;\n\n        return minDistanceElements.length > 1 && distanceFunction === getAbsoluteDistance\n            ? getClosestElement(currentElm, minDistanceElements, dir, getEuclideanDistance)\n            : minDistanceElements[0];\n    }\n\n    /**\n     * Get container of an element.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-getspatialnavigationcontainer}\n     * @module Element\n     * @function getSpatialNavigationContainer\n     * @returns {Node} The spatial navigation container\n     */\n    function getSpatialNavigationContainer() {\n        let container = this;\n\n        do {\n            if (!container.parentElement) {\n                if (window.location !== window.parent.location) {\n                    container = window.parent.document.documentElement;\n                } else {\n                    container = window.document.documentElement;\n                }\n                break;\n            } else {\n                container = container.parentElement;\n            }\n\n            // console.log(container, isContainer(container));\n        } while (!isContainer(container));\n        return container;\n    }\n\n    /**\n     * Get nearest scroll container of an element.\n     * @function getScrollContainer\n     * @param Element\n     * @returns {Node} The spatial navigation container\n     */\n    function getScrollContainer(element) {\n        let scrollContainer = element;\n\n        do {\n            if (!scrollContainer.parentElement) {\n                if (window.location !== window.parent.location) {\n                    scrollContainer = window.parent.document.documentElement;\n                } else {\n                    scrollContainer = window.document.documentElement;\n                }\n                break;\n            } else {\n                scrollContainer = scrollContainer.parentElement;\n            }\n        } while (!isScrollContainer(scrollContainer) || !isVisible(scrollContainer));\n\n        if (scrollContainer === document || scrollContainer === document.documentElement) {\n            scrollContainer = window;\n        }\n\n        return scrollContainer;\n    }\n\n    /**\n     * Find focusable elements within the spatial navigation container.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-focusableareas}\n     * @function focusableAreas\n     * @param option {FocusableAreasOptions} - 'mode' attribute takes 'visible' or 'all' for searching the boundary of focusable elements.\n     *                                          Default value is 'visible'.\n     * @returns {sequence<Node>} All focusable elements or only visible focusable elements within the container\n     */\n    function focusableAreas(option = { mode: 'visible' }) {\n        const container = this.parentElement ? this : document.body;\n        const focusables = Array.prototype.filter.call(container.getElementsByTagName('*'), isFocusable);\n        return option.mode === 'all' ? focusables : focusables.filter(isVisible);\n    }\n\n    /**\n     * Create the NavigationEvent: navbeforefocus, navnotarget\n     * @see {@link https://drafts.csswg.org/css-nav-1/#events-navigationevent}\n     * @function createSpatNavEvents\n     * @param option {string} - Type of the navigation event (beforefocus, notarget)\n     * @param element {Node} - The target element of the event\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function createSpatNavEvents(eventType, containerElement, currentElement, direction) {\n        if (['beforefocus', 'notarget'].includes(eventType)) {\n            const data = {\n                causedTarget: currentElement,\n                dir: direction,\n            };\n            const triggeredEvent = new CustomEvent('nav' + eventType, {\n                bubbles: true,\n                cancelable: true,\n                detail: data,\n            });\n            return containerElement.dispatchEvent(triggeredEvent);\n        }\n    }\n\n    /**\n     * Get the value of the CSS custom property of the element\n     * @function readCssVar\n     * @param element {Node}\n     * @param varName {string} - The name of the css custom property without '--'\n     * @returns {string} The value of the css custom property\n     */\n    function readCssVar(element, varName) {\n        return getComputedStyle(element).getPropertyValue(`--${varName}`).trim();\n    }\n\n    /**\n     * Decide whether or not the 'contain' value is given to 'spatial-navigation-contain' css property of an element\n     * @function isCSSSpatNavContain\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isCSSSpatNavContain(element) {\n        return readCssVar(element, 'spatial-navigation-contain') === 'contain';\n    }\n\n    /**\n     * Return the value of 'spatial-navigation-action' css property of an element\n     * @function getCSSSpatNavAction\n     * @param element {Node} - would be the spatial navigation container\n     * @returns {string} auto | focus | scroll\n     */\n    function getCSSSpatNavAction(element) {\n        return 'focus';\n        //   return readCssVar(element, 'spatial-navigation-action') || 'auto';\n    }\n\n    /**\n     * Only move the focus with spatial navigation. Manually scrolling isn't available.\n     * @function navigateChain\n     * @param eventTarget {Node} - currently focused element\n     * @param container {SpatialNavigationContainer} - container\n     * @param parentContainer {SpatialNavigationContainer} - parent container\n     * @param option - visible || all\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function navigateChain(eventTarget, container, parentContainer, dir, option) {\n        let currentOption = {\n            candidates: getSpatialNavigationCandidates(container, { mode: option }),\n            container,\n        };\n        //   console.log(currentOption)\n\n        while (parentContainer) {\n            if (focusingController(eventTarget.spatialNavigationSearch(dir, currentOption), dir)) {\n                return;\n            } else {\n                if (option === 'visible' && scrollingController(container, dir)) return;\n                else {\n                    if (!createSpatNavEvents('notarget', container, eventTarget, dir)) return;\n\n                    // find the container\n                    if (container === document || container === document.documentElement) {\n                        if (window.location !== window.parent.location) {\n                            // The page is in an iframe. eventTarget needs to be reset because the position of the element in the iframe\n                            eventTarget = window.frameElement;\n                            container = eventTarget.ownerDocument.documentElement;\n                        }\n                    } else {\n                        container = parentContainer;\n                    }\n                    currentOption = {\n                        candidates: getSpatialNavigationCandidates(container, {\n                            mode: option,\n                        }),\n                        container,\n                    };\n                    let nextContainer = container.getSpatialNavigationContainer();\n\n                    if (nextContainer !== container) {\n                        parentContainer = nextContainer;\n                    } else {\n                        parentContainer = null;\n                    }\n                }\n            }\n        }\n\n        currentOption = {\n            candidates: getSpatialNavigationCandidates(container, { mode: option }),\n            container,\n        };\n\n        // Behavior after 'navnotarget' - Getting out from the current spatnav container\n        if (\n            !parentContainer &&\n            container &&\n            focusingController(eventTarget.spatialNavigationSearch(dir, currentOption), dir)\n        )\n            return;\n\n        if (!createSpatNavEvents('notarget', currentOption.container, eventTarget, dir)) return;\n\n        if (getCSSSpatNavAction(container) === 'auto' && option === 'visible') {\n            if (scrollingController(container, dir)) return;\n        }\n    }\n\n    /**\n     * Find search origin\n     * @see {@link https://drafts.csswg.org/css-nav-1/#nav}\n     * @function findSearchOrigin\n     * @returns {Node} The search origin for the spatial navigation\n     */\n    function findSearchOrigin() {\n        let searchOrigin = document.activeElement;\n\n        if (!searchOrigin || (searchOrigin === document.body && !document.querySelector(':focus'))) {\n            // When the previous search origin lost its focus by blur: (1) disable attribute (2) visibility: hidden\n            if (savedSearchOrigin.element && searchOrigin !== savedSearchOrigin.element) {\n                const elementStyle = window.getComputedStyle(savedSearchOrigin.element, null);\n                const invisibleStyle = ['hidden', 'collapse'];\n\n                if (\n                    savedSearchOrigin.element.disabled ||\n                    invisibleStyle.includes(elementStyle.getPropertyValue('visibility'))\n                ) {\n                    searchOrigin = savedSearchOrigin.element;\n                    return searchOrigin;\n                }\n            }\n            searchOrigin = document.documentElement;\n        }\n        // When the previous search origin lost its focus by blur: (1) display:none () element size turned into zero\n        if (\n            savedSearchOrigin.element &&\n            (getBoundingClientRect(savedSearchOrigin.element).height === 0 ||\n                getBoundingClientRect(savedSearchOrigin.element).width === 0)\n        ) {\n            (startingPoint = (savedSearchOrigin.left + savedSearchOrigin.right) / 2),\n                (savedSearchOrigin.top + savedSearchOrigin.bottom) / 2;\n            // searchOriginRect = savedSearchOrigin.rect;\n        }\n\n        if (!isVisibleInScroller(searchOrigin)) {\n            const scroller = getScrollContainer(searchOrigin);\n            if (scroller && (scroller === window || getCSSSpatNavAction(scroller) === 'auto')) return scroller;\n        }\n        return searchOrigin;\n    }\n\n    /**\n     * Move the scroll of an element depending on the given spatial navigation directrion\n     * (Assume that User Agent defined distance is '40px')\n     * @see {@link https://drafts.csswg.org/css-nav-1/#directionally-scroll-an-element}\n     * @function moveScroll\n     * @param element {Node} - The scrollable element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param offset {Number} - The explicit amount of offset for scrolling. Default value is 0.\n     */\n    function moveScroll(element, dir, offset = 0) {\n        if (element) {\n            switch (dir) {\n                case 'left':\n                    element.scrollLeft -= 40 + offset;\n                    break;\n                case 'right':\n                    element.scrollLeft += 40 + offset;\n                    break;\n                case 'up':\n                    element.scrollTop -= 40 + offset;\n                    break;\n                case 'down':\n                    element.scrollTop += 40 + offset;\n                    break;\n            }\n        }\n    }\n\n    /**\n     * Decide whether an element is container or not.\n     * @function isContainer\n     * @param element {Node} element\n     * @returns {boolean}\n     */\n    function isContainer(element) {\n        return (\n            !element.parentElement ||\n            element.nodeName === 'IFRAME' ||\n            isScrollContainer(element) ||\n            isCSSSpatNavContain(element)\n        );\n    }\n\n    /**\n     * Decide whether an element is delegable container or not.\n     * NOTE: THIS IS NON-NORMATIVE API.\n     * @function isDelegableContainer\n     * @param element {Node} element\n     * @returns {boolean}\n     */\n    function isDelegableContainer(element) {\n        return readCssVar(element, 'spatial-navigation-contain') === 'delegable';\n    }\n\n    /**\n     * Decide whether an element is a scrollable container or not.\n     * @see {@link https://drafts.csswg.org/css-overflow-3/#scroll-container}\n     * @function isScrollContainer\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isScrollContainer(element) {\n        const elementStyle = window.getComputedStyle(element, null);\n        const overflowX = elementStyle.getPropertyValue('overflow-x');\n        const overflowY = elementStyle.getPropertyValue('overflow-y');\n\n        return (overflowX !== 'visible' && overflowX !== 'clip' && isOverflow(element, 'left')) ||\n            (overflowY !== 'visible' && overflowY !== 'clip' && isOverflow(element, 'down'))\n            ? true\n            : false;\n    }\n\n    /**\n     * Decide whether this element is scrollable or not.\n     * NOTE: If the value of 'overflow' is given to either 'visible', 'clip', or 'hidden', the element isn't scrollable.\n     *       If the value is 'hidden', the element can be only programmically scrollable. (https://drafts.csswg.org/css-overflow-3/#valdef-overflow-hidden)\n     * @function isScrollable\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isScrollable(element, dir) {\n        // element, dir\n        if (element && typeof element === 'object') {\n            if (dir && typeof dir === 'string') {\n                // parameter: dir, element\n                if (isOverflow(element, dir)) {\n                    // style property\n                    const elementStyle = window.getComputedStyle(element, null);\n                    const overflowX = elementStyle.getPropertyValue('overflow-x');\n                    const overflowY = elementStyle.getPropertyValue('overflow-y');\n\n                    switch (dir) {\n                        case 'left':\n                        /* falls through */\n                        case 'right':\n                            return overflowX !== 'visible' && overflowX !== 'clip' && overflowX !== 'hidden';\n                        case 'up':\n                        /* falls through */\n                        case 'down':\n                            return overflowY !== 'visible' && overflowY !== 'clip' && overflowY !== 'hidden';\n                    }\n                }\n                return false;\n            } else {\n                // parameter: element\n                return (\n                    element.nodeName === 'HTML' ||\n                    element.nodeName === 'BODY' ||\n                    (isScrollContainer(element) && isOverflow(element))\n                );\n            }\n        }\n    }\n\n    /**\n     * Decide whether an element is overflow or not.\n     * @function isOverflow\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isOverflow(element, dir) {\n        if (element && typeof element === 'object') {\n            if (dir && typeof dir === 'string') {\n                // parameter: element, dir\n                switch (dir) {\n                    case 'left':\n                    /* falls through */\n                    case 'right':\n                        return element.scrollWidth > element.clientWidth;\n                    case 'up':\n                    /* falls through */\n                    case 'down':\n                        return element.scrollHeight > element.clientHeight;\n                }\n            } else {\n                // parameter: element\n                return element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight;\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Decide whether the scrollbar of the browsing context reaches to the end or not.\n     * @function isHTMLScrollBoundary\n     * @param element {Node} - The top browsing context\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isHTMLScrollBoundary(element, dir) {\n        let result = false;\n        switch (dir) {\n            case 'left':\n                result = element.scrollLeft === 0;\n                break;\n            case 'right':\n                result = element.scrollWidth - element.scrollLeft - element.clientWidth === 0;\n                break;\n            case 'up':\n                result = element.scrollTop === 0;\n                break;\n            case 'down':\n                result = element.scrollHeight - element.scrollTop - element.clientHeight === 0;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Decide whether the scrollbar of an element reaches to the end or not.\n     * @function isScrollBoundary\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isScrollBoundary(element, dir) {\n        if (isScrollable(element, dir)) {\n            const winScrollY = element.scrollTop;\n            const winScrollX = element.scrollLeft;\n\n            const height = element.scrollHeight - element.clientHeight;\n            const width = element.scrollWidth - element.clientWidth;\n\n            switch (dir) {\n                case 'left':\n                    return winScrollX === 0;\n                case 'right':\n                    return Math.abs(winScrollX - width) <= 1;\n                case 'up':\n                    return winScrollY === 0;\n                case 'down':\n                    return Math.abs(winScrollY - height) <= 1;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Decide whether an element is inside the scorller viewport or not\n     *\n     * @function isVisibleInScroller\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isVisibleInScroller(element) {\n        const elementRect = element.getBoundingClientRect();\n        let nearestScroller = getScrollContainer(element);\n\n        let scrollerRect = null;\n        if (nearestScroller !== window) {\n            scrollerRect = getBoundingClientRect(nearestScroller);\n        } else {\n            scrollerRect = new DOMRect(0, 0, window.innerWidth, window.innerHeight);\n        }\n\n        if (isInside(scrollerRect, elementRect, 'left') && isInside(scrollerRect, elementRect, 'down')) return true;\n        else return false;\n    }\n\n    /**\n     * Decide whether an element is focusable for spatial navigation.\n     * 1. If element is the browsing context (document, iframe), then it's focusable,\n     * 2. If the element is scrollable container (regardless of scrollable axis), then it's focusable,\n     * 3. The value of tabIndex >= 0, then it's focusable,\n     * 4. If the element is disabled, it isn't focusable,\n     * 5. If the element is expressly inert, it isn't focusable,\n     * 6. Whether the element is being rendered or not.\n     *\n     * @function isFocusable\n     * @param element {Node}\n     * @returns {boolean}\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/interaction.html#focusable-area}\n     */\n    function isFocusable(element) {\n        if (\n            element.tabIndex < 0 ||\n            isAtagWithoutHref(element) ||\n            isActuallyDisabled(element) ||\n            isExpresslyInert(element) ||\n            !isBeingRendered(element)\n        )\n            return false;\n        else if (!element.parentElement || (isScrollable(element) && isOverflow(element)) || element.tabIndex >= 0)\n            return true;\n    }\n\n    /**\n     * Decide whether an element is a tag without href attribute or not.\n     *\n     * @function isAtagWithoutHref\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isAtagWithoutHref(element) {\n        return (\n            element.tagName === 'A' &&\n            element.getAttribute('href') === null &&\n            element.getAttribute('tabIndex') === null\n        );\n    }\n\n    /**\n     * Decide whether an element is actually disabled or not.\n     *\n     * @function isActuallyDisabled\n     * @param element {Node}\n     * @returns {boolean}\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/semantics-other.html#concept-element-disabled}\n     */\n    function isActuallyDisabled(element) {\n        if (['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'OPTGROUP', 'OPTION', 'FIELDSET'].includes(element.tagName))\n            return element.disabled;\n        else return false;\n    }\n\n    /**\n     * Decide whether the element is expressly inert or not.\n     * @see {@link https://html.spec.whatwg.org/multipage/interaction.html#expressly-inert}\n     * @function isExpresslyInert\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isExpresslyInert(element) {\n        return element.inert && !element.ownerDocument.documentElement.inert;\n    }\n\n    /**\n     * Decide whether the element is being rendered or not.\n     * 1. If an element has the style as \"visibility: hidden | collapse\" or \"display: none\", it is not being rendered.\n     * 2. If an element has the style as \"opacity: 0\", it is not being rendered.(that is, invisible).\n     * 3. If width and height of an element are explicitly set to 0, it is not being rendered.\n     * 4. If a parent element is hidden, an element itself is not being rendered.\n     * (CSS visibility property and display property are inherited.)\n     * @see {@link https://html.spec.whatwg.org/multipage/rendering.html#being-rendered}\n     * @function isBeingRendered\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isBeingRendered(element) {\n        if (!isVisibleStyleProperty(element.parentElement)) return false;\n        if (\n            !isVisibleStyleProperty(element) ||\n            element.style.opacity === '0' ||\n            window.getComputedStyle(element).height === '0px' ||\n            window.getComputedStyle(element).width === '0px'\n        )\n            return false;\n        return true;\n    }\n\n    /**\n     * Decide whether this element is partially or completely visible to user agent.\n     * @function isVisible\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isVisible(element) {\n        return !element.parentElement || (isVisibleStyleProperty(element) && hitTest(element));\n    }\n\n    /**\n     * Decide whether this element is completely visible in this viewport for the arrow direction.\n     * @function isEntirelyVisible\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isEntirelyVisible(element, container) {\n        const rect = getBoundingClientRect(element);\n        const containerElm = container || element.getSpatialNavigationContainer();\n        const containerRect = getBoundingClientRect(containerElm);\n\n        // FIXME: when element is bigger than container?\n        const entirelyVisible = !(\n            rect.left < containerRect.left ||\n            rect.right > containerRect.right ||\n            rect.top < containerRect.top ||\n            rect.bottom > containerRect.bottom\n        );\n\n        return entirelyVisible;\n    }\n\n    /**\n     * Decide the style property of this element is specified whether it's visible or not.\n     * @function isVisibleStyleProperty\n     * @param element {CSSStyleDeclaration}\n     * @returns {boolean}\n     */\n    function isVisibleStyleProperty(element) {\n        const elementStyle = window.getComputedStyle(element, null);\n        const thisVisibility = elementStyle.getPropertyValue('visibility');\n        const thisDisplay = elementStyle.getPropertyValue('display');\n        const invisibleStyle = ['hidden', 'collapse'];\n\n        return thisDisplay !== 'none' && !invisibleStyle.includes(thisVisibility);\n    }\n\n    /**\n     * Decide whether this element is entirely or partially visible within the viewport.\n     * @function hitTest\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function hitTest(element) {\n        const elementRect = getBoundingClientRect(element);\n        if (\n            element.nodeName !== 'IFRAME' &&\n            (elementRect.top < 0 ||\n                elementRect.left < 0 ||\n                elementRect.top > element.ownerDocument.documentElement.clientHeight ||\n                elementRect.left > element.ownerDocument.documentElement.clientWidth)\n        )\n            return false;\n\n        let offsetX = parseInt(element.offsetWidth) / 10;\n        let offsetY = parseInt(element.offsetHeight) / 10;\n\n        offsetX = isNaN(offsetX) ? 1 : offsetX;\n        offsetY = isNaN(offsetY) ? 1 : offsetY;\n\n        const hitTestPoint = {\n            // For performance, just using the three point(middle, leftTop, rightBottom) of the element for hit testing\n            middle: [(elementRect.left + elementRect.right) / 2, (elementRect.top + elementRect.bottom) / 2],\n            leftTop: [elementRect.left + offsetX, elementRect.top + offsetY],\n            rightBottom: [elementRect.right - offsetX, elementRect.bottom - offsetY],\n        };\n\n        for (const point in hitTestPoint) {\n            const elemFromPoint = element.ownerDocument.elementFromPoint(...hitTestPoint[point]);\n            if (element === elemFromPoint || element.contains(elemFromPoint)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Decide whether a child element is entirely or partially Included within container visually.\n     * @function isInside\n     * @param containerRect {DOMRect}\n     * @param childRect {DOMRect}\n     * @returns {boolean}\n     */\n    function isInside(containerRect, childRect) {\n        const rightEdgeCheck = containerRect.left < childRect.right && containerRect.right >= childRect.right;\n        const leftEdgeCheck = containerRect.left <= childRect.left && containerRect.right > childRect.left;\n        const topEdgeCheck = containerRect.top <= childRect.top && containerRect.bottom > childRect.top;\n        const bottomEdgeCheck = containerRect.top < childRect.bottom && containerRect.bottom >= childRect.bottom;\n        return (rightEdgeCheck || leftEdgeCheck) && (topEdgeCheck || bottomEdgeCheck);\n    }\n\n    /**\n     * Decide whether this element is entirely or partially visible within the viewport.\n     * Note: rect1 is outside of rect2 for the dir\n     * @function isOutside\n     * @param rect1 {DOMRect}\n     * @param rect2 {DOMRect}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isOutside(rect1, rect2, dir) {\n        switch (dir) {\n            case 'left':\n                return isRightSide(rect2, rect1);\n            case 'right':\n                return isRightSide(rect1, rect2);\n            case 'up':\n                return isBelow(rect2, rect1);\n            case 'down':\n                return isBelow(rect1, rect2);\n            default:\n                return false;\n        }\n    }\n\n    /* rect1 is right of rect2 */\n    function isRightSide(rect1, rect2) {\n        return (\n            rect1.left >= rect2.right ||\n            (rect1.left >= rect2.left &&\n                rect1.right > rect2.right &&\n                rect1.bottom > rect2.top &&\n                rect1.top < rect2.bottom)\n        );\n    }\n\n    /* rect1 is below of rect2 */\n    function isBelow(rect1, rect2) {\n        return (\n            rect1.top >= rect2.bottom ||\n            (rect1.top >= rect2.top &&\n                rect1.bottom > rect2.bottom &&\n                rect1.left < rect2.right &&\n                rect1.right > rect2.left)\n        );\n    }\n\n    /* rect1 is completely aligned or partially aligned for the direction */\n    function isAligned(rect1, rect2, dir) {\n        switch (dir) {\n            case 'left':\n            /* falls through */\n            case 'right':\n                return rect1.bottom > rect2.top && rect1.top < rect2.bottom;\n            case 'up':\n            /* falls through */\n            case 'down':\n                return rect1.right > rect2.left && rect1.left < rect2.right;\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * Get distance between the search origin and a candidate element along the direction when candidate element is inside the search origin.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getDistanceFromPoint\n     * @param point {Point} - The search origin\n     * @param element {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The euclidian distance between the spatial navigation container and an element inside it\n     */\n    function getDistanceFromPoint(point, element, dir) {\n        point = startingPoint;\n        // Get exit point, entry point -> {x: '', y: ''};\n        const points = getEntryAndExitPoints(dir, point, element);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // The result is euclidian distance between P1 and P2.\n        return Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n    }\n\n    /**\n     * Get distance between the search origin and a candidate element along the direction when candidate element is inside the search origin.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getInnerDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The euclidean distance between the spatial navigation container and an element inside it\n     */\n    function getInnerDistance(rect1, rect2, dir) {\n        const baseEdgeForEachDirection = {\n            left: 'right',\n            right: 'left',\n            up: 'bottom',\n            down: 'top',\n        };\n        const baseEdge = baseEdgeForEachDirection[dir];\n\n        return Math.abs(rect1[baseEdge] - rect2[baseEdge]);\n    }\n\n    /**\n     * Get the distance between the search origin and a candidate element considering the direction.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#calculating-the-distance}\n     * @function getDistance\n     * @param searchOrigin {DOMRect | Point} - The search origin\n     * @param candidateRect {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getDistance(searchOrigin, candidateRect, dir) {\n        const kOrthogonalWeightForLeftRight = 30;\n        const kOrthogonalWeightForUpDown = 2;\n\n        let orthogonalBias = 0;\n        let alignBias = 0;\n        const alignWeight = 5.0;\n\n        // Get exit point, entry point -> {x: '', y: ''};\n        const points = getEntryAndExitPoints(dir, searchOrigin, candidateRect);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // A: The euclidean distance between P1 and P2.\n        const A = Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n        let B, C;\n\n        // B: The absolute distance in the direction which is orthogonal to dir between P1 and P2, or 0 if dir is null.\n        // C: The intersection edges between a candidate and the starting point.\n\n        // D: The square root of the area of intersection between the border boxes of candidate and starting point\n        const intersectionRect = getIntersectionRect(searchOrigin, candidateRect);\n        const D = intersectionRect.area;\n\n        switch (dir) {\n            case 'left':\n            /* falls through */\n            case 'right':\n                // If two elements are aligned, add align bias\n                // else, add orthogonal bias\n                if (isAligned(searchOrigin, candidateRect, dir))\n                    alignBias = Math.min(intersectionRect.height / searchOrigin.height, 1);\n                else orthogonalBias = searchOrigin.height / 2;\n\n                B = (P2 + orthogonalBias) * kOrthogonalWeightForLeftRight;\n                C = alignWeight * alignBias;\n                break;\n\n            case 'up':\n            /* falls through */\n            case 'down':\n                // If two elements are aligned, add align bias\n                // else, add orthogonal bias\n                if (isAligned(searchOrigin, candidateRect, dir))\n                    alignBias = Math.min(intersectionRect.width / searchOrigin.width, 1);\n                else orthogonalBias = searchOrigin.width / 2;\n\n                B = (P1 + orthogonalBias) * kOrthogonalWeightForUpDown;\n                C = alignWeight * alignBias;\n                break;\n\n            default:\n                B = 0;\n                C = 0;\n                break;\n        }\n\n        return A + B - C - D;\n    }\n\n    /**\n     * Get the euclidean distance between the search origin and a candidate element considering the direction.\n     * @function getEuclideanDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getEuclideanDistance(rect1, rect2, dir) {\n        // Get exit point, entry point\n        const points = getEntryAndExitPoints(dir, rect1, rect2);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // Return the euclidean distance between P1 and P2.\n        return Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n    }\n\n    /**\n     * Get the absolute distance between the search origin and a candidate element considering the direction.\n     * @function getAbsoluteDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getAbsoluteDistance(rect1, rect2, dir) {\n        // Get exit point, entry point\n        const points = getEntryAndExitPoints(dir, rect1, rect2);\n\n        // Return the absolute distance in the dir direction between P1 and P.\n        return dir === 'left' || dir === 'right'\n            ? Math.abs(points.entryPoint.x - points.exitPoint.x)\n            : Math.abs(points.entryPoint.y - points.exitPoint.y);\n    }\n\n    /**\n     * Get entry point and exit point of two elements considering the direction.\n     * @function getEntryAndExitPoints\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD). Default value for dir is 'down'.\n     * @param searchOrigin {DOMRect | Point} - The search origin which contains the exit point\n     * @param candidateRect {DOMRect} - One of candidates which contains the entry point\n     * @returns {Points} The exit point from the search origin and the entry point from a candidate\n     */\n    function getEntryAndExitPoints(dir = 'down', searchOrigin, candidateRect) {\n        /**\n         * User type definition for Point\n         * @typeof {Object} Points\n         * @property {Point} Points.entryPoint\n         * @property {Point} Points.exitPoint\n         */\n        const points = { entryPoint: { x: 0, y: 0 }, exitPoint: { x: 0, y: 0 } };\n\n        if (startingPoint) {\n            points.exitPoint = searchOrigin;\n\n            switch (dir) {\n                case 'left':\n                    points.entryPoint.x = candidateRect.right;\n                    break;\n                case 'up':\n                    points.entryPoint.y = candidateRect.bottom;\n                    break;\n                case 'right':\n                    points.entryPoint.x = candidateRect.left;\n                    break;\n                case 'down':\n                    points.entryPoint.y = candidateRect.top;\n                    break;\n            }\n\n            // Set orthogonal direction\n            switch (dir) {\n                case 'left':\n                case 'right':\n                    if (startingPoint.y <= candidateRect.top) {\n                        points.entryPoint.y = candidateRect.top;\n                    } else if (startingPoint.y < candidateRect.bottom) {\n                        points.entryPoint.y = startingPoint.y;\n                    } else {\n                        points.entryPoint.y = candidateRect.bottom;\n                    }\n                    break;\n\n                case 'up':\n                case 'down':\n                    if (startingPoint.x <= candidateRect.left) {\n                        points.entryPoint.x = candidateRect.left;\n                    } else if (startingPoint.x < candidateRect.right) {\n                        points.entryPoint.x = startingPoint.x;\n                    } else {\n                        points.entryPoint.x = candidateRect.right;\n                    }\n                    break;\n            }\n        } else {\n            // Set direction\n            switch (dir) {\n                case 'left':\n                    points.exitPoint.x = searchOrigin.left;\n                    points.entryPoint.x =\n                        candidateRect.right < searchOrigin.left ? candidateRect.right : searchOrigin.left;\n                    break;\n                case 'up':\n                    points.exitPoint.y = searchOrigin.top;\n                    points.entryPoint.y =\n                        candidateRect.bottom < searchOrigin.top ? candidateRect.bottom : searchOrigin.top;\n                    break;\n                case 'right':\n                    points.exitPoint.x = searchOrigin.right;\n                    points.entryPoint.x =\n                        candidateRect.left > searchOrigin.right ? candidateRect.left : searchOrigin.right;\n                    break;\n                case 'down':\n                    points.exitPoint.y = searchOrigin.bottom;\n                    points.entryPoint.y =\n                        candidateRect.top > searchOrigin.bottom ? candidateRect.top : searchOrigin.bottom;\n                    break;\n            }\n\n            // Set orthogonal direction\n            switch (dir) {\n                case 'left':\n                case 'right':\n                    if (isBelow(searchOrigin, candidateRect)) {\n                        points.exitPoint.y = searchOrigin.top;\n                        points.entryPoint.y =\n                            candidateRect.bottom < searchOrigin.top ? candidateRect.bottom : searchOrigin.top;\n                    } else if (isBelow(candidateRect, searchOrigin)) {\n                        points.exitPoint.y = searchOrigin.bottom;\n                        points.entryPoint.y =\n                            candidateRect.top > searchOrigin.bottom ? candidateRect.top : searchOrigin.bottom;\n                    } else {\n                        points.exitPoint.y = Math.max(searchOrigin.top, candidateRect.top);\n                        points.entryPoint.y = points.exitPoint.y;\n                    }\n                    break;\n\n                case 'up':\n                case 'down':\n                    if (isRightSide(searchOrigin, candidateRect)) {\n                        points.exitPoint.x = searchOrigin.left;\n                        points.entryPoint.x =\n                            candidateRect.right < searchOrigin.left ? candidateRect.right : searchOrigin.left;\n                    } else if (isRightSide(candidateRect, searchOrigin)) {\n                        points.exitPoint.x = searchOrigin.right;\n                        points.entryPoint.x =\n                            candidateRect.left > searchOrigin.right ? candidateRect.left : searchOrigin.right;\n                    } else {\n                        points.exitPoint.x = Math.max(searchOrigin.left, candidateRect.left);\n                        points.entryPoint.x = points.exitPoint.x;\n                    }\n                    break;\n            }\n        }\n\n        return points;\n    }\n\n    /**\n     * Find focusable elements within the container\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getIntersectionRect\n     * @param rect1 {DOMRect} - The search origin which contains the exit point\n     * @param rect2 {DOMRect} - One of candidates which contains the entry point\n     * @returns {IntersectionArea} The intersection area between two elements.\n     *\n     * @typeof {Object} IntersectionArea\n     * @property {Number} IntersectionArea.width\n     * @property {Number} IntersectionArea.height\n     */\n    function getIntersectionRect(rect1, rect2) {\n        const intersection_rect = { width: 0, height: 0, area: 0 };\n\n        const new_location = [Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)];\n        const new_max_point = [Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom)];\n\n        intersection_rect.width = Math.abs(new_location[0] - new_max_point[0]);\n        intersection_rect.height = Math.abs(new_location[1] - new_max_point[1]);\n\n        if (!(new_location[0] >= new_max_point[0] || new_location[1] >= new_max_point[1])) {\n            // intersecting-cases\n            intersection_rect.area = Math.sqrt(intersection_rect.width * intersection_rect.height);\n        }\n\n        return intersection_rect;\n    }\n\n    /**\n     * Handle the spatial navigation behavior for HTMLInputElement, HTMLTextAreaElement\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input|HTMLInputElement (MDN)}\n     * @function handlingEditableElement\n     * @param e {Event} - keydownEvent\n     * @returns {boolean}\n     */\n    function handlingEditableElement(e) {\n        const SPINNABLE_INPUT_TYPES = ['email', 'date', 'month', 'number', 'time', 'week'],\n            TEXT_INPUT_TYPES = ['password', 'text', 'search', 'tel', 'url', null];\n        const eventTarget = document.activeElement;\n        const startPosition = eventTarget.selectionStart;\n        const endPosition = eventTarget.selectionEnd;\n        const focusNavigableArrowKey = {\n            left: false,\n            up: false,\n            right: false,\n            down: false,\n        };\n\n        const dir = ARROW_KEY_CODE[e.keyCode];\n        if (dir === undefined) {\n            return focusNavigableArrowKey;\n        }\n\n        if (SPINNABLE_INPUT_TYPES.includes(eventTarget.getAttribute('type')) && (dir === 'up' || dir === 'down')) {\n            focusNavigableArrowKey[dir] = true;\n        } else if (TEXT_INPUT_TYPES.includes(eventTarget.getAttribute('type')) || eventTarget.nodeName === 'TEXTAREA') {\n            if (startPosition === endPosition) {\n                // if there isn't any selected text\n                if (startPosition === 0) {\n                    focusNavigableArrowKey.left = true;\n                    focusNavigableArrowKey.up = true;\n                }\n                if (endPosition === eventTarget.value.length) {\n                    focusNavigableArrowKey.right = true;\n                    focusNavigableArrowKey.down = true;\n                }\n            }\n        } else {\n            // HTMLDataListElement, HTMLSelectElement, HTMLOptGroup\n            focusNavigableArrowKey[dir] = true;\n        }\n\n        return focusNavigableArrowKey;\n    }\n\n    /**\n     * Get the DOMRect of an element\n     * @function getBoundingClientRect\n     * @param {Node} element\n     * @returns {DOMRect}\n     */\n    function getBoundingClientRect(element) {\n        // memoization\n        let rect = mapOfBoundRect && mapOfBoundRect.get(element);\n        if (!rect) {\n            const boundingClientRect = element.getBoundingClientRect();\n            rect = {\n                top: Number(boundingClientRect.top.toFixed(2)),\n                right: Number(boundingClientRect.right.toFixed(2)),\n                bottom: Number(boundingClientRect.bottom.toFixed(2)),\n                left: Number(boundingClientRect.left.toFixed(2)),\n                width: Number(boundingClientRect.width.toFixed(2)),\n                height: Number(boundingClientRect.height.toFixed(2)),\n            };\n            mapOfBoundRect && mapOfBoundRect.set(element, rect);\n        }\n        return rect;\n    }\n\n    /**\n     * Get the candidates which is fully inside the target element in visual\n     * @param {Node} targetElement\n     * @returns {sequence<Node>}  overlappedCandidates\n     */\n    function getOverlappedCandidates(targetElement) {\n        const container = targetElement.getSpatialNavigationContainer();\n        const candidates = container.focusableAreas();\n        const overlappedCandidates = [];\n\n        candidates.forEach((element) => {\n            if (targetElement !== element && isEntirelyVisible(element, targetElement)) {\n                overlappedCandidates.push(element);\n            }\n        });\n\n        return overlappedCandidates;\n    }\n\n    /**\n     * Get the list of the experimental APIs\n     * @function getExperimentalAPI\n     */\n    function getExperimentalAPI() {\n        function canScroll(container, dir) {\n            return (\n                (isScrollable(container, dir) && !isScrollBoundary(container, dir)) ||\n                (!container.parentElement && !isHTMLScrollBoundary(container, dir))\n            );\n        }\n\n        function findTarget(findCandidate, element, dir, option) {\n            let eventTarget = element;\n            let bestNextTarget = null;\n\n            // 4\n            if (eventTarget === document || eventTarget === document.documentElement) {\n                eventTarget = document.body || document.documentElement;\n            }\n\n            // 5\n            // At this point, spatialNavigationSearch can be applied.\n            // If startingPoint is either a scroll container or the document,\n            // find the best candidate within startingPoint\n            if ((isContainer(eventTarget) || eventTarget.nodeName === 'BODY') && !(eventTarget.nodeName === 'INPUT')) {\n                if (eventTarget.nodeName === 'IFRAME') eventTarget = eventTarget.contentDocument.body;\n\n                const candidates = getSpatialNavigationCandidates(eventTarget, option);\n\n                // 5-2\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    return findCandidate\n                        ? getFilteredSpatialNavigationCandidates(eventTarget, dir, candidates)\n                        : eventTarget.spatialNavigationSearch(dir, { candidates });\n                }\n                if (canScroll(eventTarget, dir)) {\n                    return findCandidate ? [] : eventTarget;\n                }\n            }\n\n            // 6\n            // Let container be the nearest ancestor of eventTarget\n            let container = eventTarget.getSpatialNavigationContainer();\n            let parentContainer = container.parentElement ? container.getSpatialNavigationContainer() : null;\n\n            // When the container is the viewport of a browsing context\n            if (!parentContainer && window.location !== window.parent.location) {\n                parentContainer = window.parent.document.documentElement;\n            }\n\n            // 7\n            while (parentContainer) {\n                const candidates = filteredCandidates(\n                    eventTarget,\n                    getSpatialNavigationCandidates(container, option),\n                    dir,\n                    container,\n                );\n\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    bestNextTarget = eventTarget.spatialNavigationSearch(dir, {\n                        candidates,\n                        container,\n                    });\n                    if (bestNextTarget) {\n                        return findCandidate ? candidates : bestNextTarget;\n                    }\n                }\n\n                // If there isn't any candidate and the best candidate among candidate:\n                // 1) Scroll or 2) Find candidates of the ancestor container\n                // 8 - if\n                else if (canScroll(container, dir)) {\n                    return findCandidate ? [] : eventTarget;\n                } else if (container === document || container === document.documentElement) {\n                    container = window.document.documentElement;\n\n                    // The page is in an iframe\n                    if (window.location !== window.parent.location) {\n                        // eventTarget needs to be reset because the position of the element in the IFRAME\n                        // is unuseful when the focus moves out of the iframe\n                        eventTarget = window.frameElement;\n                        container = window.parent.document.documentElement;\n                        if (container.parentElement) parentContainer = container.getSpatialNavigationContainer();\n                        else {\n                            parentContainer = null;\n                            break;\n                        }\n                    }\n                } else {\n                    // avoiding when spatnav container with tabindex=-1\n                    if (isFocusable(container)) {\n                        eventTarget = container;\n                    }\n\n                    container = parentContainer;\n                    if (container.parentElement) parentContainer = container.getSpatialNavigationContainer();\n                    else {\n                        parentContainer = null;\n                        break;\n                    }\n                }\n            }\n\n            if (!parentContainer && container) {\n                // Getting out from the current spatnav container\n                const candidates = filteredCandidates(\n                    eventTarget,\n                    getSpatialNavigationCandidates(container, option),\n                    dir,\n                    container,\n                );\n\n                // 9\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    bestNextTarget = eventTarget.spatialNavigationSearch(dir, {\n                        candidates,\n                        container,\n                    });\n                    if (bestNextTarget) {\n                        return findCandidate ? candidates : bestNextTarget;\n                    }\n                }\n            }\n\n            if (canScroll(container, dir)) {\n                bestNextTarget = eventTarget;\n                return bestNextTarget;\n            }\n        }\n\n        return {\n            isContainer,\n            isScrollContainer,\n            isVisibleInScroller,\n            findCandidates: findTarget.bind(null, true),\n            findNextTarget: findTarget.bind(null, false),\n            getDistanceFromTarget: (element, candidateElement, dir) => {\n                if ((isContainer(element) || element.nodeName === 'BODY') && !(element.nodeName === 'INPUT')) {\n                    if (getSpatialNavigationCandidates(element).includes(candidateElement)) {\n                        return getInnerDistance(\n                            getBoundingClientRect(element),\n                            getBoundingClientRect(candidateElement),\n                            dir,\n                        );\n                    }\n                }\n                return getDistance(getBoundingClientRect(element), getBoundingClientRect(candidateElement), dir);\n            },\n        };\n    }\n\n    /**\n     * Makes to use the experimental APIs.\n     * @function enableExperimentalAPIs\n     * @param option {boolean} - If it is true, the experimental APIs can be used or it cannot.\n     */\n    function enableExperimentalAPIs(option) {\n        const currentKeyMode = window.__spatialNavigation__ && window.__spatialNavigation__.keyMode;\n        window.__spatialNavigation__ =\n            option === false ? getInitialAPIs() : Object.assign(getInitialAPIs(), getExperimentalAPI());\n        window.__spatialNavigation__.keyMode = currentKeyMode;\n        Object.seal(window.__spatialNavigation__);\n    }\n\n    /**\n     * Set the environment for using the spatial navigation polyfill.\n     * @function getInitialAPIs\n     */\n    function getInitialAPIs() {\n        return {\n            enableExperimentalAPIs,\n            get keyMode() {\n                return this._keymode ? this._keymode : 'ARROW';\n            },\n            set keyMode(mode) {\n                this._keymode = ['SHIFTARROW', 'ARROW', 'NONE'].includes(mode) ? mode : 'ARROW';\n            },\n            setStartingPoint: function (x, y) {\n                startingPoint = x && y ? { x, y } : null;\n            },\n        };\n    }\n\n    initiateSpatialNavigation();\n    enableExperimentalAPIs(true);\n    spatialNavigationHandler();\n})();\n\nlet currentSpatialNavigationContainer = null;\n\ndocument.addEventListener('navbeforefocus', (e) => {\n    if (e.target instanceof HTMLElement) {\n        e.preventDefault();\n\n        let { target } = e;\n\n        // focus on the first element when changing spatnav container\n        // const nextSpatialNavigationContainer = target.getSpatialNavigationContainer();\n        //\n        // if (currentSpatialNavigationContainer && currentSpatialNavigationContainer !== nextSpatialNavigationContainer) {\n        //     if (nextSpatialNavigationContainer.__lastElementFocused) {\n        //         target = nextSpatialNavigationContainer.__lastElementFocused;\n        //     } else {\n        //         [target] = nextSpatialNavigationContainer.focusableAreas({ mode: 'all' });\n        //     }\n        //     // target.focus();\n        // }\n        //\n        // currentSpatialNavigationContainer = nextSpatialNavigationContainer;\n        // currentSpatialNavigationContainer.__lastElementFocused = target;\n\n        requestAnimationFrame(async () => {\n            target.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });\n            // if (isElementInViewport(target)) {\n            //     target.focus();\n            // }\n\n            await new Promise((resolve) => {\n                const intersectionObserver = new IntersectionObserver(\n                    ([entry]) => {\n                        if (entry.isIntersecting) {\n                            resolve();\n                        }\n                    },\n                    {\n                        threshold: 1,\n                    },\n                );\n                intersectionObserver.observe(target);\n            });\n\n            target.focus();\n        });\n    }\n});\n\nconst doClick = debounce((element) => {\n    // если вызван setImmediatePropagation, производное событие не сработает\n    // поэтому добавляем клик в очередь событий\n    setTimeout(() => {\n        element.click();\n    });\n}, 300, {\n    leading: true,\n    trailing: false\n});\n\n// имитируем клик при нажатии OK на всем, что не кнопка\n// потому что при нажатии ОК на кнопке срабатывает и keyup, и ее собственный клик\ndocument.addEventListener('keyup', (event) => {\n    if (event.keyCode === 13) {\n        event.preventDefault();\n        if (document.activeElement && !(document.activeElement instanceof HTMLButtonElement)) {\n            doClick(document.activeElement);\n        }\n    }\n});\n\n// при клике отключаем стандартный клик\n// и включаем имитированный\ndocument.addEventListener('click', (event) => {\n    if (event.isTrusted) {\n        if (event.target === document.activeElement) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            doClick(document.activeElement);\n        }\n    }\n}, {capture: true});\n\n// console.log('1');\n\n// let isIntersecting = false;\n// const intersectionObserver = new IntersectionObserver(([entry]) => {\n// console.log('2');\n//   isIntersecting = entry.isIntersecting;\n// }, {\n//   threshold: 1\n// });\n// intersectionObserver.observe($0)\n// console.log('3');\n\n// start observing\n// intersectionObserver.observe());\n\nfunction isElementInViewport(el) {\n    const rect = el.getBoundingClientRect();\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n}\n","import 'core-js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/react';\nimport { Root } from 'components/Root/Root';\n\nimport 'tools/new-spatial-navigation';\n\nif (process.env.REACT_APP_ENVIRONMENT === 'production') {\n    Sentry.init({ dsn: 'https://b33b53e4a61946f1a44139076cefb598@o414705.ingest.sentry.io/5304676' });\n}\n\nexport const renderApp = (App: React.FC) => {\n    ReactDOM.render(<App />, document.getElementById('application_root'));\n};\n\nrenderApp(Root);\n\nif (process.env.REACT_APP_ENVIRONMENT !== 'production' && module.hot) {\n    module.hot.accept('./components/Root/Root', () => {\n        // eslint-disable-next-line\n        const { Root } = require('./components/Root/Root.tsx');\n        renderApp(Root);\n    });\n}\n\n// eslint-disable-next-line no-console\nconsole.log('rev', process.env.REACT_APP_REV);\n","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_1.518d9c78.png\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_2.24d90011.png\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_3.d7453441.png\";","module.exports = __webpack_public_path__ + \"static/media/popcorn-box_4.482bbaa4.png\";"],"sourceRoot":""}