{"version":3,"sources":["tools/browsers-control/detect.js","pages/Cart/Info/device.svg","tools/browsers-control/index.ts","tools/browsers-control/browser.js","index.tsx","stores/ui.ts","configs/index.js","mocks/index.ts","tools/new-spatial-navigation.js","tools/history.js","stores/user.ts","stores/product.ts","stores/products.ts","stores/cart.ts","stores/casts.ts","stores/index.ts","components/Suggest/Suggest.tsx","components/Grids/Container/index.tsx","components/Grids/Row/index.tsx","tools/bem.ts","hoc/withBem.tsx","components/Header/Header.tsx","components/HeaderAddress/HeaderAddress.tsx","components/HeaderCart/HeaderCart.tsx","components/Card/index.tsx","pages/Catalog/ListItem/CatalogListItem.tsx","pages/Catalog/List/CatalogList.tsx","pages/Catalog/Catalog.tsx","components/Grids/Col/index.tsx","components/Typography/index.tsx","pages/Cart/Info/CartInfo.tsx","pages/Cart/ListItem/CartListItem.tsx","pages/Cart/List/CartList.tsx","pages/Cart/Cart.tsx","containers/DeliveryTime/index.tsx","pages/Status/Status.tsx","containers/AppContainer/index.tsx","tools/connect.tsx"],"names":["root","undefined","Array","prototype","map","callback","thisArg","T","A","k","this","TypeError","O","Object","len","length","kValue","mappedValue","call","detect","_this","parsers","types","regexes","browser_parsers","regex","family_replacement","manufacturer","other","family_replacment","tablet","v2_replacement","v1_replacement","os_parsers","os_v2_replacement","os_v1_replacement","os_replacement","mobile_os_families","device_parsers","device_replacement","mobile_browser_families","results","parser","families","type","ArrayProto","nativeForEach","Function","forEach","indexOf","find","ua","obj","ret","i","each","iterator","context","l","key","_","has","check","str","toVersionString","output","major","minor","patch","toString","suffix","family","parse","regexp","RegExp","rep","major_rep","major_version_replacement","m","match","replace","parseInt","man","a","source","browser","name","version","os","device","mobile_agents","arr","props","hasOwnProperty","prop","module","exports","define","require","window","UserAgent","navigator","userAgent","browsersContol","browserVerify","userBrowser","browserName","browserVersion","isIe","nodeElement","document","createElement","setAttribute","innerHTML","isNotAllowedBrowser","minVersion","some","chackBrowser","setStore","store","environment","default","browserContols","renderApp","App","ReactDOM","render","history","getElementById","body","appendChild","AppContainer","hot","accept","routes","Ui","model","page","optional","enumeration","values","CATALOG","previous","maybeNull","isLoading","boolean","visibles","array","string","actions","self","ui","gotoPage","to","push","goToCart","CART","AssistantClient","sendMessage","server_action","action_id","setVisible","itemId","removeVisible","splice","getIndex","process","isProduction","cssPrefix","pkg","api","REACT_APP_API","development","staging","production","test","USER_MOCK","address","location","CART_MOCK","PRODUCTS_MOCK","id","clear_name","guid","images_urls","price","ARROW_KEY_CODE","37","38","39","40","mapOfBoundRect","startingPoint","savedSearchOrigin","element","rect","searchOriginRect","spatialNavigationHandler","addEventListener","e","currentKeyMode","parent","__spatialNavigation__","keyMode","eventTarget","activeElement","dir","keyCode","shiftKey","ctrlKey","metaKey","altKey","defaultPrevented","focusNavigableArrowKey","left","up","right","down","nodeName","startPosition","selectionStart","endPosition","selectionEnd","includes","getAttribute","value","handlingEditableElement","preventDefault","Map","navigate","x","clientX","y","clientY","target","getBoundingClientRect","searchOrigin","querySelector","elementStyle","getComputedStyle","invisibleStyle","disabled","getPropertyValue","documentElement","height","width","isVisibleInScroller","scroller","getScrollContainer","findSearchOrigin","elementFromPosition","elementFromPoint","isFocusable","isContainer","getSpatialNavigationContainer","container","contentDocument","bestInsideCandidate","spatialNavigationSearch","candidates","getSpatialNavigationCandidates","mode","focusingController","parentContainer","parentElement","navigateChain","bestCandidate","createSpatNavEvents","focus","preventScroll","scrollingController","isScrollable","isScrollBoundary","moveScroll","isHTMLScrollBoundary","ownerDocument","option","childElementCount","getElementsByTagName","children","elem","isDelegableContainer","concat","filter","isVisible","getFilteredSpatialNavigationCandidates","targetElement","filteredCandidates","args","bestTarget","internalCandidates","externalCandidates","insideOverlappedCandidates","focusableAreas","overlappedCandidates","isEntirelyVisible","getOverlappedCandidates","defaultContainer","defaultCandidates","contains","candidate","fullyOverlapped","overlappedByParent","elm","flat","selectBestCandidate","currentElm","getClosestElement","getDistanceFromPoint","getInnerDistance","selectBestCandidateFromEdge","innerTarget","descendantsBest","originalContainer","eventTargetRect","candidateRect","candidateBody","isOutside","isInside","spatialNavigationFunction","currentTargetRect","distanceFunction","alignedCandidates","isAligned","getAbsoluteDistance","getDistance","frameElement","minDistance","Number","POSITIVE_INFINITY","minDistanceElements","distance","getEuclideanDistance","scrollContainer","isScrollContainer","focusables","eventType","containerElement","currentElement","direction","triggeredEvent","CustomEvent","bubbles","cancelable","detail","causedTarget","dispatchEvent","readCssVar","varName","trim","currentOption","nextContainer","offset","scrollLeft","scrollTop","isCSSSpatNavContain","overflowX","overflowY","isOverflow","scrollWidth","clientWidth","scrollHeight","clientHeight","result","winScrollY","winScrollX","Math","abs","elementRect","nearestScroller","scrollerRect","DOMRect","innerWidth","innerHeight","tabIndex","tagName","isAtagWithoutHref","isActuallyDisabled","inert","isExpresslyInert","isVisibleStyleProperty","style","opacity","isBeingRendered","top","offsetX","offsetWidth","offsetY","offsetHeight","isNaN","hitTestPoint","middle","bottom","leftTop","rightBottom","point","elemFromPoint","hitTest","containerRect","thisVisibility","childRect","rightEdgeCheck","leftEdgeCheck","topEdgeCheck","bottomEdgeCheck","rect1","rect2","isRightSide","isBelow","points","getEntryAndExitPoints","P1","entryPoint","exitPoint","P2","sqrt","pow","baseEdge","orthogonalBias","alignBias","B","C","intersectionRect","intersection_rect","area","new_location","max","new_max_point","min","getIntersectionRect","D","get","boundingClientRect","toFixed","set","enableExperimentalAPIs","getInitialAPIs","assign","canScroll","findTarget","findCandidate","bestNextTarget","isArray","findCandidates","bind","findNextTarget","getDistanceFromTarget","candidateElement","getExperimentalAPI","seal","_keymode","setStartingPoint","Element","CSS","registerProperty","syntax","inherits","initialValue","currentSpatialNavigationContainer","HTMLElement","nextSpatialNavigationContainer","console","log","__lastElementFocused","requestAnimationFrame","scrollIntoView","behavior","block","inline","event","click","createHashHistory","User","ProductItem","identifier","clearName","number","imagesUrls","index","visible","Products","title","items","selectedId","products","setVisibility","item","selectItem","CartItem","product","reference","count","Cart","orderId","views","reduce","acc","cart","clear","cast","addToCart","removeFromCart","shouldRemoveMention","findIndex","confirmPayment","casts","SHOW_ITEMS","command","stock","applySnapshot","ADD_ITEM","itemName","REMOVE_ITEM","REMOVE_ALL","GO_TO_VALIDATION","GO_TO_CATALOG","VALIDATION_OK","order_id","STATUS","user","onMessage","message","smart_app_data","castFn","__messages","afterCreate","AssistantHost","ready","create","updateState","onStart","onData","JSON","stringify","onRequestState","state","count_in_cart","itemsMap","action","current_screen","foodtech","keys","quantity","totalPrice","discountValue","Suggest","className","Container","Row","noGutters","verticalPadding","topPadding","bottomPadding","styles","paddingTop","paddingBottom","elClassname","PREFIX","config","blockName","delimeter","modDelimeter","renderer","elements","join","mod","modVal","modify","conditions","elemToModify","entries","predicate","Boolean","all","Component","componentName","bem","Bem","Header","connectToStore","withBem","subtitle","HeaderAddress","onClick","MAP","HeaderCart","badge","size","CatalogListItem","countInCart","src","alt","CatalogList","Catalog","React","useEffect","onKeyDown","code","removeEventListener","hasItemsInCart","suggest","SIZES","Col","sizeClasses","sizeProp","hiddenClasses","autoClasses","offsetClasses","decoration","decorationClass","CartInfo","CartListItem","onLessClick","onMoreClick","CartList","s","xl","time","Status","NavigationRightElement","rightElement","pageRef","useRef","fallback","ref","Suspense","path","newStore","connect","selector","baseComponent","component","ownProps","Error","useObserver","displayName","storeData"],"mappings":"yFAAA,OAkBA,SAAWA,EAAMC,GAIRC,MAAMC,UAAUC,MACjBF,MAAMC,UAAUC,IAAM,SAAUC,EAAUC,GACtC,IAAIC,EAAGC,EAAGC,EACV,GAAY,MAARC,KACA,MAAM,IAAIC,UAAU,gCAGxB,MAAMC,EAAIC,OAAOH,MAGXI,EAAMF,EAAEG,SAAW,EAGzB,GAAwB,oBAAbV,EACP,MAAM,IAAIM,UAAUN,EAAW,sBAYnC,IATIC,IACAC,EAAID,GAIRE,EAAI,IAAIN,MAAMY,GAEdL,EAAI,EAEGA,EAAIK,GAAK,CACZ,IAAIE,EAAQC,EAMRR,KAAKG,IAELI,EAASJ,EAAEH,GAGXQ,EAAcZ,EAASa,KAAKX,EAAGS,EAAQP,EAAGG,GAO1CJ,EAAEC,GAAKQ,GAGXR,IAGJ,OAAOD,IAIf,MAAMW,EAAUnB,EAAKmB,OAAU,WAE3B,MAAMC,EAAQ,aAurCdA,EAAMC,QAAU,CACZ,iBACA,kBACA,aACA,qBACA,2BAGJD,EAAME,MAAQ,CAAC,UAAW,KAAM,UAEhCF,EAAMG,QA/rCU,CACZC,gBAAiB,CACb,CACIC,MAAO,2CACPC,mBAAoB,MACpBC,aAAc,YAElB,CACIF,MAAO,0DACPC,mBAAoB,SACpBE,OAAO,GAEX,CACIH,MAAO,2CACPC,mBAAoB,8BACpBE,OAAO,GAEX,CACIH,MAAO,gDACPC,mBAAoB,kBAExB,CACID,MAAO,gCACPI,kBAAmB,kBAEvB,CACIJ,MAAO,2BACPC,mBAAoB,kBAExB,CACID,MAAO,oCACPC,mBAAoB,kBAExB,CACID,MAAO,kEACPC,mBAAoB,gBAExB,CACID,MAAO,yCACPC,mBAAoB,iBAExB,CACID,MAAO,yCACPC,mBAAoB,gBAExB,CACID,MAAO,0DACPC,mBAAoB,iBAExB,CACID,MAAO,0DACPC,mBAAoB,gBAExB,CACID,MAAO,kEACPC,mBAAoB,gBAExB,CACID,MAAO,qDACPC,mBAAoB,SACpBI,QAAQ,GAEZ,CACIL,MAAO,8DAEX,CACIA,MAAO,kCACPC,mBAAoB,QACpBE,OAAO,GAEX,CACIH,MAAO,sCACPC,mBAAoB,WACpBE,OAAO,GAEX,CACIH,MAAO,uCACPC,mBAAoB,YAExB,CACID,MAAO,wCACPC,mBAAoB,YAExB,CACID,MAAO,uCACPC,mBAAoB,YAExB,CACID,MAAO,4BACPC,mBAAoB,sBACpBE,OAAO,GAEX,CACIH,MAAO,wDACPC,mBAAoB,eACpBI,QAAQ,GAEZ,CACIL,MAAO,gDACPC,mBAAoB,gBAExB,CACID,MAAO,aACPC,mBAAoB,gBAExB,CACID,MAAO,+BACPC,mBAAoB,cAExB,CACID,MAAO,mCACPC,mBAAoB,cAExB,CACID,MAAO,sDACPC,mBAAoB,SAExB,CACID,MAAO,sCACPC,mBAAoB,SAExB,CACID,MAAO,iCACPC,mBAAoB,SAExB,CACID,MAAO,0BACPC,mBAAoB,SAExB,CACID,MAAO,yCACPC,mBAAoB,kBAExB,CACID,MAAO,WACPC,mBAAoB,SACpBE,OAAO,GAEX,CACIH,MAAO,+CACPC,mBAAoB,YACpBE,OAAO,GAEX,CACIH,MAAO,4DACPC,mBAAoB,WACpBE,OAAO,GAEX,CACIH,MAAO,4DACPC,mBAAoB,WACpBE,OAAO,GAEX,CACIH,MAAO,SACPC,mBAAoB,SACpBE,OAAO,GAEX,CACIH,MAAO,iDACPC,mBAAoB,WACpBE,OAAO,GAEX,CACIH,MAAO,uCACPC,mBAAoB,YACpBE,OAAO,GAEX,CACIH,MAAO,kBACPC,mBAAoB,QACpBE,OAAO,GAEX,CACIH,MAAO,2CACPC,mBAAoB,gBACpBE,OAAO,GAEX,CACIH,MAAO,kBACPC,mBAAoB,iBACpBE,OAAO,GAEX,CACIH,MAAO,2BACPC,mBAAoB,UAExB,CACID,MAAO,2BACPC,mBAAoB,WACpBE,OAAO,GAEX,CACIH,MAAO,SACPC,mBAAoB,SACpBE,OAAO,GAEX,CACIH,MAAO,yBACPC,mBAAoB,QAExB,CACID,MAAO,2CACPC,mBAAoB,iBAExB,CACID,MAAO,4CACPC,mBAAoB,qBAExB,CACID,MAAO,oDACPC,mBAAoB,iBAExB,CACID,MAAO,yCACPC,mBAAoB,gBAExB,CACID,MAAO,uCACPC,mBAAoB,aACpBE,OAAO,GAEX,CACIH,MAAO,gCACP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","file":"static/js/main.67d2bbee.chunk.js","sourcesContent":["/* eslint-disable */\n/**\n * Detect.js: User-Agent Parser\n * https://github.com/darcyclarke/Detect.js\n * Dual licensed under the MIT and GPL licenses.\n *\n * @version 2.2.2\n * @author Darcy Clarke\n * @url http://darcyclarke.me\n * @createdat Mon Oct 26 2015 08:21:54 GMT-0200 (Horrio brasileiro de vero)\n *\n * Based on UA-Parser (https://github.com/tobie/ua-parser) by Tobie Langel\n *\n * Example Usage:\n * var agentInfo = detect.parse(navigator.userAgent);\n * console.log(agentInfo.browser.family); // Chrome\n *\n */\n(function (root, undefined) {\n    // Shim Array.prototype.map if necessary\n    // Production steps of ECMA-262, Edition 5, 15.4.4.19\n    // Reference: http://es5.github.com/#x15.4.4.19\n    if (!Array.prototype.map) {\n        Array.prototype.map = function (callback, thisArg) {\n            let T, A, k;\n            if (this == null) {\n                throw new TypeError(' this is null or not defined');\n            }\n            // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n            const O = Object(this);\n            // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n            // 3. Let len be ToUint32(lenValue).\n            const len = O.length >>> 0;\n            // 4. If IsCallable(callback) is false, throw a TypeError exception.\n            // See: http://es5.github.com/#x9.11\n            if (typeof callback !== 'function') {\n                throw new TypeError(callback + ' is not a function');\n            }\n            // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n            if (thisArg) {\n                T = thisArg;\n            }\n            // 6. Let A be a new array created as if by the expression new Array(len) where Array is\n            // the standard built-in constructor with that name and len is the value of len.\n            A = new Array(len);\n            // 7. Let k be 0\n            k = 0;\n            // 8. Repeat, while k < len\n            while (k < len) {\n                var kValue, mappedValue;\n                // a. Let Pk be ToString(k).\n                //   This is implicit for LHS operands of the in operator\n                // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n                //   This step can be combined with c\n                // c. If kPresent is true, then\n                if (k in O) {\n                    // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n                    kValue = O[k];\n                    // ii. Let mappedValue be the result of calling the Call internal method of callback\n                    // with T as the this value and argument list containing kValue, k, and O.\n                    mappedValue = callback.call(T, kValue, k, O);\n                    // iii. Call the DefineOwnProperty internal method of A with arguments\n                    // Pk, Property Descriptor {Value: mappedValue, : true, Enumerable: true, Configurable: true},\n                    // and false.\n                    // In browsers that support Object.defineProperty, use the following:\n                    // Object.defineProperty(A, Pk, { value: mappedValue, writable: true, enumerable: true, configurable: true });\n                    // For best browser support, use the following:\n                    A[k] = mappedValue;\n                }\n                // d. Increase k by 1.\n                k++;\n            }\n            // 9. return A\n            return A;\n        };\n    }\n    // Detect\n    const detect = (root.detect = (function () {\n        // Context\n        const _this = function () {};\n        // Regexes\n        const regexes = {\n            browser_parsers: [\n                {\n                    regex: '^(Opera)/(\\\\d+)\\\\.(\\\\d+) \\\\(Nintendo Wii',\n                    family_replacement: 'Wii',\n                    manufacturer: 'Nintendo',\n                },\n                {\n                    regex: '(SeaMonkey|Camino)/(\\\\d+)\\\\.(\\\\d+)\\\\.?([ab]?\\\\d+[a-z]*)',\n                    family_replacement: 'Camino',\n                    other: true,\n                },\n                {\n                    regex: '(Pale[Mm]oon)/(\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?',\n                    family_replacement: 'Pale Moon (Firefox Variant)',\n                    other: true,\n                },\n                {\n                    regex: '(Fennec)/(\\\\d+)\\\\.(\\\\d+)\\\\.?([ab]?\\\\d+[a-z]*)',\n                    family_replacement: 'Firefox Mobile',\n                },\n                {\n                    regex: '(Fennec)/(\\\\d+)\\\\.(\\\\d+)(pre)',\n                    family_replacment: 'Firefox Mobile',\n                },\n                {\n                    regex: '(Fennec)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Firefox Mobile',\n                },\n                {\n                    regex: 'Mobile.*(Firefox)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Firefox Mobile',\n                },\n                {\n                    regex: '(Namoroka|Shiretoko|Minefield)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+(?:pre)?)',\n                    family_replacement: 'Firefox ($1)',\n                },\n                {\n                    regex: '(Firefox)/(\\\\d+)\\\\.(\\\\d+)(a\\\\d+[a-z]*)',\n                    family_replacement: 'Firefox Alpha',\n                },\n                {\n                    regex: '(Firefox)/(\\\\d+)\\\\.(\\\\d+)(b\\\\d+[a-z]*)',\n                    family_replacement: 'Firefox Beta',\n                },\n                {\n                    regex: '(Firefox)-(?:\\\\d+\\\\.\\\\d+)?/(\\\\d+)\\\\.(\\\\d+)(a\\\\d+[a-z]*)',\n                    family_replacement: 'Firefox Alpha',\n                },\n                {\n                    regex: '(Firefox)-(?:\\\\d+\\\\.\\\\d+)?/(\\\\d+)\\\\.(\\\\d+)(b\\\\d+[a-z]*)',\n                    family_replacement: 'Firefox Beta',\n                },\n                {\n                    regex: '(Namoroka|Shiretoko|Minefield)/(\\\\d+)\\\\.(\\\\d+)([ab]\\\\d+[a-z]*)?',\n                    family_replacement: 'Firefox ($1)',\n                },\n                {\n                    regex: '(Firefox).*Tablet browser (\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'MicroB',\n                    tablet: true,\n                },\n                {\n                    regex: '(MozillaDeveloperPreview)/(\\\\d+)\\\\.(\\\\d+)([ab]\\\\d+[a-z]*)?',\n                },\n                {\n                    regex: '(Flock)/(\\\\d+)\\\\.(\\\\d+)(b\\\\d+?)',\n                    family_replacement: 'Flock',\n                    other: true,\n                },\n                {\n                    regex: '(RockMelt)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Rockmelt',\n                    other: true,\n                },\n                {\n                    regex: '(Navigator)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Netscape',\n                },\n                {\n                    regex: '(Navigator)/(\\\\d+)\\\\.(\\\\d+)([ab]\\\\d+)',\n                    family_replacement: 'Netscape',\n                },\n                {\n                    regex: '(Netscape6)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Netscape',\n                },\n                {\n                    regex: '(MyIBrow)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'My Internet Browser',\n                    other: true,\n                },\n                {\n                    regex: '(Opera Tablet).*Version/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    family_replacement: 'Opera Tablet',\n                    tablet: true,\n                },\n                {\n                    regex: '(Opera)/.+Opera Mobi.+Version/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Opera Mobile',\n                },\n                {\n                    regex: 'Opera Mobi',\n                    family_replacement: 'Opera Mobile',\n                },\n                {\n                    regex: '(Opera Mini)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Opera Mini',\n                },\n                {\n                    regex: '(Opera Mini)/att/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Opera Mini',\n                },\n                {\n                    regex: '(Opera)/9.80.*Version/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    family_replacement: 'Opera',\n                },\n                {\n                    regex: '(OPR)/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    family_replacement: 'Opera',\n                },\n                {\n                    regex: '(webOSBrowser)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'webOS',\n                },\n                {\n                    regex: '(webOS)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'webOS',\n                },\n                {\n                    regex: '(wOSBrowser).+TouchPad/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'webOS TouchPad',\n                },\n                {\n                    regex: '(luakit)',\n                    family_replacement: 'LuaKit',\n                    other: true,\n                },\n                {\n                    regex: '(Lightning)/(\\\\d+)\\\\.(\\\\d+)([ab]?\\\\d+[a-z]*)',\n                    family_replacement: 'Lightning',\n                    other: true,\n                },\n                {\n                    regex: '(Firefox)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+(?:pre)?) \\\\(Swiftfox\\\\)',\n                    family_replacement: 'Swiftfox',\n                    other: true,\n                },\n                {\n                    regex: '(Firefox)/(\\\\d+)\\\\.(\\\\d+)([ab]\\\\d+[a-z]*)? \\\\(Swiftfox\\\\)',\n                    family_replacement: 'Swiftfox',\n                    other: true,\n                },\n                {\n                    regex: 'rekonq',\n                    family_replacement: 'Rekonq',\n                    other: true,\n                },\n                {\n                    regex: '(conkeror|Conkeror)/(\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?',\n                    family_replacement: 'Conkeror',\n                    other: true,\n                },\n                {\n                    regex: '(konqueror)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Konqueror',\n                    other: true,\n                },\n                {\n                    regex: '(WeTab)-Browser',\n                    family_replacement: 'WeTab',\n                    other: true,\n                },\n                {\n                    regex: '(Comodo_Dragon)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Comodo Dragon',\n                    other: true,\n                },\n                {\n                    regex: '(YottaaMonitor)',\n                    family_replacement: 'Yottaa Monitor',\n                    other: true,\n                },\n                {\n                    regex: '(Kindle)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Kindle',\n                },\n                {\n                    regex: '(Symphony) (\\\\d+).(\\\\d+)',\n                    family_replacement: 'Symphony',\n                    other: true,\n                },\n                {\n                    regex: 'Minimo',\n                    family_replacement: 'Minimo',\n                    other: true,\n                },\n                {\n                    regex: '(Edge)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Edge',\n                },\n                {\n                    regex: '(CrMo)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Chrome Mobile',\n                },\n                {\n                    regex: '(CriOS)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Chrome Mobile iOS',\n                },\n                {\n                    regex: '(Chrome)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+) Mobile',\n                    family_replacement: 'Chrome Mobile',\n                },\n                {\n                    regex: '(chromeframe)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Chrome Frame',\n                },\n                {\n                    regex: '(UC Browser)(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'UC Browser',\n                    other: true,\n                },\n                {\n                    regex: '(SLP Browser)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Tizen Browser',\n                    other: true,\n                },\n                {\n                    regex: '(Epiphany)/(\\\\d+)\\\\.(\\\\d+).(\\\\d+)',\n                    family_replacement: 'Epiphany',\n                    other: true,\n                },\n                {\n                    regex: '(SE 2\\\\.X) MetaSr (\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Sogou Explorer',\n                    other: true,\n                },\n                {\n                    regex: '(Pingdom.com_bot_version_)(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'PingdomBot',\n                    other: true,\n                },\n                {\n                    regex: '(facebookexternalhit)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'FacebookBot',\n                },\n                {\n                    regex: '(Twitterbot)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'TwitterBot',\n                },\n                {\n                    regex:\n                        '(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                },\n                {\n                    regex:\n                        '(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\\\d+)\\\\.(\\\\d+)',\n                },\n                {\n                    regex:\n                        '(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                },\n                {\n                    regex: '(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?',\n                },\n                {\n                    regex: '(Android) Donut',\n                    v2_replacement: '2',\n                    v1_replacement: '1',\n                },\n                {\n                    regex: '(Android) Eclair',\n                    v2_replacement: '1',\n                    v1_replacement: '2',\n                },\n                {\n                    regex: '(Android) Froyo',\n                    v2_replacement: '2',\n                    v1_replacement: '2',\n                },\n                {\n                    regex: '(Android) Gingerbread',\n                    v2_replacement: '3',\n                    v1_replacement: '2',\n                },\n                {\n                    regex: '(Android) Honeycomb',\n                    v1_replacement: '3',\n                },\n                {\n                    regex: '(IEMobile)[ /](\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'IE Mobile',\n                },\n                {\n                    regex: '(MSIE) (\\\\d+)\\\\.(\\\\d+).*XBLWP7',\n                    family_replacement: 'IE Large Screen',\n                },\n                {\n                    regex: '(Firefox)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                },\n                {\n                    regex: '(Firefox)/(\\\\d+)\\\\.(\\\\d+)(pre|[ab]\\\\d+[a-z]*)?',\n                },\n                {\n                    regex: '(Obigo)InternetBrowser',\n                    other: true,\n                },\n                {\n                    regex: '(Obigo)\\\\-Browser',\n                    other: true,\n                },\n                {\n                    regex: '(Obigo|OBIGO)[^\\\\d]*(\\\\d+)(?:.(\\\\d+))?',\n                    other: true,\n                },\n                {\n                    regex: '(MAXTHON|Maxthon) (\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Maxthon',\n                    other: true,\n                },\n                {\n                    regex: '(Maxthon|MyIE2|Uzbl|Shiira)',\n                    v1_replacement: '0',\n                    other: true,\n                },\n                {\n                    regex: '(PLAYSTATION) (\\\\d+)',\n                    family_replacement: 'PlayStation',\n                    manufacturer: 'Sony',\n                },\n                {\n                    regex: '(PlayStation Portable)[^\\\\d]+(\\\\d+).(\\\\d+)',\n                    manufacturer: 'Sony',\n                },\n                {\n                    regex: '(BrowseX) \\\\((\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(POLARIS)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Polaris',\n                    other: true,\n                },\n                {\n                    regex: '(Embider)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Polaris',\n                    other: true,\n                },\n                {\n                    regex: '(BonEcho)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Bon Echo',\n                    other: true,\n                },\n                {\n                    regex: '(iPod).+Version/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Mobile Safari',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPod).*Version/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Mobile Safari',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPod)',\n                    family_replacement: 'Mobile Safari',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone).*Version/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Mobile Safari',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone).*Version/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Mobile Safari',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone)',\n                    family_replacement: 'Mobile Safari',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPad).*Version/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Mobile Safari',\n                    tablet: true,\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPad).*Version/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Mobile Safari',\n                    tablet: true,\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPad)',\n                    family_replacement: 'Mobile Safari',\n                    tablet: true,\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(AvantGo) (\\\\d+).(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(Avant)',\n                    v1_replacement: '1',\n                    other: true,\n                },\n                {\n                    regex: '^(Nokia)',\n                    family_replacement: 'Nokia Services (WAP) Browser',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(NokiaBrowser)/(\\\\d+)\\\\.(\\\\d+).(\\\\d+)\\\\.(\\\\d+)',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(NokiaBrowser)/(\\\\d+)\\\\.(\\\\d+).(\\\\d+)',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(NokiaBrowser)/(\\\\d+)\\\\.(\\\\d+)',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(BrowserNG)/(\\\\d+)\\\\.(\\\\d+).(\\\\d+)',\n                    family_replacement: 'NokiaBrowser',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(Series60)/5\\\\.0',\n                    v2_replacement: '0',\n                    v1_replacement: '7',\n                    family_replacement: 'NokiaBrowser',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(Series60)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Nokia OSS Browser',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(S40OviBrowser)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Nokia Series 40 Ovi Browser',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(Nokia)[EN]?(\\\\d+)',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(PlayBook).+RIM Tablet OS (\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Blackberry WebKit',\n                    tablet: true,\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(Black[bB]erry).+Version/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Blackberry WebKit',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(Black[bB]erry)\\\\s?(\\\\d+)',\n                    family_replacement: 'Blackberry',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(OmniWeb)/v(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(Blazer)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Palm Blazer',\n                    manufacturer: 'Palm',\n                },\n                {\n                    regex: '(Pre)/(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'Palm Pre',\n                    manufacturer: 'Palm',\n                },\n                {\n                    regex: '(Links) \\\\((\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(QtWeb) Internet Browser/(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(Silk)/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.([0-9\\\\-]+))?',\n                    other: true,\n                    tablet: true,\n                },\n                {\n                    regex: '(AppleWebKit)/(\\\\d+)\\\\.?(\\\\d+)?\\\\+ .* Version/\\\\d+\\\\.\\\\d+.\\\\d+ Safari/',\n                    family_replacement: 'WebKit Nightly',\n                },\n                {\n                    regex: '(Version)/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?.*Safari/',\n                    family_replacement: 'Safari',\n                },\n                {\n                    regex: '(Safari)/\\\\d+',\n                },\n                {\n                    regex: '(OLPC)/Update(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(OLPC)/Update()\\\\.(\\\\d+)',\n                    v1_replacement: '0',\n                    other: true,\n                },\n                {\n                    regex: '(SEMC\\\\-Browser)/(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(Teleca)',\n                    family_replacement: 'Teleca Browser',\n                    other: true,\n                },\n                {\n                    regex: 'Trident(.*)rv.(\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'IE',\n                },\n                {\n                    regex: '(MSIE) (\\\\d+)\\\\.(\\\\d+)',\n                    family_replacement: 'IE',\n                },\n            ],\n            os_parsers: [\n                {\n                    regex: '(Android) (\\\\d+)\\\\.(\\\\d+)(?:[.\\\\-]([a-z0-9]+))?',\n                },\n                {\n                    regex: '(Android)\\\\-(\\\\d+)\\\\.(\\\\d+)(?:[.\\\\-]([a-z0-9]+))?',\n                },\n                {\n                    regex: '(Android) Donut',\n                    os_v2_replacement: '2',\n                    os_v1_replacement: '1',\n                },\n                {\n                    regex: '(Android) Eclair',\n                    os_v2_replacement: '1',\n                    os_v1_replacement: '2',\n                },\n                {\n                    regex: '(Android) Froyo',\n                    os_v2_replacement: '2',\n                    os_v1_replacement: '2',\n                },\n                {\n                    regex: '(Android) Gingerbread',\n                    os_v2_replacement: '3',\n                    os_v1_replacement: '2',\n                },\n                {\n                    regex: '(Android) Honeycomb',\n                    os_v1_replacement: '3',\n                },\n                {\n                    regex: '(Silk-Accelerated=[a-z]{4,5})',\n                    os_replacement: 'Android',\n                },\n                {\n                    regex: '(Windows Phone 6\\\\.5)',\n                },\n                {\n                    regex: '(Windows (?:NT 5\\\\.2|NT 5\\\\.1))',\n                    os_replacement: 'Windows XP',\n                },\n                {\n                    regex: '(XBLWP7)',\n                    os_replacement: 'Windows Phone OS',\n                },\n                {\n                    regex: '(Windows NT 6\\\\.1)',\n                    os_replacement: 'Windows 7',\n                },\n                {\n                    regex: '(Windows NT 6\\\\.0)',\n                    os_replacement: 'Windows Vista',\n                },\n                {\n                    regex:\n                        '(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\\\.0|Windows Vista|Windows 2000)',\n                },\n                {\n                    regex: '(Windows NT 6\\\\.4|Windows NT 10\\\\.0)',\n                    os_replacement: 'Windows 10',\n                },\n                {\n                    regex: '(Windows NT 6\\\\.2)',\n                    os_replacement: 'Windows 8',\n                },\n                {\n                    regex: '(Windows Phone 8)',\n                    os_replacement: 'Windows Phone 8',\n                },\n                {\n                    regex: '(Windows NT 5\\\\.0)',\n                    os_replacement: 'Windows 2000',\n                },\n                {\n                    regex: '(Windows Phone OS) (\\\\d+)\\\\.(\\\\d+)',\n                },\n                {\n                    regex: '(Windows ?Mobile)',\n                    os_replacement: 'Windows Mobile',\n                },\n                {\n                    regex: '(WinNT4.0)',\n                    os_replacement: 'Windows NT 4.0',\n                },\n                {\n                    regex: '(Win98)',\n                    os_replacement: 'Windows 98',\n                },\n                {\n                    regex: '(Tizen)/(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(Mac OS X) (\\\\d+)[_.](\\\\d+)(?:[_.](\\\\d+))?',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(?:PPC|Intel) (Mac OS X)',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(CPU OS|iPhone OS) (\\\\d+)_(\\\\d+)(?:_(\\\\d+))?',\n                    os_replacement: 'iOS',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone|iPad|iPod); Opera',\n                    os_replacement: 'iOS',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPad); Opera',\n                    tablet: true,\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone|iPad|iPod).*Mac OS X.*Version/(\\\\d+)\\\\.(\\\\d+)',\n                    os_replacement: 'iOS',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(CrOS) [a-z0-9_]+ (\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    os_replacement: 'Chrome OS',\n                },\n                {\n                    regex: '(Debian)-(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    other: true,\n                },\n                {\n                    regex: '(Linux Mint)(?:/(\\\\d+))?',\n                    other: true,\n                },\n                {\n                    regex: '(Mandriva)(?: Linux)?/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    other: true,\n                },\n                {\n                    regex: '(Symbian[Oo][Ss])/(\\\\d+)\\\\.(\\\\d+)',\n                    os_replacement: 'Symbian OS',\n                },\n                {\n                    regex: '(Symbian/3).+NokiaBrowser/7\\\\.3',\n                    os_replacement: 'Symbian^3 Anna',\n                },\n                {\n                    regex: '(Symbian/3).+NokiaBrowser/7\\\\.4',\n                    os_replacement: 'Symbian^3 Belle',\n                },\n                {\n                    regex: '(Symbian/3)',\n                    os_replacement: 'Symbian^3',\n                },\n                {\n                    regex: '(Series 60|SymbOS|S60)',\n                    os_replacement: 'Symbian OS',\n                },\n                {\n                    regex: '(MeeGo)',\n                    other: true,\n                },\n                {\n                    regex: 'Symbian [Oo][Ss]',\n                    os_replacement: 'Symbian OS',\n                },\n                {\n                    regex: '(Black[Bb]erry)[0-9a-z]+/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    os_replacement: 'BlackBerry OS',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(Black[Bb]erry).+Version/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    os_replacement: 'BlackBerry OS',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(RIM Tablet OS) (\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    os_replacement: 'BlackBerry Tablet OS',\n                    tablet: true,\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(Play[Bb]ook)',\n                    os_replacement: 'BlackBerry Tablet OS',\n                    tablet: true,\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(Black[Bb]erry)',\n                    os_replacement: 'Blackberry OS',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(webOS|hpwOS)/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?',\n                    os_replacement: 'webOS',\n                },\n                {\n                    regex: '(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)',\n                    other: true,\n                },\n                {\n                    regex: '(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\\\d+)\\\\.(\\\\d+)',\n                },\n                {\n                    regex: '(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)',\n                },\n                {\n                    regex: '(Linux|BSD)',\n                    other: true,\n                },\n            ],\n            mobile_os_families: ['Windows Phone 6.5', 'Windows CE', 'Symbian OS'],\n            device_parsers: [\n                {\n                    regex: 'HTC ([A-Z][a-z0-9]+) Build',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'HTC ([A-Z][a-z0-9 ]+) \\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'HTC_Touch_([A-Za-z0-9]+)',\n                    device_replacement: 'HTC Touch ($1)',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'USCCHTC(\\\\d+)',\n                    device_replacement: 'HTC $1 (US Cellular)',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'Sprint APA(9292)',\n                    device_replacement: 'HTC $1 (Sprint)',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'HTC ([A-Za-z0-9]+ [A-Z])',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'HTC-([A-Za-z0-9]+)',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'HTC_([A-Za-z0-9]+)',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'HTC ([A-Za-z0-9]+)',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: '(ADR[A-Za-z0-9]+)',\n                    device_replacement: 'HTC $1',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: '(HTC)',\n                    manufacturer: 'HTC',\n                },\n                {\n                    regex: 'SonyEricsson([A-Za-z0-9]+)/',\n                    device_replacement: 'Ericsson $1',\n                    other: true,\n                    manufacturer: 'Sony',\n                },\n                {\n                    regex: 'Android[\\\\- ][\\\\d]+\\\\.[\\\\d]+\\\\; [A-Za-z]{2}\\\\-[A-Za-z]{2}\\\\; WOWMobile (.+) Build',\n                },\n                {\n                    regex: 'Android[\\\\- ][\\\\d]+\\\\.[\\\\d]+\\\\.[\\\\d]+; [A-Za-z]{2}\\\\-[A-Za-z]{2}\\\\; (.+) Build',\n                },\n                {\n                    regex: 'Android[\\\\- ][\\\\d]+\\\\.[\\\\d]+\\\\-update1\\\\; [A-Za-z]{2}\\\\-[A-Za-z]{2}\\\\; (.+) Build',\n                },\n                {\n                    regex: 'Android[\\\\- ][\\\\d]+\\\\.[\\\\d]+\\\\; [A-Za-z]{2}\\\\-[A-Za-z]{2}\\\\; (.+) Build',\n                },\n                {\n                    regex: 'Android[\\\\- ][\\\\d]+\\\\.[\\\\d]+\\\\.[\\\\d]+; (.+) Build',\n                },\n                {\n                    regex: 'NokiaN([0-9]+)',\n                    device_replacement: 'Nokia N$1',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: 'Nokia([A-Za-z0-9\\\\v-]+)',\n                    device_replacement: 'Nokia $1',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: 'NOKIA ([A-Za-z0-9\\\\-]+)',\n                    device_replacement: 'Nokia $1',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: 'Nokia ([A-Za-z0-9\\\\-]+)',\n                    device_replacement: 'Nokia $1',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: 'Lumia ([A-Za-z0-9\\\\-]+)',\n                    device_replacement: 'Lumia $1',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: 'Symbian',\n                    device_replacement: 'Nokia',\n                    manufacturer: 'Nokia',\n                },\n                {\n                    regex: '(PlayBook).+RIM Tablet OS',\n                    device_replacement: 'Blackberry Playbook',\n                    tablet: true,\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(Black[Bb]erry [0-9]+);',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: 'Black[Bb]erry([0-9]+)',\n                    device_replacement: 'BlackBerry $1',\n                    manufacturer: 'RIM',\n                },\n                {\n                    regex: '(Pre)/(\\\\d+)\\\\.(\\\\d+)',\n                    device_replacement: 'Palm Pre',\n                    manufacturer: 'Palm',\n                },\n                {\n                    regex: '(Pixi)/(\\\\d+)\\\\.(\\\\d+)',\n                    device_replacement: 'Palm Pixi',\n                    manufacturer: 'Palm',\n                },\n                {\n                    regex: '(Touchpad)/(\\\\d+)\\\\.(\\\\d+)',\n                    device_replacement: 'HP Touchpad',\n                    manufacturer: 'HP',\n                },\n                {\n                    regex: 'HPiPAQ([A-Za-z0-9]+)/(\\\\d+).(\\\\d+)',\n                    device_replacement: 'HP iPAQ $1',\n                    manufacturer: 'HP',\n                },\n                {\n                    regex: 'Palm([A-Za-z0-9]+)',\n                    device_replacement: 'Palm $1',\n                    manufacturer: 'Palm',\n                },\n                {\n                    regex: 'Treo([A-Za-z0-9]+)',\n                    device_replacement: 'Palm Treo $1',\n                    manufacturer: 'Palm',\n                },\n                {\n                    regex: 'webOS.*(P160UNA)/(\\\\d+).(\\\\d+)',\n                    device_replacement: 'HP Veer',\n                    manufacturer: 'HP',\n                },\n                {\n                    regex: '(Kindle Fire)',\n                    manufacturer: 'Amazon',\n                },\n                {\n                    regex: '(Kindle)',\n                    manufacturer: 'Amazon',\n                },\n                {\n                    regex: '(Silk)/(\\\\d+)\\\\.(\\\\d+)(?:\\\\.([0-9\\\\-]+))?',\n                    device_replacement: 'Kindle Fire',\n                    tablet: true,\n                    manufacturer: 'Amazon',\n                },\n                {\n                    regex: '(iPad) Simulator;',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPad);',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPod);',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone) Simulator;',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: '(iPhone);',\n                    manufacturer: 'Apple',\n                },\n                {\n                    regex: 'Nexus\\\\ ([A-Za-z0-9\\\\-]+)',\n                    device_replacement: 'Nexus $1',\n                },\n                {\n                    regex: 'acer_([A-Za-z0-9]+)_',\n                    device_replacement: 'Acer $1',\n                    manufacturer: 'Acer',\n                },\n                {\n                    regex: 'acer_([A-Za-z0-9]+)_',\n                    device_replacement: 'Acer $1',\n                    manufacturer: 'Acer',\n                },\n                {\n                    regex: 'Amoi\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Amoi $1',\n                    other: true,\n                    manufacturer: 'Amoi',\n                },\n                {\n                    regex: 'AMOI\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Amoi $1',\n                    other: true,\n                    manufacturer: 'Amoi',\n                },\n                {\n                    regex: 'Asus\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Asus $1',\n                    manufacturer: 'Asus',\n                },\n                {\n                    regex: 'ASUS\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Asus $1',\n                    manufacturer: 'Asus',\n                },\n                {\n                    regex: 'BIRD\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Bird $1',\n                    other: true,\n                },\n                {\n                    regex: 'BIRD\\\\.([A-Za-z0-9]+)',\n                    device_replacement: 'Bird $1',\n                    other: true,\n                },\n                {\n                    regex: 'BIRD ([A-Za-z0-9]+)',\n                    device_replacement: 'Bird $1',\n                    other: true,\n                },\n                {\n                    regex: 'Dell ([A-Za-z0-9]+)',\n                    device_replacement: 'Dell $1',\n                    manufacturer: 'Dell',\n                },\n                {\n                    regex: 'DoCoMo/2\\\\.0 ([A-Za-z0-9]+)',\n                    device_replacement: 'DoCoMo $1',\n                    other: true,\n                },\n                {\n                    regex: '([A-Za-z0-9]+)\\\\_W\\\\;FOMA',\n                    device_replacement: 'DoCoMo $1',\n                    other: true,\n                },\n                {\n                    regex: '([A-Za-z0-9]+)\\\\;FOMA',\n                    device_replacement: 'DoCoMo $1',\n                    other: true,\n                },\n                {\n                    regex: 'vodafone([A-Za-z0-9]+)',\n                    device_replacement: 'Huawei Vodafone $1',\n                    other: true,\n                },\n                {\n                    regex: 'i\\\\-mate ([A-Za-z0-9]+)',\n                    device_replacement: 'i-mate $1',\n                    other: true,\n                },\n                {\n                    regex: 'Kyocera\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Kyocera $1',\n                    other: true,\n                },\n                {\n                    regex: 'KWC\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Kyocera $1',\n                    other: true,\n                },\n                {\n                    regex: 'Lenovo\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Lenovo $1',\n                    manufacturer: 'Lenovo',\n                },\n                {\n                    regex: 'Lenovo\\\\_([A-Za-z0-9]+)',\n                    device_replacement: 'Lenovo $1',\n                    manufacturer: 'Levovo',\n                },\n                {\n                    regex: 'LG/([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LG-LG([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LGE-LG([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LGE VX([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LG ([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LGE LG\\\\-AX([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LG\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LGE\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: 'LG([A-Za-z0-9]+)',\n                    device_replacement: 'LG $1',\n                    manufacturer: 'LG',\n                },\n                {\n                    regex: '(KIN)\\\\.One (\\\\d+)\\\\.(\\\\d+)',\n                    device_replacement: 'Microsoft $1',\n                },\n                {\n                    regex: '(KIN)\\\\.Two (\\\\d+)\\\\.(\\\\d+)',\n                    device_replacement: 'Microsoft $1',\n                },\n                {\n                    regex: '(Motorola)\\\\-([A-Za-z0-9]+)',\n                    manufacturer: 'Motorola',\n                },\n                {\n                    regex: 'MOTO\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Motorola $1',\n                    manufacturer: 'Motorola',\n                },\n                {\n                    regex: 'MOT\\\\-([A-Za-z0-9]+)',\n                    device_replacement: 'Motorola $1',\n                    manufacturer: 'Motorola',\n                },\n                {\n                    regex: 'Philips([A-Za-z0-9]+)',\n                    device_replacement: 'Philips $1',\n                    manufacturer: 'Philips',\n                },\n                {\n                    regex: 'Philips ([A-Za-z0-9]+)',\n                    device_replacement: 'Philips $1',\n                    manufacturer: 'Philips',\n                },\n                {\n                    regex: 'SAMSUNG-([A-Za-z0-9\\\\-]+)',\n                    device_replacement: 'Samsung $1',\n                    manufacturer: 'Samsung',\n                },\n                {\n                    regex: 'SAMSUNG\\\\; ([A-Za-z0-9\\\\-]+)',\n                    device_replacement: 'Samsung $1',\n                    manufacturer: 'Samsung',\n                },\n                {\n                    regex: 'Softbank/1\\\\.0/([A-Za-z0-9]+)',\n                    device_replacement: 'Softbank $1',\n                    other: true,\n                },\n                {\n                    regex: 'Softbank/2\\\\.0/([A-Za-z0-9]+)',\n                    device_replacement: 'Softbank $1',\n                    other: true,\n                },\n                {\n                    regex:\n                        '(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)',\n                    device_replacement: 'Generic Smartphone',\n                },\n                {\n                    regex:\n                        '^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\\\-|airn|alav|asus|attw|au\\\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\\\-n|bw\\\\-u|beck|benq|bilb|blac|c55/|cdm\\\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\\\-s|dica|ds\\\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\\\-|fly\\\\_|g\\\\-mo|g1 u|g560|gf\\\\-5|grun|gene|go.w|good|grad|hcit|hd\\\\-m|hd\\\\-p|hd\\\\-t|hei\\\\-|hp i|hpip|hs\\\\-c|htc |htc\\\\-|htca|htcg)',\n                    device_replacement: 'Generic Feature Phone',\n                },\n                {\n                    regex:\n                        '^(htcp|htcs|htct|htc\\\\_|haie|hita|huaw|hutc|i\\\\-20|i\\\\-go|i\\\\-ma|i230|iac|iac\\\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\\\-|klon|lexi|lg g|lg\\\\-a|lg\\\\-b|lg\\\\-c|lg\\\\-d|lg\\\\-f|lg\\\\-g|lg\\\\-k|lg\\\\-l|lg\\\\-m|lg\\\\-o|lg\\\\-p|lg\\\\-s|lg\\\\-t|lg\\\\-u|lg\\\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\\\-|lge/|lynx|leno|m1\\\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\\\-|nem\\\\-|newg|neon)',\n                    device_replacement: 'Generic Feature Phone',\n                },\n                {\n                    regex:\n                        '^(netf|noki|nzph|o2 x|o2\\\\-x|opwv|owg1|opti|oran|ot\\\\-s|p800|pand|pg\\\\-1|pg\\\\-2|pg\\\\-3|pg\\\\-6|pg\\\\-8|pg\\\\-c|pg13|phil|pn\\\\-2|pt\\\\-g|palm|pana|pire|pock|pose|psio|qa\\\\-a|qc\\\\-2|qc\\\\-3|qc\\\\-5|qc\\\\-7|qc07|qc12|qc21|qc32|qc60|qci\\\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\\\-|scp\\\\-|sdk/|se47|sec\\\\-|sec0|sec1|semc|sgh\\\\-|shar|sie\\\\-|sk\\\\-0|sl45|slid|smb3|smt5|sp01|sph\\\\-|spv |spv\\\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\\\-mo|t218|t250|t600|t610|t618|tcl\\\\-|tdg\\\\-|telm|tim\\\\-|ts70|tsm\\\\-|tsm3|tsm5|tx\\\\-9|tagt)',\n                    device_replacement: 'Generic Feature Phone',\n                },\n                {\n                    regex:\n                        '^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\\\-|your|zte\\\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\\\-|webc|whit|wmlb|xda\\\\-|xda\\\\_)',\n                    device_replacement: 'Generic Feature Phone',\n                },\n                {\n                    regex:\n                        '(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\\\-webcrawler|converacrawler|dataparksearch|findlinks)',\n                    device_replacement: 'Spider',\n                },\n            ],\n            mobile_browser_families: [\n                'Firefox Mobile',\n                'Opera Mobile',\n                'Opera Mini',\n                'Mobile Safari',\n                'webOS',\n                'IE Mobile',\n                'Playstation Portable',\n                'Nokia',\n                'Blackberry',\n                'Palm',\n                'Silk',\n                'Android',\n                'Maemo',\n                'Obigo',\n                'Netfront',\n                'AvantGo',\n                'Teleca',\n                'SEMC-Browser',\n                'Bolt',\n                'Iris',\n                'UP.Browser',\n                'Symphony',\n                'Minimo',\n                'Bunjaloo',\n                'Jasmine',\n                'Dolfin',\n                'Polaris',\n                'BREW',\n                'Chrome Mobile',\n                'Chrome Mobile iOS',\n                'UC Browser',\n                'Tizen Browser',\n            ],\n        };\n        // Parsers\n        _this.parsers = [\n            'device_parsers',\n            'browser_parsers',\n            'os_parsers',\n            'mobile_os_families',\n            'mobile_browser_families',\n        ];\n        // Types\n        _this.types = ['browser', 'os', 'device'];\n        // Regular Expressions\n        _this.regexes =\n            regexes ||\n            (function () {\n                const results = {};\n                _this.parsers.map((parser) => {\n                    results[parser] = [];\n                });\n                return results;\n            })();\n        // Families\n        _this.families = (function () {\n            const results = {};\n            _this.types.map((type) => {\n                results[type] = [];\n            });\n            return results;\n        })();\n        // Utility Variables\n        let ArrayProto = Array.prototype,\n            ObjProto = Object.prototype,\n            FuncProto = Function.prototype,\n            nativeForEach = ArrayProto.forEach,\n            nativeIndexOf = ArrayProto.indexOf;\n        // Find Utility\n        const find = function (ua, obj) {\n            let ret = {};\n            for (let i = 0; i < obj.length; i++) {\n                ret = obj[i](ua);\n                if (ret) {\n                    break;\n                }\n            }\n            return ret;\n        };\n        // Remove Utility\n        const remove = function (arr, props) {\n            each(arr, (obj) => {\n                each(props, (prop) => {\n                    delete obj[prop];\n                });\n            });\n        };\n        // Contains Utility\n        const contains = function (obj, target) {\n            let found = false;\n            if (obj == null) return found;\n            if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n            found = any(obj, (value) => value === target);\n            return found;\n        };\n        // Each Utility\n        let forEach;\n        var each = (forEach = function (obj, iterator, context) {\n            if (obj == null) return;\n            if (nativeForEach && obj.forEach === nativeForEach) {\n                obj.forEach(iterator, context);\n            } else if (obj.length === +obj.length) {\n                for (let i = 0, l = obj.length; i < l; i++) {\n                    iterator.call(context, obj[i], i, obj);\n                }\n            } else {\n                for (const key in obj) {\n                    if (_.has(obj, key)) {\n                        iterator.call(context, obj[key], key, obj);\n                    }\n                }\n            }\n        });\n        // Extend Utiltiy\n        const extend = function (obj) {\n            each(slice.call(arguments, 1), (source) => {\n                for (const prop in source) {\n                    obj[prop] = source[prop];\n                }\n            });\n            return obj;\n        };\n        // Check String Utility\n        const check = function (str) {\n            return !!(str && typeof str !== 'undefined' && str != null);\n        };\n        // To Version String Utility\n        const toVersionString = function (obj) {\n            let output = '';\n            obj = obj || {};\n            if (check(obj)) {\n                if (check(obj.major)) {\n                    output += obj.major;\n                    if (check(obj.minor)) {\n                        output += '.' + obj.minor;\n                        if (check(obj.patch)) {\n                            output += '.' + obj.patch;\n                        }\n                    }\n                }\n            }\n            return output;\n        };\n        // To String Utility\n        const toString = function (obj) {\n            obj = obj || {};\n            let suffix = toVersionString(obj);\n            if (suffix) suffix = ' ' + suffix;\n            return obj && check(obj.family) ? obj.family + suffix : '';\n        };\n        // Parse User-Agent String\n        _this.parse = function (ua) {\n            // Parsers Utility\n            const parsers = function (type) {\n                return _this.regexes[type + '_parsers'].map((obj) => {\n                    let regexp = new RegExp(obj.regex),\n                        rep = obj[(type === 'browser' ? 'family' : type) + '_replacement'],\n                        major_rep = obj.major_version_replacement;\n                    function parser(ua) {\n                        const m = ua.match(regexp);\n                        if (!m) return null;\n                        const ret = {};\n                        ret.family = (rep ? rep.replace('$1', m[1]) : m[1]) || 'other';\n                        ret.major = parseInt(major_rep || m[2]) || null;\n                        ret.minor = m[3] ? parseInt(m[3]) : null;\n                        ret.patch = m[4] ? parseInt(m[4]) : null;\n                        ret.tablet = obj.tablet;\n                        ret.man = obj.manufacturer || null;\n                        return ret;\n                    }\n                    return parser;\n                });\n            };\n            // User Agent\n            const UserAgent = function () {};\n            // Browsers Parsed\n            const browser_parsers = parsers('browser');\n            // Operating Systems Parsed\n            const os_parsers = parsers('os');\n            // Devices Parsed\n            const device_parsers = parsers('device');\n            // Set Agent\n            const a = new UserAgent();\n            // Remember the original user agent string\n            a.source = ua;\n            // Set Browser\n            a.browser = find(ua, browser_parsers);\n            if (check(a.browser)) {\n                a.browser.name = toString(a.browser);\n                a.browser.version = toVersionString(a.browser);\n            } else {\n                a.browser = {};\n            }\n            // Set OS\n            a.os = find(ua, os_parsers);\n            if (check(a.os)) {\n                a.os.name = toString(a.os);\n                a.os.version = toVersionString(a.os);\n            } else {\n                a.os = {};\n            }\n            // Set Device\n            a.device = find(ua, device_parsers);\n            if (check(a.device)) {\n                a.device.name = toString(a.device);\n                a.device.version = toVersionString(a.device);\n            } else {\n                a.device = {\n                    tablet: false,\n                    family: 'Other',\n                };\n            }\n            // Determine Device Type\n            const mobile_agents = {};\n            const mobile_browser_families = _this.regexes.mobile_browser_families.map((str) => {\n                mobile_agents[str] = true;\n            });\n            const mobile_os_families = _this.regexes.mobile_os_families.map((str) => {\n                mobile_agents[str] = true;\n            });\n            // Is Spider\n            if (a.browser.family === 'Spider') {\n                a.device.type = 'Spider';\n            } else if (a.browser.tablet || a.os.tablet || a.device.tablet) {\n                a.device.type = 'Tablet';\n            } else if (mobile_agents.hasOwnProperty(a.browser.family)) {\n                a.device.type = 'Mobile';\n            } else {\n                a.device.type = 'Desktop';\n            }\n            // Determine Device Manufacturer\n            a.device.manufacturer = a.browser.man || a.os.man || a.device.man || null;\n            // Cleanup Objects\n            remove([a.browser, a.os, a.device], ['tablet', 'man']);\n            // Return Agent\n            return a;\n        };\n        // Return context\n        return _this;\n    })());\n    // Export the Underscore object for **Node.js** and **\"CommonJS\"**,\n    // backwards-compatibility for the old `require()` API. If we're not\n    // CommonJS, add `_` to the global object via a string identifier\n    // the Closure Compiler \"advanced\" mode. Registration as an AMD\n    // via define() happens at the end of this file\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = detect;\n        }\n        exports.detect = detect;\n    } else {\n        root.detect = detect;\n    }\n    // AMD define happens at the end for compatibility with AMD\n    // that don't enforce next-turn semantics on modules\n    if (typeof define === 'function' && define.amd) {\n        define((require) => detect);\n    }\n})(window);\n","module.exports = __webpack_public_path__ + \"static/media/device.29dc30b4.svg\";","import detect from './detect';\nimport html from './browser';\n\nif (process.env.NODE_ENV !== 'test') {\n    window.UserAgent = detect.parse(navigator.userAgent);\n}\n\nconst browsersContol = {\n    browserVerify() {\n        const userBrowser = {\n            browserName: window.UserAgent.browser.family,\n            browserVersion: window.UserAgent.browser.version,\n            source: window.UserAgent.source,\n        };\n        const isIe = userBrowser.browserName === 'IE';\n\n        const nodeElement = document.createElement('div');\n        nodeElement.setAttribute('id', 'for_bad_users');\n        nodeElement.innerHTML = html;\n\n        const allowedBrowsers = [\n            {\n                name: 'Chrome',\n                minVersion: '21',\n            },\n            {\n                name: 'IE',\n                minVersion: '11',\n            },\n            {\n                name: 'Firefox',\n                minVersion: '18',\n            },\n            {\n                name: 'Opera',\n                minVersion: '17',\n            },\n            {\n                name: 'Safari',\n                minVersion: '6.1',\n            },\n        ];\n\n        const isNotAllowedBrowser =\n            process.env.NODE_ENV === 'test'\n                ? false\n                : allowedBrowsers.some(\n                      (chackBrowser) =>\n                          chackBrowser.name === userBrowser.browserName &&\n                          +chackBrowser.minVersion > +userBrowser.browserVersion,\n                  );\n\n        return {\n            isNotAllowedBrowser,\n            nodeElement,\n            isIe,\n            userBrowser,\n        };\n    },\n};\n\nexport default browsersContol;\n","export default '<h1>UnacceptableBrowser</h1>';\n","import 'core-js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport history from 'tools/history';\nimport store from 'stores';\nimport { environment } from 'configs';\nimport { setStore } from 'tools/connect';\n\nimport browserContols from './tools/browsers-control/index';\nimport AppContainer from './containers/AppContainer';\n\nimport 'tools/new-spatial-navigation';\n\nsetStore(store);\n\nif (environment !== 'production') {\n    window.store = store;\n    const makeInspectable = require('mobx-devtools-mst'); // eslint-disable-line\n    makeInspectable.default(store);\n}\n\nexport const browserVerify = browserContols.browserVerify();\n\nconst APP_ROOT_ID = 'application_root';\n\nexport function renderApp(App: React.FC<{}>): void {\n    ReactDOM.render(\n        <Router history={history}>\n            <App />\n        </Router>,\n        document.getElementById(APP_ROOT_ID),\n    );\n}\n\nif (browserVerify.isNotAllowedBrowser) {\n    document.body.appendChild(browserVerify.nodeElement);\n} else {\n    renderApp(AppContainer);\n}\n\nif (environment !== 'production' && module.hot) {\n    module.hot.accept('./containers/AppContainer', () => {\n        // eslint-disable-next-line\n        const NextApp = require('./containers/AppContainer').default;\n        renderApp(NextApp);\n    });\n}\n","import { types, cast, Instance, SnapshotIn, SnapshotOut } from 'mobx-state-tree';\nimport history from 'tools/history';\n\nexport const SEARCH = 'SEARCH';\nexport const CATALOG = 'CATALOG';\nexport const CART = 'CART';\nexport const MAP = 'MAP';\nexport const STATUS = 'STATUS';\n\nexport const routes = {\n    [SEARCH]: '/search',\n    [CATALOG]: '/catalog',\n    [CART]: '/cart',\n    [MAP]: '/map',\n    [STATUS]: '/status',\n};\n\nconst Ui = types\n    .model('Ui', {\n        page: types.optional(types.enumeration(Object.values(routes)), routes.CATALOG),\n        previous: types.maybeNull(types.enumeration(Object.values(routes))),\n        isLoading: types.optional(types.boolean, true),\n        visibles: types.array(types.string),\n    })\n    .actions((self) => {\n        const ui = self;\n\n        const gotoPage = (to: string) => {\n            ui.previous = ui.page;\n            ui.page = to;\n            history.push(to);\n        };\n\n        const setVisible = (itemId: string): void => {\n            ui.visibles.push(itemId);\n        };\n\n        const removeVisible = (itemId: string): void => {\n            ui.visibles.splice(ui.visibles.indexOf(itemId), 1);\n        };\n\n        const getIndex = (itemId: string): number => ui.visibles.indexOf(itemId) + 1;\n\n        const goToCart = () => {\n            gotoPage(routes.CART);\n            window.AssistantClient.sendMessage({\n                type: 'server_action',\n                /* eslint-disable @typescript-eslint/camelcase */\n                server_action: {\n                    action_id: 'go_to_cart',\n                },\n                /* eslint-enable @typescript-eslint/camelcase */\n            });\n        };\n\n        return {\n            gotoPage,\n            goToCart,\n            setVisible,\n            removeVisible,\n            getIndex,\n        };\n    });\n\nexport type UiModel = Instance<typeof Ui>;\nexport type UiSnapshotOut = SnapshotOut<typeof Ui>;\nexport type UiSnapshotIn = SnapshotIn<typeof Ui>;\n\nexport default Ui;\n","import pkg from '../../package.json';\n\nconst defaults = {\n    development: {\n        api: 'dev-api',\n    },\n    staging: {\n        api: 'stage-api',\n    },\n    production: {\n        api: 'prod-api',\n    },\n    test: {\n        api: 'test-api',\n    },\n};\n\nexport const environment = process.env.REACT_APP_ENVIRONMENT || 'development';\n\nexport const isProduction = environment === 'production';\n\nexport default {\n    cssPrefix: pkg.cssPrefix,\n    environment,\n    api: process.env.REACT_APP_API || defaults[environment].api,\n    isProduction: environment === 'production',\n};\n","export const USER_MOCK = {\n    address: ' , 32',\n    location: ' ,  2',\n};\n\nexport const CART_MOCK = [\n    '  ',\n    '  ',\n    '  ',\n    '  ',\n    '  ',\n\n    '  ',\n    '  ',\n    '  ',\n\n    '  ',\n    '  ',\n    '  ',\n    '  ',\n    '  ',\n\n    '    ',\n    '    ',\n];\n\nexport const PRODUCTS_MOCK = [\n    {\n        id: '1',\n        name: '  ',\n        // eslint-disable-next-line\n        clear_name: '  ',\n        guid: '32ff0d82c-681c-11e9-80c5-0cc47a817925',\n        // eslint-disable-next-line\n        images_urls: ['https://d.radikal.ru/d16/2004/ba/9645c94cae36.png'],\n        price: 250,\n    },\n    {\n        id: '2',\n        name: '  ',\n        // eslint-disable-next-line\n        clear_name: '  ',\n        guid: '32e5b884-fa98-11e8-80c5-0cc47a817925',\n        // eslint-disable-next-line\n        images_urls: [\n            'https://static-eu.insales.ru/images/products/1/1746/295085778/1583447753704_15832238436181.jpg',\n            'https://static-eu.insales.ru/images/products/1/2173/279742589/19_100___._.jpg',\n        ],\n        price: 170,\n    },\n    {\n        id: '3',\n        name: '    ',\n        // eslint-disable-next-line\n        clear_name: '    ',\n        guid: '12e5b884-fa98-11e8-80c5-0cc47a817925',\n        // eslint-disable-next-line\n        images_urls: [\n            'https://static-eu.insales.ru/images/products/1/2173/279742589/19_100___._.jpg',\n        ],\n        price: 180,\n    },\n    {\n        id: '4',\n        name: '  ',\n        // eslint-disable-next-line\n        clear_name: '  ',\n        guid: '12e5b884-fa98-11e8-80c5-0cc47a817924',\n        // eslint-disable-next-line\n        images_urls: [\n            'https://static-eu.insales.ru/images/products/1/2173/279742589/19_100___._.jpg',\n        ],\n        price: 110,\n    },\n    {\n        id: '5',\n        name: '  ',\n        // eslint-disable-next-line\n        clear_name: '  ',\n        guid: '12e5b884-fa98-11e8-80c5-0cc47a817923',\n        // eslint-disable-next-line\n        images_urls: [\n            'https://static-eu.insales.ru/images/products/1/2173/279742589/19_100___._.jpg',\n        ],\n        price: 110,\n    },\n    {\n        id: '6',\n        name: '  ',\n        // eslint-disable-next-line\n        clear_name: '  ',\n        guid: '12e5b884-fa98-11e8-80c5-0cc47a817922',\n        // eslint-disable-next-line\n        images_urls: [\n            'https://static-eu.insales.ru/images/products/1/2173/279742589/19_100___._.jpg',\n        ],\n        price: 110,\n    },\n    {\n        id: '7',\n        name: '  ',\n        // eslint-disable-next-line\n        clear_name: '  ',\n        guid: '12e5b884-fa98-11e8-80c5-0cc47a817921',\n        // eslint-disable-next-line\n        images_urls: [\n            'https://static-eu.insales.ru/images/products/1/2173/279742589/19_100___._.jpg',\n        ],\n        price: 110,\n    },\n];\n","/* eslint-disable */\n\n/* Spatial Navigation Polyfill\n *\n * It follows W3C official specification\n * https://drafts.csswg.org/css-nav-1/\n *\n * Copyright (c) 2018-2019 LG Electronics Inc.\n * https://github.com/WICG/spatial-navigation/polyfill\n *\n * Licensed under the MIT license (MIT)\n */\n\n(function () {\n\n    // The polyfill must not be executed, if it's already enabled via browser engine or browser extensions.\n    if ('navigate' in window) {\n        return;\n    }\n\n    const ARROW_KEY_CODE = {37: 'left', 38: 'up', 39: 'right', 40: 'down'};\n    const TAB_KEY_CODE = 9;\n    let mapOfBoundRect = null;\n    let startingPoint = null; // Saves spatial navigation starting point\n    let savedSearchOrigin = {element: null, rect: null};  // Saves previous search origin\n    let searchOriginRect = null;  // Rect of current search origin\n\n    /**\n     * Initiate the spatial navigation features of the polyfill.\n     * @function initiateSpatialNavigation\n     */\n    function initiateSpatialNavigation() {\n        /*\n         * Bind the standards APIs to be exposed to the window object for authors\n         */\n        window.navigate = navigate;\n        window.Element.prototype.spatialNavigationSearch = spatialNavigationSearch;\n        window.Element.prototype.focusableAreas = focusableAreas;\n        window.Element.prototype.getSpatialNavigationContainer = getSpatialNavigationContainer;\n\n        /*\n         * CSS.registerProperty() from the Properties and Values API\n         * Reference: https://drafts.css-houdini.org/css-properties-values-api/#the-registerproperty-function\n         */\n        if (window.CSS && CSS.registerProperty) {\n            if (window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-contain') === '') {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-contain',\n                    syntax: 'auto | contain',\n                    inherits: false,\n                    initialValue: 'auto'\n                });\n            }\n\n            if (window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-action') === '') {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-action',\n                    syntax: 'auto | focus | scroll',\n                    inherits: false,\n                    initialValue: 'auto'\n                });\n            }\n\n            if (window.getComputedStyle(document.documentElement).getPropertyValue('--spatial-navigation-function') === '') {\n                CSS.registerProperty({\n                    name: '--spatial-navigation-function',\n                    syntax: 'normal | grid',\n                    inherits: false,\n                    initialValue: 'normal'\n                });\n            }\n        }\n    }\n\n    /**\n     * Add event handlers for the spatial navigation behavior.\n     * This function defines which input methods trigger the spatial navigation behavior.\n     * @function spatialNavigationHandler\n     */\n    function spatialNavigationHandler() {\n        /*\n         * keydown EventListener :\n         * If arrow key pressed, get the next focusing element and send it to focusing controller\n         */\n        window.addEventListener('keydown', (e) => {\n            const currentKeyMode = (parent && parent.__spatialNavigation__.keyMode) || window.__spatialNavigation__.keyMode;\n            const eventTarget = document.activeElement;\n            const dir = ARROW_KEY_CODE[e.keyCode];\n\n            if (e.keyCode === TAB_KEY_CODE) {\n                startingPoint = null;\n            }\n\n            if (!currentKeyMode ||\n                (currentKeyMode === 'NONE') ||\n                ((currentKeyMode === 'SHIFTARROW') && !e.shiftKey) ||\n                ((currentKeyMode === 'ARROW') && e.shiftKey) ||\n                (e.ctrlKey || e.metaKey || e.altKey))\n                return;\n\n            if (!e.defaultPrevented) {\n                let focusNavigableArrowKey = {left: true, up: true, right: true, down: true};\n\n                // Edge case (text input, area) : Don't move focus, just navigate cursor in text area\n                if ((eventTarget.nodeName === 'INPUT') || eventTarget.nodeName === 'TEXTAREA') {\n                    focusNavigableArrowKey = handlingEditableElement(e);\n                }\n\n                if (focusNavigableArrowKey[dir]) {\n                    e.preventDefault();\n                    mapOfBoundRect = new Map();\n\n                    navigate(dir);\n\n\n                    mapOfBoundRect = null;\n                    startingPoint = null;\n                }\n            }\n        });\n\n        /*\n         * mouseup EventListener :\n         * If the mouse click a point in the page, the point will be the starting point.\n         * NOTE: Let UA set the spatial navigation starting point based on click\n         */\n        document.addEventListener('mouseup', (e) => {\n            startingPoint = {x: e.clientX, y: e.clientY};\n        });\n\n        /*\n         * focusin EventListener :\n         * When the element get the focus, save it and its DOMRect for resetting the search origin\n         * if it disappears.\n         */\n        window.addEventListener('focusin', (e) => {\n            if (e.target !== window) {\n                savedSearchOrigin.element = e.target;\n                savedSearchOrigin.rect = e.target.getBoundingClientRect();\n            }\n        });\n    }\n\n    /**\n     * Enable the author to trigger spatial navigation programmatically, as if the user had done so manually.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-window-navigate}\n     * @function navigate\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function navigate(dir) {\n        // spatial navigation steps\n\n        // 1\n        const searchOrigin = findSearchOrigin();\n        let eventTarget = searchOrigin;\n        let elementFromPosition = null;\n\n        // 2 Optional step, UA defined starting point\n        if (startingPoint) {\n            // if there is a starting point, set eventTarget as the element from position for getting the spatnav container\n            elementFromPosition = document.elementFromPoint(startingPoint.x, startingPoint.y);\n\n            // Use starting point if the starting point isn't inside the focusable element (but not container)\n            // * Starting point is meaningfull when:\n            // 1) starting point is inside the spatnav container\n            // 2) starting point is inside the non-focusable element\n            if (elementFromPosition === null) {\n                elementFromPosition = document.body;\n            }\n            if (isFocusable(elementFromPosition) && !isContainer(elementFromPosition)) {\n                startingPoint = null;\n            } else if (isContainer(elementFromPosition)) {\n                eventTarget = elementFromPosition;\n            } else {\n                eventTarget = elementFromPosition.getSpatialNavigationContainer();\n            }\n        }\n\n        // 4\n        if (eventTarget === window || eventTarget === document || eventTarget === document.documentElement) {\n            eventTarget = document.body || document.documentElement;\n        }\n\n        // 5\n        // At this point, spatialNavigationSearch can be applied.\n        // If startingPoint is either a scroll container or the document,\n        // find the best candidate within startingPoint\n        let container = null;\n        if ((isContainer(eventTarget) || eventTarget.nodeName === 'BODY') && !(eventTarget.nodeName === 'INPUT')) {\n            if (eventTarget.nodeName === 'IFRAME') {\n                eventTarget = eventTarget.contentDocument.documentElement;\n            }\n\n            container = container === window ? document.body : eventTarget;\n            let bestInsideCandidate = null;\n\n            // 5-2\n            if ((document.activeElement === searchOrigin) ||\n                (document.activeElement === document.body) && (searchOrigin === document.documentElement)) {\n                if (getCSSSpatNavAction(eventTarget) === 'scroll') {\n                    if (scrollingController(eventTarget, dir)) return;\n                } else if (getCSSSpatNavAction(eventTarget) === 'focus') {\n                    bestInsideCandidate = eventTarget.spatialNavigationSearch(dir, {container: eventTarget, candidates: getSpatialNavigationCandidates(eventTarget, {mode: 'all'})});\n                    if (focusingController(bestInsideCandidate, dir)) return;\n                } else if (getCSSSpatNavAction(eventTarget) === 'auto') {\n                    bestInsideCandidate = eventTarget.spatialNavigationSearch(dir, {container: eventTarget});\n                    if (focusingController(bestInsideCandidate, dir) || scrollingController(eventTarget, dir)) return;\n                }\n            } else {\n                // when the previous search origin became offscreen\n                container = container.getSpatialNavigationContainer();\n            }\n        }\n\n        // 6\n        // Let container be the nearest ancestor of eventTarget\n        container = eventTarget.getSpatialNavigationContainer();\n        let parentContainer = (container.parentElement) ? container.getSpatialNavigationContainer() : null;\n\n        // When the container is the viewport of a browsing context\n        if (!parentContainer && ( window.location !== window.parent.location)) {\n            parentContainer = window.parent.document.documentElement;\n        }\n\n\n        if (getCSSSpatNavAction(container) === 'scroll') {\n            if (scrollingController(container, dir)) return;\n        } else if (getCSSSpatNavAction(container) === 'focus') {\n            navigateChain(eventTarget, container, parentContainer, dir, 'all');\n        } else if (getCSSSpatNavAction(container) === 'auto') {\n            navigateChain(eventTarget, container, parentContainer, dir, 'visible');\n        }\n    }\n\n    /**\n     * Move the focus to the best candidate or do nothing.\n     * @function focusingController\n     * @param bestCandidate {Node} - The best candidate of the spatial navigation\n     * @param dir {SpatialNavigationDirection}- The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function focusingController(bestCandidate, dir) {\n        // 10 & 11\n        // When bestCandidate is found\n        if (bestCandidate) {\n            // When bestCandidate is a focusable element and not a container : move focus\n            /*\n             * [event] navbeforefocus : Fired before spatial or sequential navigation changes the focus.\n             */\n            if (!createSpatNavEvents('beforefocus', bestCandidate, null, dir))\n                return true;\n\n            const container = bestCandidate.getSpatialNavigationContainer();\n\n            if ((container !== window) && (getCSSSpatNavAction(container) === 'focus')) {\n                bestCandidate.focus();\n            } else {\n                bestCandidate.focus({preventScroll: true});\n            }\n\n            startingPoint = null;\n            return true;\n        }\n\n        // When bestCandidate is not found within the scrollport of a container: Nothing\n        return false;\n    }\n\n    /**\n     * Directionally scroll the scrollable spatial navigation container if it can be manually scrolled more.\n     * @function scrollingController\n     * @param container {Node} - The spatial navigation container which can scroll\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function scrollingController(container, dir) {\n\n        // If there is any scrollable area among parent elements and it can be manually scrolled, scroll the document\n        if (isScrollable(container, dir) && !isScrollBoundary(container, dir)) {\n            moveScroll(container, dir);\n            return true;\n        }\n\n        // If the spatnav container is document and it can be scrolled, scroll the document\n        if (!container.parentElement && !isHTMLScrollBoundary(container, dir)) {\n            moveScroll(container.ownerDocument.documentElement, dir);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Find the candidates within a spatial navigation container include delegable container.\n     * This function does not search inside delegable container or focusable container.\n     * In other words, this return candidates set is not included focusable elements inside delegable container or focusable container.\n     *\n     * @function getSpatialNavigationCandidates\n     * @param container {Node} - The spatial navigation container\n     * @param option {FocusableAreasOptions} - 'mode' attribute takes 'visible' or 'all' for searching the boundary of focusable elements.\n     *                                          Default value is 'visible'.\n     * @returns {sequence<Node>} candidate elements within the container\n     */\n    function getSpatialNavigationCandidates (container, option = {mode: 'visible'}) {\n        let candidates = [];\n\n        if (container.childElementCount > 0) {\n            if (!container.parentElement) {\n                container = container.getElementsByTagName('body')[0] || document.body;\n            }\n            const children = container.children;\n            for (const elem of children) {\n                if (isDelegableContainer(elem)) {\n                    candidates.push(elem);\n                } else if (isFocusable(elem)) {\n                    candidates.push(elem);\n\n                    if (!isContainer(elem) && elem.childElementCount) {\n                        candidates = candidates.concat(getSpatialNavigationCandidates(elem, {mode: 'all'}));\n                    }\n                } else if (elem.childElementCount) {\n                    candidates = candidates.concat(getSpatialNavigationCandidates(elem, {mode: 'all'}));\n                }\n            }\n        }\n\n        //   console.log(candidates)\n        return (option.mode === 'all') ? candidates : candidates.filter(isVisible);\n    }\n\n    /**\n     * Find the candidates among focusable elements within a spatial navigation container from the search origin (currently focused element)\n     * depending on the directional information.\n     * @function getFilteredSpatialNavigationCandidates\n     * @param element {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation without the directional information\n     * @param container {Node} - The spatial navigation container\n     * @returns {Node} The candidates for spatial navigation considering the directional information\n     */\n    function getFilteredSpatialNavigationCandidates (element, dir, candidates, container) {\n        const targetElement = element;\n        // Removed below line due to a bug. (iframe body rect is sometime weird.)\n        // const targetElement = (element.nodeName === 'IFRAME') ? element.contentDocument.body : element;\n        // If the container is unknown, get the closest container from the element\n        container = container || targetElement.getSpatialNavigationContainer();\n\n        // If the candidates is unknown, find candidates\n        // 5-1\n        candidates = (!candidates || candidates.length <= 0) ? getSpatialNavigationCandidates(container) : candidates;\n        return filteredCandidates(targetElement, candidates, dir, container);\n    }\n\n    /**\n     * Find the best candidate among the candidates within the container from the search origin (currently focused element)\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-spatialnavigationsearch}\n     * @function spatialNavigationSearch\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param container {Node} - The spatial navigation container\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function spatialNavigationSearch (dir, args) {\n        const targetElement = this;\n        let internalCandidates = [];\n        let externalCandidates = [];\n        let insideOverlappedCandidates = getOverlappedCandidates(targetElement);\n        let bestTarget;\n\n        // Set default parameter value\n        if (!args)\n            args = {};\n\n        const defaultContainer = targetElement.getSpatialNavigationContainer();\n        let defaultCandidates = getSpatialNavigationCandidates(defaultContainer);\n        const container = args.container || defaultContainer;\n        if (args.container && (defaultContainer.contains(args.container))) {\n            defaultCandidates = defaultCandidates.concat(getSpatialNavigationCandidates(container));\n        }\n        const candidates = (args.candidates && args.candidates.length > 0) ?\n            args.candidates.filter((candidate) => container.contains(candidate)) :\n            defaultCandidates.filter((candidate) => container.contains(candidate) && (container !== candidate));\n\n        // Find the best candidate\n        // 5\n        // If startingPoint is either a scroll container or the document,\n        // find the best candidate within startingPoint\n        if (candidates && candidates.length > 0) {\n\n            // Divide internal or external candidates\n            candidates.forEach(candidate => {\n                if (candidate !== targetElement) {\n                    (targetElement.contains(candidate) && targetElement !== candidate ? internalCandidates : externalCandidates).push(candidate);\n                }\n            });\n\n            // include overlapped element to the internalCandidates\n            let fullyOverlapped = insideOverlappedCandidates.filter(candidate => !internalCandidates.includes(candidate));\n            let overlappedContainer = candidates.filter(candidate => (isContainer(candidate) && isEntirelyVisible(targetElement, candidate)));\n            let overlappedByParent = overlappedContainer.map((elm) => elm.focusableAreas()).flat().filter(candidate => candidate !== targetElement);\n\n            internalCandidates = internalCandidates.concat(fullyOverlapped).filter((candidate) => container.contains(candidate));\n            externalCandidates = externalCandidates.concat(overlappedByParent).filter((candidate) => container.contains(candidate));\n\n            // Filter external Candidates\n            if (externalCandidates.length > 0) {\n                externalCandidates = getFilteredSpatialNavigationCandidates(targetElement, dir, externalCandidates, container);\n            }\n\n            // If there isn't search origin element but search orgin rect exist  (search origin isn't in the layout case)\n            if (searchOriginRect) {\n                bestTarget = selectBestCandidate(targetElement, getFilteredSpatialNavigationCandidates(targetElement, dir, internalCandidates, container), dir);\n            }\n\n            if ((internalCandidates && internalCandidates.length > 0) && !(targetElement.nodeName === 'INPUT')) {\n                bestTarget = selectBestCandidateFromEdge(targetElement, internalCandidates, dir);\n            }\n\n            bestTarget = bestTarget || selectBestCandidate(targetElement, externalCandidates, dir);\n\n            if (bestTarget && isDelegableContainer(bestTarget)) {\n                // if best target is delegable container, then find descendants candidate inside delegable container.\n                const innerTarget = getSpatialNavigationCandidates(bestTarget, {mode: 'all'});\n                const descendantsBest = innerTarget.length > 0 ? targetElement.spatialNavigationSearch(dir, {candidates: innerTarget, container: bestTarget}) : null;\n                if (descendantsBest) {\n                    bestTarget = descendantsBest;\n                } else if (!isFocusable(bestTarget)) {\n                    // if there is no target inside bestTarget and delegable container is not focusable,\n                    // then try to find another best target without curren best target.\n                    candidates.splice(candidates.indexOf(bestTarget), 1);\n                    bestTarget = candidates.length ? targetElement.spatialNavigationSearch(dir, {candidates: candidates, container: container}) : null;\n                }\n            }\n            return bestTarget;\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the filtered candidate among candidates.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate}\n     * @function filteredCandidates\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param container {Node} - The spatial navigation container\n     * @returns {sequence<Node>} The filtered candidates which are not the search origin and not in the given spatial navigation direction from the search origin\n     */\n    // TODO: Need to fix filtering the candidates with more clean code\n    function filteredCandidates(currentElm, candidates, dir, container) {\n        const originalContainer = currentElm.getSpatialNavigationContainer();\n        let eventTargetRect;\n\n        // If D(dir) is null, let candidates be the same as visibles\n        if (dir === undefined)\n            return candidates;\n\n        // Offscreen handling when originalContainer is not <HTML>\n        if (originalContainer.parentElement && container !== originalContainer && !isVisible(currentElm)) {\n            eventTargetRect = getBoundingClientRect(originalContainer);\n        } else {\n            eventTargetRect = searchOriginRect || getBoundingClientRect(currentElm);\n        }\n\n        /*\n         * Else, let candidates be the subset of the elements in visibles\n         * whose principal boxs geometric center is within the closed half plane\n         * whose boundary goes through the geometric center of starting point and is perpendicular to D.\n         */\n        if ((isContainer(currentElm) || currentElm.nodeName === 'BODY') && !(currentElm.nodeName === 'INPUT')) {\n            return candidates.filter(candidate => {\n                const candidateRect = getBoundingClientRect(candidate);\n                return container.contains(candidate) &&\n                    ((currentElm.contains(candidate) && isInside(eventTargetRect, candidateRect) && candidate !== currentElm) ||\n                        isOutside(candidateRect, eventTargetRect, dir));\n            });\n        } else {\n            return candidates.filter(candidate => {\n                const candidateRect = getBoundingClientRect(candidate);\n                const candidateBody = (candidate.nodeName === 'IFRAME') ? candidate.contentDocument.body : null;\n                return container.contains(candidate) &&\n                    candidate !== currentElm && candidateBody !== currentElm &&\n                    isOutside(candidateRect, eventTargetRect, dir) &&\n                    !isInside(eventTargetRect, candidateRect);\n            });\n        }\n    }\n\n    /**\n     * Select the best candidate among given candidates.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate}\n     * @function selectBestCandidate\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function selectBestCandidate(currentElm, candidates, dir) {\n        const container = currentElm.getSpatialNavigationContainer();\n        const spatialNavigationFunction = getComputedStyle(container).getPropertyValue('--spatial-navigation-function');\n        const currentTargetRect = searchOriginRect || getBoundingClientRect(currentElm);\n        let distanceFunction;\n        let alignedCandidates;\n\n        switch (spatialNavigationFunction) {\n            case 'grid':\n                alignedCandidates = candidates.filter(elm => isAligned(currentTargetRect, getBoundingClientRect(elm), dir));\n                if (alignedCandidates.length > 0) {\n                    candidates = alignedCandidates;\n                }\n                distanceFunction = getAbsoluteDistance;\n                break;\n            default:\n                distanceFunction = getDistance;\n                break;\n        }\n        return getClosestElement(currentElm, candidates, dir, distanceFunction);\n    }\n\n    /**\n     * Select the best candidate among candidates by finding the closet candidate from the edge of the currently focused element (search origin).\n     * @see {@link https://drafts.csswg.org/css-nav-1/#select-the-best-candidate (Step 5)}\n     * @function selectBestCandidateFromEdge\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Node} The best candidate which will gain the focus\n     */\n    function selectBestCandidateFromEdge(currentElm, candidates, dir) {\n        if (startingPoint)\n            return getClosestElement(currentElm, candidates, dir, getDistanceFromPoint);\n        else\n            return getClosestElement(currentElm, candidates, dir, getInnerDistance);\n    }\n\n    /**\n     * Select the closest candidate from the currently focused element (search origin) among candidates by using the distance function.\n     * @function getClosestElement\n     * @param currentElm {Node} - The currently focused element which is defined as 'search origin' in the spec\n     * @param candidates {sequence<Node>} - The candidates for spatial navigation\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param distanceFunction {function} - The distance function which measures the distance from the search origin to each candidate\n     * @returns {Node} The candidate which is the closest one from the search origin\n     */\n    function getClosestElement(currentElm, candidates, dir, distanceFunction) {\n        let eventTargetRect = null;\n        if (( window.location !== window.parent.location ) && (currentElm.nodeName === 'BODY' || currentElm.nodeName === 'HTML')) {\n            // If the eventTarget is iframe, then get rect of it based on its containing document\n            // Set the iframe's position as (0,0) because the rects of elements inside the iframe don't know the real iframe's position.\n            eventTargetRect = window.frameElement.getBoundingClientRect();\n            eventTargetRect.x = 0;\n            eventTargetRect.y = 0;\n        } else {\n            eventTargetRect = searchOriginRect || currentElm.getBoundingClientRect();\n        }\n\n        let minDistance = Number.POSITIVE_INFINITY;\n        let minDistanceElements = [];\n\n        if (candidates) {\n            for (let i = 0; i < candidates.length; i++) {\n                const distance = distanceFunction(eventTargetRect, getBoundingClientRect(candidates[i]), dir);\n\n                // If the same distance, the candidate will be selected in the DOM order\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    minDistanceElements = [candidates[i]];\n                } else if (distance === minDistance) {\n                    minDistanceElements.push(candidates[i]);\n                }\n            }\n        }\n        if (minDistanceElements.length === 0)\n            return null;\n\n        return (minDistanceElements.length > 1 && distanceFunction === getAbsoluteDistance) ?\n            getClosestElement(currentElm, minDistanceElements, dir, getEuclideanDistance) : minDistanceElements[0];\n    }\n\n    /**\n     * Get container of an element.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-getspatialnavigationcontainer}\n     * @module Element\n     * @function getSpatialNavigationContainer\n     * @returns {Node} The spatial navigation container\n     */\n    function getSpatialNavigationContainer() {\n        let container = this;\n\n        do {\n            if (!container.parentElement) {\n                if (window.location !== window.parent.location) {\n                    container = window.parent.document.documentElement;\n                } else {\n                    container = window.document.documentElement;\n                }\n                break;\n            } else {\n                container = container.parentElement;\n            }\n\n            // console.log(container, isContainer(container));\n        } while (!isContainer(container));\n        return container;\n    }\n\n    /**\n     * Get nearest scroll container of an element.\n     * @function getScrollContainer\n     * @param Element\n     * @returns {Node} The spatial navigation container\n     */\n    function getScrollContainer(element) {\n        let scrollContainer = element;\n\n        do {\n            if (!scrollContainer.parentElement) {\n                if (window.location !== window.parent.location) {\n                    scrollContainer = window.parent.document.documentElement;\n                } else {\n                    scrollContainer = window.document.documentElement;\n                }\n                break;\n            } else {\n                scrollContainer = scrollContainer.parentElement;\n            }\n        } while (!isScrollContainer(scrollContainer) || !isVisible(scrollContainer));\n\n        if (scrollContainer === document || scrollContainer === document.documentElement) {\n            scrollContainer = window;\n        }\n\n        return scrollContainer;\n    }\n\n    /**\n     * Find focusable elements within the spatial navigation container.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#dom-element-focusableareas}\n     * @function focusableAreas\n     * @param option {FocusableAreasOptions} - 'mode' attribute takes 'visible' or 'all' for searching the boundary of focusable elements.\n     *                                          Default value is 'visible'.\n     * @returns {sequence<Node>} All focusable elements or only visible focusable elements within the container\n     */\n    function focusableAreas(option = {mode: 'visible'}) {\n        const container = this.parentElement ? this : document.body;\n        const focusables = Array.prototype.filter.call(container.getElementsByTagName('*'), isFocusable);\n        return (option.mode === 'all') ? focusables : focusables.filter(isVisible);\n    }\n\n    /**\n     * Create the NavigationEvent: navbeforefocus, navnotarget\n     * @see {@link https://drafts.csswg.org/css-nav-1/#events-navigationevent}\n     * @function createSpatNavEvents\n     * @param option {string} - Type of the navigation event (beforefocus, notarget)\n     * @param element {Node} - The target element of the event\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function createSpatNavEvents(eventType, containerElement, currentElement, direction) {\n        if (['beforefocus', 'notarget'].includes(eventType)) {\n            const data = {\n                causedTarget: currentElement,\n                dir: direction\n            };\n            const triggeredEvent = new CustomEvent('nav' + eventType, {bubbles: true, cancelable: true, detail: data});\n            return containerElement.dispatchEvent(triggeredEvent);\n        }\n    }\n\n    /**\n     * Get the value of the CSS custom property of the element\n     * @function readCssVar\n     * @param element {Node}\n     * @param varName {string} - The name of the css custom property without '--'\n     * @returns {string} The value of the css custom property\n     */\n    function readCssVar(element, varName) {\n        return getComputedStyle(element).getPropertyValue(`--${varName}`).trim();\n    }\n\n    /**\n     * Decide whether or not the 'contain' value is given to 'spatial-navigation-contain' css property of an element\n     * @function isCSSSpatNavContain\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isCSSSpatNavContain(element) {\n        return readCssVar(element, 'spatial-navigation-contain') === 'contain';\n    }\n\n    /**\n     * Return the value of 'spatial-navigation-action' css property of an element\n     * @function getCSSSpatNavAction\n     * @param element {Node} - would be the spatial navigation container\n     * @returns {string} auto | focus | scroll\n     */\n    function getCSSSpatNavAction(element) {\n        return 'focus';\n        //   return readCssVar(element, 'spatial-navigation-action') || 'auto';\n    }\n\n    /**\n     * Only move the focus with spatial navigation. Manually scrolling isn't available.\n     * @function navigateChain\n     * @param eventTarget {Node} - currently focused element\n     * @param container {SpatialNavigationContainer} - container\n     * @param parentContainer {SpatialNavigationContainer} - parent container\n     * @param option - visible || all\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     */\n    function navigateChain(eventTarget, container, parentContainer, dir, option) {\n        let currentOption = {candidates: getSpatialNavigationCandidates(container, {mode: option}), container};\n        //   console.log(currentOption)\n\n        while (parentContainer) {\n            if (focusingController(eventTarget.spatialNavigationSearch(dir, currentOption), dir)) {\n                return;\n            } else {\n                if ((option === 'visible') && scrollingController(container, dir)) return;\n                else {\n                    if (!createSpatNavEvents('notarget', container, eventTarget, dir)) return;\n\n                    // find the container\n                    if (container === document || container === document.documentElement) {\n                        if ( window.location !== window.parent.location ) {\n                            // The page is in an iframe. eventTarget needs to be reset because the position of the element in the iframe\n                            eventTarget = window.frameElement;\n                            container = eventTarget.ownerDocument.documentElement;\n                        }\n                    } else {\n                        container = parentContainer;\n                    }\n                    currentOption = {candidates: getSpatialNavigationCandidates(container, {mode: option}), container};\n                    let nextContainer = container.getSpatialNavigationContainer();\n\n                    if (nextContainer !== container) {\n                        parentContainer = nextContainer;\n                    } else {\n                        parentContainer = null;\n                    }\n                }\n            }\n        }\n\n        currentOption = {candidates: getSpatialNavigationCandidates(container, {mode: option}), container};\n\n        // Behavior after 'navnotarget' - Getting out from the current spatnav container\n        if ((!parentContainer && container) && focusingController(eventTarget.spatialNavigationSearch(dir, currentOption), dir)) return;\n\n        if (!createSpatNavEvents('notarget', currentOption.container, eventTarget, dir)) return;\n\n        if ((getCSSSpatNavAction(container) === 'auto') && (option === 'visible')) {\n            if (scrollingController(container, dir)) return;\n        }\n    }\n\n    /**\n     * Find search origin\n     * @see {@link https://drafts.csswg.org/css-nav-1/#nav}\n     * @function findSearchOrigin\n     * @returns {Node} The search origin for the spatial navigation\n     */\n    function findSearchOrigin() {\n        let searchOrigin = document.activeElement;\n\n        if (!searchOrigin || (searchOrigin === document.body && !document.querySelector(':focus'))) {\n            // When the previous search origin lost its focus by blur: (1) disable attribute (2) visibility: hidden\n            if (savedSearchOrigin.element && (searchOrigin !== savedSearchOrigin.element)) {\n                const elementStyle = window.getComputedStyle(savedSearchOrigin.element, null);\n                const invisibleStyle = ['hidden', 'collapse'];\n\n                if (savedSearchOrigin.element.disabled || invisibleStyle.includes(elementStyle.getPropertyValue('visibility'))) {\n                    searchOrigin = savedSearchOrigin.element;\n                    return searchOrigin;\n                }\n            }\n            searchOrigin = document.documentElement;\n        }\n        // When the previous search origin lost its focus by blur: (1) display:none () element size turned into zero\n        if (savedSearchOrigin.element &&\n            ((getBoundingClientRect(savedSearchOrigin.element).height === 0) || (getBoundingClientRect(savedSearchOrigin.element).width === 0))) {\n            searchOriginRect = savedSearchOrigin.rect;\n        }\n\n        if (!isVisibleInScroller(searchOrigin)) {\n            const scroller = getScrollContainer(searchOrigin);\n            if (scroller && ((scroller === window) || (getCSSSpatNavAction(scroller) === 'auto')))\n                return scroller;\n        }\n        return searchOrigin;\n    }\n\n    /**\n     * Move the scroll of an element depending on the given spatial navigation directrion\n     * (Assume that User Agent defined distance is '40px')\n     * @see {@link https://drafts.csswg.org/css-nav-1/#directionally-scroll-an-element}\n     * @function moveScroll\n     * @param element {Node} - The scrollable element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @param offset {Number} - The explicit amount of offset for scrolling. Default value is 0.\n     */\n    function moveScroll(element, dir, offset = 0) {\n        if (element) {\n            switch (dir) {\n                case 'left': element.scrollLeft -= (40 + offset); break;\n                case 'right': element.scrollLeft += (40 + offset); break;\n                case 'up': element.scrollTop -= (40 + offset); break;\n                case 'down': element.scrollTop += (40 + offset); break;\n            }\n        }\n    }\n\n    /**\n     * Decide whether an element is container or not.\n     * @function isContainer\n     * @param element {Node} element\n     * @returns {boolean}\n     */\n    function isContainer(element) {\n        return (!element.parentElement) ||\n            (element.nodeName === 'IFRAME') ||\n            (isScrollContainer(element)) ||\n            (isCSSSpatNavContain(element));\n    }\n\n    /**\n     * Decide whether an element is delegable container or not.\n     * NOTE: THIS IS NON-NORMATIVE API.\n     * @function isDelegableContainer\n     * @param element {Node} element\n     * @returns {boolean}\n     */\n    function isDelegableContainer(element) {\n        return readCssVar(element, 'spatial-navigation-contain') === 'delegable';\n    }\n\n    /**\n     * Decide whether an element is a scrollable container or not.\n     * @see {@link https://drafts.csswg.org/css-overflow-3/#scroll-container}\n     * @function isScrollContainer\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isScrollContainer(element) {\n        const elementStyle = window.getComputedStyle(element, null);\n        const overflowX = elementStyle.getPropertyValue('overflow-x');\n        const overflowY = elementStyle.getPropertyValue('overflow-y');\n\n        return ((overflowX !== 'visible' && overflowX !== 'clip' && isOverflow(element, 'left')) ||\n            (overflowY !== 'visible' && overflowY !== 'clip' && isOverflow(element, 'down'))) ?\n            true : false;\n    }\n\n    /**\n     * Decide whether this element is scrollable or not.\n     * NOTE: If the value of 'overflow' is given to either 'visible', 'clip', or 'hidden', the element isn't scrollable.\n     *       If the value is 'hidden', the element can be only programmically scrollable. (https://drafts.csswg.org/css-overflow-3/#valdef-overflow-hidden)\n     * @function isScrollable\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isScrollable(element, dir) { // element, dir\n        if (element && typeof element === 'object') {\n            if (dir && typeof dir === 'string') { // parameter: dir, element\n                if (isOverflow(element, dir)) {\n                    // style property\n                    const elementStyle = window.getComputedStyle(element, null);\n                    const overflowX = elementStyle.getPropertyValue('overflow-x');\n                    const overflowY = elementStyle.getPropertyValue('overflow-y');\n\n                    switch (dir) {\n                        case 'left':\n                        /* falls through */\n                        case 'right':\n                            return (overflowX !== 'visible' && overflowX !== 'clip' && overflowX !== 'hidden');\n                        case 'up':\n                        /* falls through */\n                        case 'down':\n                            return (overflowY !== 'visible' && overflowY !== 'clip' && overflowY !== 'hidden');\n                    }\n                }\n                return false;\n            } else { // parameter: element\n                return (element.nodeName === 'HTML' || element.nodeName === 'BODY') ||\n                    (isScrollContainer(element) && isOverflow(element));\n            }\n        }\n    }\n\n    /**\n     * Decide whether an element is overflow or not.\n     * @function isOverflow\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isOverflow(element, dir) {\n        if (element && typeof element === 'object') {\n            if (dir && typeof dir === 'string') { // parameter: element, dir\n                switch (dir) {\n                    case 'left':\n                    /* falls through */\n                    case 'right':\n                        return (element.scrollWidth > element.clientWidth);\n                    case 'up':\n                    /* falls through */\n                    case 'down':\n                        return (element.scrollHeight > element.clientHeight);\n                }\n            } else { // parameter: element\n                return (element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight);\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Decide whether the scrollbar of the browsing context reaches to the end or not.\n     * @function isHTMLScrollBoundary\n     * @param element {Node} - The top browsing context\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isHTMLScrollBoundary(element, dir) {\n        let result = false;\n        switch (dir) {\n            case 'left':\n                result = element.scrollLeft === 0;\n                break;\n            case 'right':\n                result = (element.scrollWidth - element.scrollLeft - element.clientWidth) === 0;\n                break;\n            case 'up':\n                result = element.scrollTop === 0;\n                break;\n            case 'down':\n                result = (element.scrollHeight - element.scrollTop - element.clientHeight) === 0;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Decide whether the scrollbar of an element reaches to the end or not.\n     * @function isScrollBoundary\n     * @param element {Node}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isScrollBoundary(element, dir) {\n        if (isScrollable(element, dir)) {\n            const winScrollY = element.scrollTop;\n            const winScrollX = element.scrollLeft;\n\n            const height = element.scrollHeight - element.clientHeight;\n            const width = element.scrollWidth - element.clientWidth;\n\n            switch (dir) {\n                case 'left': return (winScrollX === 0);\n                case 'right': return (Math.abs(winScrollX - width) <= 1);\n                case 'up': return (winScrollY === 0);\n                case 'down': return (Math.abs(winScrollY - height) <= 1);\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Decide whether an element is inside the scorller viewport or not\n     *\n     * @function isVisibleInScroller\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isVisibleInScroller(element) {\n        const elementRect = element.getBoundingClientRect();\n        let nearestScroller = getScrollContainer(element);\n\n        let scrollerRect = null;\n        if (nearestScroller !== window) {\n            scrollerRect = getBoundingClientRect(nearestScroller);\n        } else {\n            scrollerRect = new DOMRect(0, 0, window.innerWidth, window.innerHeight);\n        }\n\n        if (isInside(scrollerRect, elementRect, 'left') && isInside(scrollerRect, elementRect, 'down'))\n            return true;\n        else\n            return false;\n    }\n\n    /**\n     * Decide whether an element is focusable for spatial navigation.\n     * 1. If element is the browsing context (document, iframe), then it's focusable,\n     * 2. If the element is scrollable container (regardless of scrollable axis), then it's focusable,\n     * 3. The value of tabIndex >= 0, then it's focusable,\n     * 4. If the element is disabled, it isn't focusable,\n     * 5. If the element is expressly inert, it isn't focusable,\n     * 6. Whether the element is being rendered or not.\n     *\n     * @function isFocusable\n     * @param element {Node}\n     * @returns {boolean}\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/interaction.html#focusable-area}\n     */\n    function isFocusable(element) {\n        if ((element.tabIndex < 0) || isAtagWithoutHref(element) || isActuallyDisabled(element) || isExpresslyInert(element) || !isBeingRendered(element))\n            return false;\n        else if ((!element.parentElement) || (isScrollable(element) && isOverflow(element)) || (element.tabIndex >= 0))\n            return true;\n    }\n\n    /**\n     * Decide whether an element is a tag without href attribute or not.\n     *\n     * @function isAtagWithoutHref\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isAtagWithoutHref(element) {\n        return (element.tagName === 'A' && element.getAttribute('href') === null && element.getAttribute('tabIndex') === null);\n    }\n\n    /**\n     * Decide whether an element is actually disabled or not.\n     *\n     * @function isActuallyDisabled\n     * @param element {Node}\n     * @returns {boolean}\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/semantics-other.html#concept-element-disabled}\n     */\n    function isActuallyDisabled(element) {\n        if (['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'OPTGROUP', 'OPTION', 'FIELDSET'].includes(element.tagName))\n            return (element.disabled);\n        else\n            return false;\n    }\n\n    /**\n     * Decide whether the element is expressly inert or not.\n     * @see {@link https://html.spec.whatwg.org/multipage/interaction.html#expressly-inert}\n     * @function isExpresslyInert\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isExpresslyInert(element) {\n        return ((element.inert) && (!element.ownerDocument.documentElement.inert));\n    }\n\n    /**\n     * Decide whether the element is being rendered or not.\n     * 1. If an element has the style as \"visibility: hidden | collapse\" or \"display: none\", it is not being rendered.\n     * 2. If an element has the style as \"opacity: 0\", it is not being rendered.(that is, invisible).\n     * 3. If width and height of an element are explicitly set to 0, it is not being rendered.\n     * 4. If a parent element is hidden, an element itself is not being rendered.\n     * (CSS visibility property and display property are inherited.)\n     * @see {@link https://html.spec.whatwg.org/multipage/rendering.html#being-rendered}\n     * @function isBeingRendered\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isBeingRendered(element) {\n        if (!isVisibleStyleProperty(element.parentElement))\n            return false;\n        if (!isVisibleStyleProperty(element) || (element.style.opacity === '0') ||\n            (window.getComputedStyle(element).height === '0px' || window.getComputedStyle(element).width === '0px'))\n            return false;\n        return true;\n    }\n\n    /**\n     * Decide whether this element is partially or completely visible to user agent.\n     * @function isVisible\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isVisible(element) {\n        return (!element.parentElement) || (isVisibleStyleProperty(element) && hitTest(element));\n    }\n\n    /**\n     * Decide whether this element is completely visible in this viewport for the arrow direction.\n     * @function isEntirelyVisible\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function isEntirelyVisible(element, container) {\n        const rect = getBoundingClientRect(element);\n        const containerElm = container || element.getSpatialNavigationContainer();\n        const containerRect = getBoundingClientRect(containerElm);\n\n        // FIXME: when element is bigger than container?\n        const entirelyVisible = !((rect.left < containerRect.left) ||\n            (rect.right > containerRect.right) ||\n            (rect.top < containerRect.top) ||\n            (rect.bottom > containerRect.bottom));\n\n        return entirelyVisible;\n    }\n\n    /**\n     * Decide the style property of this element is specified whether it's visible or not.\n     * @function isVisibleStyleProperty\n     * @param element {CSSStyleDeclaration}\n     * @returns {boolean}\n     */\n    function isVisibleStyleProperty(element) {\n        const elementStyle = window.getComputedStyle(element, null);\n        const thisVisibility = elementStyle.getPropertyValue('visibility');\n        const thisDisplay = elementStyle.getPropertyValue('display');\n        const invisibleStyle = ['hidden', 'collapse'];\n\n        return (thisDisplay !== 'none' && !invisibleStyle.includes(thisVisibility));\n    }\n\n    /**\n     * Decide whether this element is entirely or partially visible within the viewport.\n     * @function hitTest\n     * @param element {Node}\n     * @returns {boolean}\n     */\n    function hitTest(element) {\n        const elementRect = getBoundingClientRect(element);\n        if (element.nodeName !== 'IFRAME' && (elementRect.top < 0 || elementRect.left < 0 ||\n            elementRect.top > element.ownerDocument.documentElement.clientHeight || elementRect.left >element.ownerDocument.documentElement.clientWidth))\n            return false;\n\n        let offsetX = parseInt(element.offsetWidth) / 10;\n        let offsetY = parseInt(element.offsetHeight) / 10;\n\n        offsetX = isNaN(offsetX) ? 1 : offsetX;\n        offsetY = isNaN(offsetY) ? 1 : offsetY;\n\n        const hitTestPoint = {\n            // For performance, just using the three point(middle, leftTop, rightBottom) of the element for hit testing\n            middle: [(elementRect.left + elementRect.right) / 2, (elementRect.top + elementRect.bottom) / 2],\n            leftTop: [elementRect.left + offsetX, elementRect.top + offsetY],\n            rightBottom: [elementRect.right - offsetX, elementRect.bottom - offsetY]\n        };\n\n        for(const point in hitTestPoint) {\n            const elemFromPoint = element.ownerDocument.elementFromPoint(...hitTestPoint[point]);\n            if (element === elemFromPoint || element.contains(elemFromPoint)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Decide whether a child element is entirely or partially Included within container visually.\n     * @function isInside\n     * @param containerRect {DOMRect}\n     * @param childRect {DOMRect}\n     * @returns {boolean}\n     */\n    function isInside(containerRect, childRect) {\n        const rightEdgeCheck = (containerRect.left < childRect.right && containerRect.right >= childRect.right);\n        const leftEdgeCheck = (containerRect.left <= childRect.left && containerRect.right > childRect.left);\n        const topEdgeCheck = (containerRect.top <= childRect.top && containerRect.bottom > childRect.top);\n        const bottomEdgeCheck = (containerRect.top < childRect.bottom && containerRect.bottom >= childRect.bottom);\n        return (rightEdgeCheck || leftEdgeCheck) && (topEdgeCheck || bottomEdgeCheck);\n    }\n\n    /**\n     * Decide whether this element is entirely or partially visible within the viewport.\n     * Note: rect1 is outside of rect2 for the dir\n     * @function isOutside\n     * @param rect1 {DOMRect}\n     * @param rect2 {DOMRect}\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {boolean}\n     */\n    function isOutside(rect1, rect2, dir) {\n        switch (dir) {\n            case 'left':\n                return isRightSide(rect2, rect1);\n            case 'right':\n                return isRightSide(rect1, rect2);\n            case 'up':\n                return isBelow(rect2, rect1);\n            case 'down':\n                return isBelow(rect1, rect2);\n            default:\n                return false;\n        }\n    }\n\n    /* rect1 is right of rect2 */\n    function isRightSide(rect1, rect2) {\n        return rect1.left >= rect2.right || (rect1.left >= rect2.left && rect1.right > rect2.right && rect1.bottom > rect2.top && rect1.top < rect2.bottom);\n    }\n\n    /* rect1 is below of rect2 */\n    function isBelow(rect1, rect2) {\n        return rect1.top >= rect2.bottom || (rect1.top >= rect2.top && rect1.bottom > rect2.bottom && rect1.left < rect2.right && rect1.right > rect2.left);\n    }\n\n    /* rect1 is completely aligned or partially aligned for the direction */\n    function isAligned(rect1, rect2, dir) {\n        switch (dir) {\n            case 'left' :\n            /* falls through */\n            case 'right' :\n                return rect1.bottom > rect2.top && rect1.top < rect2.bottom;\n            case 'up' :\n            /* falls through */\n            case 'down' :\n                return rect1.right > rect2.left && rect1.left < rect2.right;\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * Get distance between the search origin and a candidate element along the direction when candidate element is inside the search origin.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getDistanceFromPoint\n     * @param point {Point} - The search origin\n     * @param element {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The euclidian distance between the spatial navigation container and an element inside it\n     */\n    function getDistanceFromPoint(point, element, dir) {\n        point = startingPoint;\n        // Get exit point, entry point -> {x: '', y: ''};\n        const points = getEntryAndExitPoints(dir, point, element);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // The result is euclidian distance between P1 and P2.\n        return Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n    }\n\n    /**\n     * Get distance between the search origin and a candidate element along the direction when candidate element is inside the search origin.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getInnerDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The euclidean distance between the spatial navigation container and an element inside it\n     */\n    function getInnerDistance(rect1, rect2, dir) {\n        const baseEdgeForEachDirection = {left: 'right', right: 'left', up: 'bottom', down: 'top'};\n        const baseEdge = baseEdgeForEachDirection[dir];\n\n        return Math.abs(rect1[baseEdge] - rect2[baseEdge]);\n    }\n\n    /**\n     * Get the distance between the search origin and a candidate element considering the direction.\n     * @see {@link https://drafts.csswg.org/css-nav-1/#calculating-the-distance}\n     * @function getDistance\n     * @param searchOrigin {DOMRect | Point} - The search origin\n     * @param candidateRect {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getDistance(searchOrigin, candidateRect, dir) {\n        const kOrthogonalWeightForLeftRight = 30;\n        const kOrthogonalWeightForUpDown = 2;\n\n        let orthogonalBias = 0;\n        let alignBias = 0;\n        const alignWeight = 5.0;\n\n        // Get exit point, entry point -> {x: '', y: ''};\n        const points = getEntryAndExitPoints(dir, searchOrigin, candidateRect);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // A: The euclidean distance between P1 and P2.\n        const A = Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n        let B, C;\n\n        // B: The absolute distance in the direction which is orthogonal to dir between P1 and P2, or 0 if dir is null.\n        // C: The intersection edges between a candidate and the starting point.\n\n        // D: The square root of the area of intersection between the border boxes of candidate and starting point\n        const intersectionRect = getIntersectionRect(searchOrigin, candidateRect);\n        const D = intersectionRect.area;\n\n        switch (dir) {\n            case 'left':\n            /* falls through */\n            case 'right' :\n                // If two elements are aligned, add align bias\n                // else, add orthogonal bias\n                if (isAligned(searchOrigin, candidateRect, dir))\n                    alignBias = Math.min(intersectionRect.height / searchOrigin.height , 1);\n                else\n                    orthogonalBias = (searchOrigin.height / 2);\n\n                B = (P2 + orthogonalBias) * kOrthogonalWeightForLeftRight;\n                C = alignWeight * alignBias;\n                break;\n\n            case 'up' :\n            /* falls through */\n            case 'down' :\n                // If two elements are aligned, add align bias\n                // else, add orthogonal bias\n                if (isAligned(searchOrigin, candidateRect, dir))\n                    alignBias = Math.min(intersectionRect.width / searchOrigin.width , 1);\n                else\n                    orthogonalBias = (searchOrigin.width / 2);\n\n                B = (P1 + orthogonalBias) * kOrthogonalWeightForUpDown;\n                C = alignWeight * alignBias;\n                break;\n\n            default:\n                B = 0;\n                C = 0;\n                break;\n        }\n\n        return (A + B - C - D);\n    }\n\n    /**\n     * Get the euclidean distance between the search origin and a candidate element considering the direction.\n     * @function getEuclideanDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getEuclideanDistance(rect1, rect2, dir) {\n        // Get exit point, entry point\n        const points = getEntryAndExitPoints(dir, rect1, rect2);\n\n        // Find the points P1 inside the border box of starting point and P2 inside the border box of candidate\n        // that minimize the distance between these two points\n        const P1 = Math.abs(points.entryPoint.x - points.exitPoint.x);\n        const P2 = Math.abs(points.entryPoint.y - points.exitPoint.y);\n\n        // Return the euclidean distance between P1 and P2.\n        return Math.sqrt(Math.pow(P1, 2) + Math.pow(P2, 2));\n    }\n\n    /**\n     * Get the absolute distance between the search origin and a candidate element considering the direction.\n     * @function getAbsoluteDistance\n     * @param rect1 {DOMRect} - The search origin\n     * @param rect2 {DOMRect} - A candidate element\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD)\n     * @returns {Number} The distance scoring between two elements\n     */\n    function getAbsoluteDistance(rect1, rect2, dir) {\n        // Get exit point, entry point\n        const points = getEntryAndExitPoints(dir, rect1, rect2);\n\n        // Return the absolute distance in the dir direction between P1 and P.\n        return ((dir === 'left') || (dir === 'right')) ?\n            Math.abs(points.entryPoint.x - points.exitPoint.x) : Math.abs(points.entryPoint.y - points.exitPoint.y);\n    }\n\n    /**\n     * Get entry point and exit point of two elements considering the direction.\n     * @function getEntryAndExitPoints\n     * @param dir {SpatialNavigationDirection} - The directional information for the spatial navigation (e.g. LRUD). Default value for dir is 'down'.\n     * @param searchOrigin {DOMRect | Point} - The search origin which contains the exit point\n     * @param candidateRect {DOMRect} - One of candidates which contains the entry point\n     * @returns {Points} The exit point from the search origin and the entry point from a candidate\n     */\n    function getEntryAndExitPoints(dir = 'down', searchOrigin, candidateRect) {\n        /**\n         * User type definition for Point\n         * @typeof {Object} Points\n         * @property {Point} Points.entryPoint\n         * @property {Point} Points.exitPoint\n         */\n        const points = {entryPoint: {x: 0, y: 0}, exitPoint:{x: 0, y: 0}};\n\n        if (startingPoint) {\n            points.exitPoint = searchOrigin;\n\n            switch (dir) {\n                case 'left':\n                    points.entryPoint.x = candidateRect.right;\n                    break;\n                case 'up':\n                    points.entryPoint.y = candidateRect.bottom;\n                    break;\n                case 'right':\n                    points.entryPoint.x = candidateRect.left;\n                    break;\n                case 'down':\n                    points.entryPoint.y = candidateRect.top;\n                    break;\n            }\n\n            // Set orthogonal direction\n            switch (dir) {\n                case 'left':\n                case 'right':\n                    if (startingPoint.y <= candidateRect.top) {\n                        points.entryPoint.y = candidateRect.top;\n                    } else if (startingPoint.y < candidateRect.bottom) {\n                        points.entryPoint.y = startingPoint.y;\n                    } else {\n                        points.entryPoint.y = candidateRect.bottom;\n                    }\n                    break;\n\n                case 'up':\n                case 'down':\n                    if (startingPoint.x <= candidateRect.left) {\n                        points.entryPoint.x = candidateRect.left;\n                    } else if (startingPoint.x < candidateRect.right) {\n                        points.entryPoint.x = startingPoint.x;\n                    } else {\n                        points.entryPoint.x = candidateRect.right;\n                    }\n                    break;\n            }\n        }\n        else {\n            // Set direction\n            switch (dir) {\n                case 'left':\n                    points.exitPoint.x = searchOrigin.left;\n                    points.entryPoint.x = (candidateRect.right < searchOrigin.left) ? candidateRect.right : searchOrigin.left;\n                    break;\n                case 'up':\n                    points.exitPoint.y = searchOrigin.top;\n                    points.entryPoint.y = (candidateRect.bottom < searchOrigin.top) ? candidateRect.bottom : searchOrigin.top;\n                    break;\n                case 'right':\n                    points.exitPoint.x = searchOrigin.right;\n                    points.entryPoint.x = (candidateRect.left > searchOrigin.right) ? candidateRect.left : searchOrigin.right;\n                    break;\n                case 'down':\n                    points.exitPoint.y = searchOrigin.bottom;\n                    points.entryPoint.y = (candidateRect.top > searchOrigin.bottom) ? candidateRect.top : searchOrigin.bottom;\n                    break;\n            }\n\n            // Set orthogonal direction\n            switch (dir) {\n                case 'left':\n                case 'right':\n                    if (isBelow(searchOrigin, candidateRect)) {\n                        points.exitPoint.y = searchOrigin.top;\n                        points.entryPoint.y = (candidateRect.bottom < searchOrigin.top) ? candidateRect.bottom : searchOrigin.top;\n                    } else if (isBelow(candidateRect, searchOrigin)) {\n                        points.exitPoint.y = searchOrigin.bottom;\n                        points.entryPoint.y = (candidateRect.top > searchOrigin.bottom) ? candidateRect.top : searchOrigin.bottom;\n                    } else {\n                        points.exitPoint.y = Math.max(searchOrigin.top, candidateRect.top);\n                        points.entryPoint.y = points.exitPoint.y;\n                    }\n                    break;\n\n                case 'up':\n                case 'down':\n                    if (isRightSide(searchOrigin, candidateRect)) {\n                        points.exitPoint.x = searchOrigin.left;\n                        points.entryPoint.x = (candidateRect.right < searchOrigin.left) ? candidateRect.right : searchOrigin.left;\n                    } else if (isRightSide(candidateRect, searchOrigin)) {\n                        points.exitPoint.x = searchOrigin.right;\n                        points.entryPoint.x = (candidateRect.left > searchOrigin.right) ? candidateRect.left : searchOrigin.right;\n                    } else {\n                        points.exitPoint.x = Math.max(searchOrigin.left, candidateRect.left);\n                        points.entryPoint.x = points.exitPoint.x;\n                    }\n                    break;\n            }\n        }\n\n        return points;\n    }\n\n    /**\n     * Find focusable elements within the container\n     * @see {@link https://drafts.csswg.org/css-nav-1/#find-the-shortest-distance}\n     * @function getIntersectionRect\n     * @param rect1 {DOMRect} - The search origin which contains the exit point\n     * @param rect2 {DOMRect} - One of candidates which contains the entry point\n     * @returns {IntersectionArea} The intersection area between two elements.\n     *\n     * @typeof {Object} IntersectionArea\n     * @property {Number} IntersectionArea.width\n     * @property {Number} IntersectionArea.height\n     */\n    function getIntersectionRect(rect1, rect2) {\n        const intersection_rect = {width: 0, height: 0, area: 0};\n\n        const new_location = [Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)];\n        const new_max_point = [Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom)];\n\n        intersection_rect.width = Math.abs(new_location[0] - new_max_point[0]);\n        intersection_rect.height = Math.abs(new_location[1] - new_max_point[1]);\n\n        if (!(new_location[0] >= new_max_point[0] || new_location[1] >= new_max_point[1])) {\n            // intersecting-cases\n            intersection_rect.area = Math.sqrt(intersection_rect.width * intersection_rect.height);\n        }\n\n        return intersection_rect;\n    }\n\n    /**\n     * Handle the spatial navigation behavior for HTMLInputElement, HTMLTextAreaElement\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input|HTMLInputElement (MDN)}\n     * @function handlingEditableElement\n     * @param e {Event} - keydownEvent\n     * @returns {boolean}\n     */\n    function handlingEditableElement(e) {\n        const SPINNABLE_INPUT_TYPES = ['email', 'date', 'month', 'number', 'time', 'week'],\n            TEXT_INPUT_TYPES = ['password', 'text', 'search', 'tel', 'url', null];\n        const eventTarget = document.activeElement;\n        const startPosition = eventTarget.selectionStart;\n        const endPosition = eventTarget.selectionEnd;\n        const focusNavigableArrowKey = {left: false, up: false, right: false, down: false};\n\n        const dir = ARROW_KEY_CODE[e.keyCode];\n        if (dir === undefined) {\n            return focusNavigableArrowKey;\n        }\n\n        if (SPINNABLE_INPUT_TYPES.includes(eventTarget.getAttribute('type')) &&\n            (dir === 'up' || dir === 'down')) {\n            focusNavigableArrowKey[dir] = true;\n        } else if (TEXT_INPUT_TYPES.includes(eventTarget.getAttribute('type')) || eventTarget.nodeName === 'TEXTAREA') {\n            if (startPosition === endPosition) { // if there isn't any selected text\n                if (startPosition === 0) {\n                    focusNavigableArrowKey.left = true;\n                    focusNavigableArrowKey.up = true;\n                }\n                if (endPosition === eventTarget.value.length) {\n                    focusNavigableArrowKey.right = true;\n                    focusNavigableArrowKey.down = true;\n                }\n            }\n        } else { // HTMLDataListElement, HTMLSelectElement, HTMLOptGroup\n            focusNavigableArrowKey[dir] = true;\n        }\n\n        return focusNavigableArrowKey;\n    }\n\n    /**\n     * Get the DOMRect of an element\n     * @function getBoundingClientRect\n     * @param {Node} element\n     * @returns {DOMRect}\n     */\n    function getBoundingClientRect(element) {\n        // memoization\n        let rect = mapOfBoundRect && mapOfBoundRect.get(element);\n        if (!rect) {\n            const boundingClientRect = element.getBoundingClientRect();\n            rect = {\n                top: Number(boundingClientRect.top.toFixed(2)),\n                right: Number(boundingClientRect.right.toFixed(2)),\n                bottom: Number(boundingClientRect.bottom.toFixed(2)),\n                left: Number(boundingClientRect.left.toFixed(2)),\n                width: Number(boundingClientRect.width.toFixed(2)),\n                height: Number(boundingClientRect.height.toFixed(2))\n            };\n            mapOfBoundRect && mapOfBoundRect.set(element, rect);\n        }\n        return rect;\n    }\n\n    /**\n     * Get the candidates which is fully inside the target element in visual\n     * @param {Node} targetElement\n     * @returns {sequence<Node>}  overlappedCandidates\n     */\n    function getOverlappedCandidates(targetElement) {\n        const container = targetElement.getSpatialNavigationContainer();\n        const candidates = container.focusableAreas();\n        const overlappedCandidates = [];\n\n        candidates.forEach(element => {\n            if ((targetElement !== element) && isEntirelyVisible(element, targetElement)) {\n                overlappedCandidates.push(element);\n            }\n        });\n\n        return overlappedCandidates;\n    }\n\n    /**\n     * Get the list of the experimental APIs\n     * @function getExperimentalAPI\n     */\n    function getExperimentalAPI() {\n        function canScroll(container, dir) {\n            return (isScrollable(container, dir) && !isScrollBoundary(container, dir)) ||\n                (!container.parentElement && !isHTMLScrollBoundary(container, dir));\n        }\n\n        function findTarget(findCandidate, element, dir, option) {\n            let eventTarget = element;\n            let bestNextTarget = null;\n\n            // 4\n            if (eventTarget === document || eventTarget === document.documentElement) {\n                eventTarget = document.body || document.documentElement;\n            }\n\n            // 5\n            // At this point, spatialNavigationSearch can be applied.\n            // If startingPoint is either a scroll container or the document,\n            // find the best candidate within startingPoint\n            if ((isContainer(eventTarget) || eventTarget.nodeName === 'BODY') && !(eventTarget.nodeName === 'INPUT')) {\n                if (eventTarget.nodeName === 'IFRAME')\n                    eventTarget = eventTarget.contentDocument.body;\n\n                const candidates = getSpatialNavigationCandidates(eventTarget, option);\n\n                // 5-2\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    return findCandidate ? getFilteredSpatialNavigationCandidates(eventTarget, dir, candidates) : eventTarget.spatialNavigationSearch(dir, {candidates});\n                }\n                if (canScroll(eventTarget, dir)) {\n                    return findCandidate ? [] : eventTarget;\n                }\n            }\n\n            // 6\n            // Let container be the nearest ancestor of eventTarget\n            let container = eventTarget.getSpatialNavigationContainer();\n            let parentContainer = (container.parentElement) ? container.getSpatialNavigationContainer() : null;\n\n            // When the container is the viewport of a browsing context\n            if (!parentContainer && ( window.location !== window.parent.location)) {\n                parentContainer = window.parent.document.documentElement;\n            }\n\n            // 7\n            while (parentContainer) {\n                const candidates = filteredCandidates(eventTarget, getSpatialNavigationCandidates(container, option), dir, container);\n\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    bestNextTarget = eventTarget.spatialNavigationSearch(dir, {candidates, container});\n                    if (bestNextTarget) {\n                        return findCandidate ? candidates : bestNextTarget;\n                    }\n                }\n\n                    // If there isn't any candidate and the best candidate among candidate:\n                    // 1) Scroll or 2) Find candidates of the ancestor container\n                // 8 - if\n                else if (canScroll(container, dir)) {\n                    return findCandidate ? [] : eventTarget;\n                } else if (container === document || container === document.documentElement) {\n                    container = window.document.documentElement;\n\n                    // The page is in an iframe\n                    if ( window.location !== window.parent.location ) {\n                        // eventTarget needs to be reset because the position of the element in the IFRAME\n                        // is unuseful when the focus moves out of the iframe\n                        eventTarget = window.frameElement;\n                        container = window.parent.document.documentElement;\n                        if (container.parentElement)\n                            parentContainer = container.getSpatialNavigationContainer();\n                        else {\n                            parentContainer = null;\n                            break;\n                        }\n                    }\n                } else {\n                    // avoiding when spatnav container with tabindex=-1\n                    if (isFocusable(container)) {\n                        eventTarget = container;\n                    }\n\n                    container = parentContainer;\n                    if (container.parentElement)\n                        parentContainer = container.getSpatialNavigationContainer();\n                    else {\n                        parentContainer = null;\n                        break;\n                    }\n                }\n            }\n\n            if (!parentContainer && container) {\n                // Getting out from the current spatnav container\n                const candidates = filteredCandidates(eventTarget, getSpatialNavigationCandidates(container, option), dir, container);\n\n                // 9\n                if (Array.isArray(candidates) && candidates.length > 0) {\n                    bestNextTarget = eventTarget.spatialNavigationSearch(dir, {candidates, container});\n                    if (bestNextTarget) {\n                        return findCandidate ? candidates : bestNextTarget;\n                    }\n                }\n            }\n\n            if (canScroll(container, dir)) {\n                bestNextTarget = eventTarget;\n                return bestNextTarget;\n            }\n        }\n\n        return {\n            isContainer,\n            isScrollContainer,\n            isVisibleInScroller,\n            findCandidates: findTarget.bind(null, true),\n            findNextTarget: findTarget.bind(null, false),\n            getDistanceFromTarget: (element, candidateElement, dir) => {\n                if ((isContainer(element) || element.nodeName === 'BODY') && !(element.nodeName === 'INPUT')) {\n                    if (getSpatialNavigationCandidates(element).includes(candidateElement)) {\n                        return getInnerDistance(getBoundingClientRect(element), getBoundingClientRect(candidateElement), dir);\n                    }\n                }\n                return getDistance(getBoundingClientRect(element), getBoundingClientRect(candidateElement), dir);\n            }\n        };\n    }\n\n    /**\n     * Makes to use the experimental APIs.\n     * @function enableExperimentalAPIs\n     * @param option {boolean} - If it is true, the experimental APIs can be used or it cannot.\n     */\n    function enableExperimentalAPIs (option) {\n        const currentKeyMode = window.__spatialNavigation__ && window.__spatialNavigation__.keyMode;\n        window.__spatialNavigation__ = (option === false) ? getInitialAPIs() : Object.assign(getInitialAPIs(), getExperimentalAPI());\n        window.__spatialNavigation__.keyMode = currentKeyMode;\n        Object.seal(window.__spatialNavigation__);\n    }\n\n    /**\n     * Set the environment for using the spatial navigation polyfill.\n     * @function getInitialAPIs\n     */\n    function getInitialAPIs() {\n        return {\n            enableExperimentalAPIs,\n            get keyMode() { return this._keymode ? this._keymode : 'ARROW'; },\n            set keyMode(mode) { this._keymode = (['SHIFTARROW', 'ARROW', 'NONE'].includes(mode)) ? mode : 'ARROW'; },\n            setStartingPoint: function (x, y) {startingPoint = (x && y) ? {x, y} : null;}\n        };\n    }\n\n    initiateSpatialNavigation();\n    enableExperimentalAPIs(true);\n\n    window.addEventListener('load', () => {\n        spatialNavigationHandler();\n    });\n})();\n\nlet currentSpatialNavigationContainer = null;\n\ndocument.addEventListener('navbeforefocus', (e) => {\n    if (e.target instanceof HTMLElement) {\n        let { target } = e;\n\n        // focus on the first element when changing spatnav container\n        const nextSpatialNavigationContainer = target.getSpatialNavigationContainer();\n        console.log(nextSpatialNavigationContainer.focusableAreas({ mode: 'all' }));\n        if (currentSpatialNavigationContainer && currentSpatialNavigationContainer !== nextSpatialNavigationContainer) {\n            e.preventDefault();\n\n            if (nextSpatialNavigationContainer.__lastElementFocused) {\n                target = nextSpatialNavigationContainer.__lastElementFocused;\n            } else {\n                [target] = nextSpatialNavigationContainer.focusableAreas({ mode: 'all' });\n            }\n            target.focus();\n        }\n\n\n        currentSpatialNavigationContainer = nextSpatialNavigationContainer;\n        currentSpatialNavigationContainer.__lastElementFocused = target\n\n        requestAnimationFrame(() => {\n            target.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });\n        });\n    }\n});\n\ndocument.addEventListener(\"keyup\", (event) => {\n    if (event.keyCode === 13) {\n        event.preventDefault();\n        if (document.activeElement) {\n            document.activeElement.click()\n        }\n    }\n});\n","import { createHashHistory } from 'history';\n\nexport default createHashHistory();\n","import { types, Instance, SnapshotIn, SnapshotOut } from 'mobx-state-tree';\n\nconst User = types.model('User', {\n    address: types.maybeNull(types.string),\n    location: types.maybeNull(types.string),\n});\n\nexport default User;\n\nexport type UserSnapshotOut = SnapshotOut<typeof User>;\nexport type UserSnapshotIn = SnapshotIn<typeof User>;\nexport type UserModel = Instance<typeof User>;\n","import { types, Instance, SnapshotIn, SnapshotOut } from 'mobx-state-tree';\n\nconst ProductItem = types.model('Product', {\n    id: types.identifier,\n    name: types.string,\n    clearName: types.string,\n    price: types.number,\n    imagesUrls: types.array(types.string),\n    index: types.maybeNull(types.number),\n    visible: types.maybeNull(types.boolean),\n});\n\nexport default ProductItem;\n\nexport type ProductItemSnapshotOut = SnapshotOut<typeof ProductItem>;\nexport type ProductItemSnapshotIn = SnapshotIn<typeof ProductItem>;\nexport type ProductItemModel = Instance<typeof ProductItem>;\n","import { types, Instance, SnapshotIn, SnapshotOut } from 'mobx-state-tree';\n\nimport ProductItem, { ProductItemModel } from './product';\n\nconst Products = types\n    .model('Products', {\n        title: types.optional(types.string, ''),\n        items: types.array(ProductItem),\n        selectedId: types.maybeNull(types.string),\n    })\n    .actions((self) => {\n        const products = self;\n        const setVisibility = (item: ProductItemModel, value: boolean, index: number | null): void => {\n            item.visible = value;\n            item.index = index;\n        };\n\n        const selectItem = (itemId: string): void => {\n            if (products.items.find((item) => item.id === itemId)) {\n                products.selectedId = itemId;\n            }\n        };\n\n        return {\n            setVisibility,\n            selectItem,\n        };\n    });\n\nexport default Products;\n\nexport type ProductsModel = Instance<typeof Products>;\nexport type ProductsSnapshotOut = SnapshotOut<typeof Products>;\nexport type ProductsSnapshotIn = SnapshotIn<typeof Products>;\n","import { types, Instance, SnapshotIn, cast, SnapshotOut } from 'mobx-state-tree';\n\nimport ProductItem from './product';\n\nconst CartItem = types.model('CartItem', {\n    product: types.reference(ProductItem),\n    count: types.number,\n});\n\nexport type CartItemModel = Instance<typeof CartItem>;\n\nconst Cart = types\n    .model('Cart', {\n        items: types.array(CartItem),\n        orderId: types.maybeNull(types.string),\n    })\n    .views((self) => ({\n        get count(): number {\n            return self.items.reduce((acc: number, item: CartItemModel) => acc + item.count, 0);\n        },\n\n        get totalPrice(): number {\n            return self.items.reduce((acc: number, item: CartItemModel) => acc + item.product.price * item.count, 0);\n        },\n\n        get itemsMap(): { [key: string]: CartItemModel } {\n            return self.items.reduce((acc: Record<string, CartItemModel>, item: CartItemModel) => {\n                acc[item.product.id] = item;\n\n                return acc;\n            }, {});\n        },\n    }))\n    .actions((self) => {\n        const cart = self;\n\n        const addToCart = (itemId: string): void => {\n            const item = cart.items.find((item) => item.product.id === itemId);\n\n            if (item) {\n                item.count++;\n            } else {\n                cart.items.push({\n                    product: itemId,\n                    count: 1,\n                });\n            }\n        };\n\n        const clear = (): void => {\n            cart.items = cast([]);\n        };\n\n        interface RemoveFromCartParams {\n            itemId: string;\n            count: number;\n            shouldRemoveMention?: boolean;\n        }\n\n        const removeFromCart = ({ itemId, count, shouldRemoveMention }: RemoveFromCartParams) => {\n            const index = cart.items.findIndex((item: CartItemModel) => item.product.id === itemId);\n            const item = cart.items[index];\n\n            if (!item) {\n                return;\n            }\n\n            item.count = Math.max(0, item.count - count);\n\n            if (!item.count && shouldRemoveMention) {\n                cart.items.splice(index, 1);\n            }\n        };\n\n        const confirmPayment = (): void => {\n            window.AssistantClient.sendMessage({\n                type: 'server_action',\n                /* eslint-disable @typescript-eslint/camelcase */\n                server_action: {\n                    action_id: 'make_purchase',\n                },\n                /* eslint-enable @typescript-eslint/camelcase */\n            });\n        };\n\n        return {\n            clear,\n            addToCart,\n            removeFromCart,\n            confirmPayment,\n        };\n    });\n\nexport type CartModel = Instance<typeof Cart>;\nexport type CartSnapshotOut = SnapshotOut<typeof Cart>;\nexport type CartSnapshotIn = SnapshotIn<typeof Cart>;\n\nexport default Cart;\n","import { applySnapshot } from 'mobx-state-tree';\n\nimport { StoreType } from './types';\nimport { routes } from './ui';\n\ninterface VpsStockItem {\n    name: string;\n    clear_name: string; // eslint-disable-line camelcase\n    guid: string;\n    price: string;\n    images_urls: string[]; // eslint-disable-line camelcase\n}\n\ninterface AddItemsCommand {\n    stock: VpsStockItem[];\n}\n\nconst showItemsCast = (store: StoreType, command: AddItemsCommand): void => {\n    const stock = Object.values(command.stock);\n    const items = stock.map((item: VpsStockItem) => ({\n        id: item.guid,\n        name: item.name,\n        clearName: item.clear_name,\n        price: Number(item.price),\n        guid: item.guid,\n        imagesUrls: item.images_urls,\n    }));\n\n    applySnapshot(store.products, {\n        title: '',\n        items,\n    });\n    store.ui.isLoading = false;\n};\n\ninterface VpsAddItem extends AssistantSdkCommand {\n    item: string;\n    count: number;\n}\n\nconst addItemCast = (store: StoreType, command: VpsAddItem): void => {\n    const { item: itemName, count } = command;\n    const item = store.products.items.find(({ name }) => name === itemName);\n\n    let products = count;\n    if (item) {\n        while (products) {\n            store.cart.addToCart(item.id);\n            products -= 1;\n        }\n        store.products.selectItem(item.id);\n    }\n};\n\ninterface RemoveItemFromCartCommand extends AssistantSdkCommand {\n    item: string;\n    count: number;\n}\n\nconst removeItem = (store: StoreType, { item, count }: RemoveItemFromCartCommand) =>\n    store.cart.removeFromCart({ itemId: item, count, shouldRemoveMention: true });\n\nconst removeAll = (store: StoreType) => store.cart.clear();\n\nconst gotoCart = (store: StoreType): void => {\n    store.ui.gotoPage(routes.CART);\n};\n\ninterface GotoCatalogCommand extends AssistantSdkCommand {\n    clear: boolean;\n}\n\nconst gotoCatalog = (store: StoreType, command: GotoCatalogCommand): void => {\n    if (command.clear) {\n        store.cart.clear();\n    }\n\n    store.ui.gotoPage(routes.CATALOG);\n};\n\ninterface ValidationOkCommand extends AssistantSdkCommand {\n    order_id: string; // eslint-disable-line camelcase\n}\n\nconst success = (store: StoreType, command: ValidationOkCommand): void => {\n    store.cart.orderId = command.order_id;\n    store.ui.gotoPage(routes.STATUS);\n};\n\nconst casts: { [key: string]: Function } = {\n    SHOW_ITEMS: showItemsCast,\n    ADD_ITEM: addItemCast,\n    REMOVE_ITEM: removeItem,\n    REMOVE_ALL: removeAll,\n    GO_TO_VALIDATION: gotoCart,\n    GO_TO_CATALOG: gotoCatalog,\n    VALIDATION_OK: success,\n};\n\nexport default casts;\n","import { types, applySnapshot } from 'mobx-state-tree';\nimport { environment, isProduction } from 'configs';\nimport { USER_MOCK } from 'mocks';\n\nimport user from './user';\nimport ui, { routes } from './ui';\nimport products from './products';\nimport cart from './cart';\nimport { StoreType } from './types';\nimport casts from './casts';\n\nconst Store = types\n    .model('Store', {\n        ui: types.optional(ui, {}),\n        products: types.optional(products, {}),\n        cart: types.optional(cart, {}),\n        user: types.optional(user, {}),\n    })\n    .actions((self) => {\n        const store = self;\n\n        const afterCreate = function init() {\n            applySnapshot(store.user, {\n                address: USER_MOCK.address,\n            });\n            store.ui.isLoading = true;\n\n            if (window.AssistantHost && typeof window.AssistantHost.ready === 'function') {\n                window.AssistantHost.ready();\n            }\n\n            if (environment !== 'production') {\n                //       , .\n                // applySnapshot(store.products, PRODUCTS_MOCK)\n                // store.ui.isLoading = false;\n            }\n        };\n\n        const onMessage = (message: AssistantSdkCommand): void => {\n            const { command } = message.smart_app_data;\n\n            if (command in casts) {\n                const castFn = casts[command];\n\n                castFn(store, message.smart_app_data);\n            } else {\n                // eslint-disable-next-line no-underscore-dangle\n                window.__messages.push({\n                    'not-fount': message,\n                });\n            }\n        };\n\n        return { onMessage, afterCreate };\n    });\n\nconst store = Store.create({});\n\nfunction castFromStore(store: StoreType): AppStateInterface {\n    return {\n        items:\n            store.ui.page === routes.CATALOG\n                ? store.products.items.map((product) => ({\n                      number: product.index,\n                      title: product.name,\n                      visibles: product.visible,\n                      id: product.id,\n                      count_in_cart: store.cart.itemsMap[product.id] ? store.cart.itemsMap[product.id].count : 0, // eslint-disable-line\n                      action: {},\n                  }))\n                : [],\n        current_screen: store.ui.page === routes.CATALOG ? 'catalog' : 'cart', // eslint-disable-line\n        foodtech: {\n            products: Object.keys(store.cart.itemsMap).map((itemId) => ({\n                id: itemId,\n                quantity: store.cart.itemsMap[itemId].count,\n            })),\n            totalPrice: {\n                value: store.cart.totalPrice,\n                discountValue: 0,\n            },\n        },\n    };\n}\n\nif (!isProduction) {\n    window.AssistantHost = window.AssistantHost || {};\n    window.AssistantHost.sendMessage = (some) => some;\n    window.AssistantHost.updateState = (some) => some;\n}\n\nwindow.AssistantClient = window.AssistantClient || {};\n\n/**\n * Assistand SDK API implementation:\n */\nwindow.AssistantClient.onStart = function AssistantSdkOnStart(): void {\n    // eslint-disable-next-line no-underscore-dangle\n    window.__messages = window.__messages || [];\n};\n\nwindow.AssistantClient.onData = function AssistantSdkOnMessage(command: AssistantSdkCommand): void {\n    store.onMessage(command);\n};\n\n// TODO     AssistantSDK\nwindow.AssistantClient.sendMessage = function AssistantSdkSendMessage(message: any): void {\n    window.AssistantHost.sendMessage(JSON.stringify(message));\n};\n\nwindow.AssistantClient.onRequestState = function AssistantSdkOnRequestState(): void {\n    const state = castFromStore(store);\n    window.AssistantHost.updateState(JSON.stringify(state));\n};\n\nexport default store;\n","import React from 'react';\n\nimport './Suggest.scss';\n\ninterface SuggestProps {\n    items: string[];\n}\n\nexport const Suggest: React.FC<SuggestProps> = ({ items }) => (\n    <div className=\"Suggest\">\n        {items.map((item) => (\n            <div className=\"Suggest-Item\" key={item}>\n                {item}\n            </div>\n        ))}\n    </div>\n);\n","import React from 'react';\n\nimport './style.scss';\n\ninterface ContainerProps {\n    children: React.ReactNode;\n    className?: string;\n    fluid?: boolean;\n    [key: string]: any;\n}\n\nconst Container: React.FC<ContainerProps> = ({ children, className = '', ...props }) => (\n    <div className={`sb-Container ${className}`} {...props}>\n        {children}\n    </div>\n);\n\nexport default Container;\n","import React from 'react';\n\nimport './style.scss';\n\ninterface RowProps {\n    children: React.ReactNode;\n    className?: string;\n    verticalPadding?: string | number;\n    topPadding?: string | number;\n    bottomPadding?: string | number;\n    noGutters?: boolean;\n    style?: React.CSSProperties;\n    [key: string]: any;\n}\n\nconst Row: React.FC<RowProps> = ({\n    children,\n    className = '',\n    noGutters = false,\n    verticalPadding,\n    topPadding,\n    bottomPadding,\n    style = {},\n    ...props\n}) => {\n    const styles = {\n        ...style,\n        paddingTop: `${verticalPadding || topPadding}px`,\n        paddingBottom: `${verticalPadding || bottomPadding}px`,\n    };\n\n    const elClassname = `sb-Row ${noGutters ? 'sb-Row_noGutters' : ''}`;\n\n    return (\n        <div style={styles} className={`${elClassname} ${className}`} {...props}>\n            {children}\n        </div>\n    );\n};\n\nexport default Row;\n","import config from 'configs';\n\nconst PREFIX = config.cssPrefix || '';\n\ninterface ConfitionsInterface<T> {\n    T?: boolean;\n}\n\nexport default (blockName: string, delimeter = '__', modDelimeter = '_'): BemRenderer => {\n    function renderer(...elements: string[]): string {\n        if (!elements.length) {\n            return PREFIX + blockName;\n        }\n\n        return elements.map((element) => PREFIX + blockName + delimeter + element).join(' ');\n    }\n\n    renderer.elem = (element: string, mod: string, modVal?: string): string =>\n        PREFIX + blockName + delimeter + element + modDelimeter + mod + (modVal ? modDelimeter + modVal : '');\n\n    renderer.mod = (mod: string, modVal?: string): string =>\n        PREFIX + blockName + modDelimeter + mod + (modVal ? modDelimeter + modVal : '');\n\n    renderer.modify = (conditions: ConfitionsInterface<string> = {}, elem?: string): string => {\n        const elemToModify = elem ? blockName + delimeter + elem : blockName;\n\n        return [\n            PREFIX,\n            elemToModify,\n            ' ',\n            Object.entries(conditions)\n                .map(([mod, predicate]) => Boolean(predicate) && PREFIX + elemToModify + modDelimeter + mod)\n                .filter(Boolean)\n                .join(' '),\n        ].join('');\n    };\n\n    renderer.all = (...values: string[]): string => values.join(' ');\n\n    return renderer;\n};\n","import React from 'react';\nimport Bem from 'tools/bem';\n\nexport default (Component: React.FC<any>, componentName?: string) => (props?: any, context?: any) => (\n    <Component {...props} context={context} bem={Bem(componentName || Component.name)} />\n);\n","import React from 'react';\nimport { StoreType } from 'stores/types';\nimport withBem from 'hoc/withBem';\nimport { connectToStore } from 'tools/connect';\n\nimport './Header.scss';\n\ninterface HeaderProps extends BemProps, StoreType {\n    title: string;\n    subtitle?: string;\n}\n\nconst Component: React.FC<HeaderProps> = ({ bem, ui, title, subtitle, children }) => (\n    <div className={bem()}>\n        {ui.previous ? <span className={bem('back')} /> : ''}\n        <div className={bem('section')}>\n            <div className={bem('logo')} />\n            <div className={bem('title-container')}>\n                <div className={bem('title')}>{title}</div>\n                {subtitle ? <div className={bem('subtitle')}>{subtitle}</div> : ''}\n            </div>\n        </div>\n        <div className={bem('section')}>{children}</div>\n    </div>\n);\n\nexport const Header = connectToStore(withBem(Component, 'Header'));\n","import React from 'react';\nimport { connectToStore } from 'tools/connect';\nimport { StoreType } from 'stores/types';\nimport withBem from 'hoc/withBem';\nimport { routes } from 'stores/ui';\n\nimport './HeaderAddress.scss';\n\ninterface HeaderAddressProps extends StoreType, BemProps {}\n\nconst Component: React.FC<HeaderAddressProps> = ({ user, ui, bem }) => (\n    <div className={bem()} tabIndex={0} onClick={() => ui.gotoPage(routes.MAP)}>\n        <div className={bem('icon')} />\n        <div className={bem('text')}>{user.address}</div>\n    </div>\n);\n\nexport const HeaderAddress = withBem(connectToStore(Component), 'HeaderAddress');\n","import React from 'react';\nimport { connectToStore } from 'tools/connect';\nimport { StoreType } from 'stores/types';\nimport withBem from 'hoc/withBem';\n\nimport './HeaderCart.scss';\n\ninterface HeaderCartProps extends StoreType, BemProps {}\n\nconst Component: React.FC<HeaderCartProps> = ({ cart, ui, bem }) => (\n    <div className={bem()} tabIndex={0} onClick={() => ui.goToCart()}>\n        <div className={bem('icon')}>{cart.count > 0 && <span className={bem('badge')}>{cart.count}</span>}</div>\n        <div className={bem('price')}>{cart.totalPrice} </div>\n    </div>\n);\n\nexport const HeaderCart = withBem(connectToStore(Component), 'HeaderCart');\n","import React from 'react';\nimport withBem from 'hoc/withBem';\n\nimport './style.scss';\n\ninterface Card {\n    className?: string;\n    children: React.ReactNode;\n    index?: number | string | false;\n    badge: string;\n    bem: BemRenderer;\n    size?: number;\n}\n\nconst Card: React.FC<Card> = ({ children, className = '', index, badge, bem, size }) => {\n    const style = size ? { width: size, height: size } : {};\n    return (\n        <div className={bem.all(bem(), className)} style={style}>\n            {index && <span className={bem('index')}>{index}</span>}\n            {typeof badge !== 'undefined' && <span className={bem('badge')}>{badge}</span>}\n            {children}\n        </div>\n    );\n};\n\nexport default withBem(Card, 'Card');\n","import React from 'react';\nimport Card from 'components/Card';\nimport withBem from 'hoc/withBem';\nimport { ProductItemModel } from 'stores/product';\n\nimport './CatalogListItem.scss';\n\ninterface CatalogListItemProps extends ProductItemModel, BemProps {\n    countInCart: number;\n    onClick: () => void;\n}\n\nconst Component: React.FC<CatalogListItemProps> = ({ bem, imagesUrls, countInCart, name, price, index, onClick }) => (\n    <div tabIndex={0} className={bem()} onClick={onClick}>\n        <Card index={index} className={bem('card')}>\n            <img className={bem('img')} src={imagesUrls[0]} alt=\"\" />\n        </Card>\n        <div className={bem('description')}>\n            <span className={bem('callToAction')} />\n            <div className={bem('row')}>\n                <span className={bem('title', 'name')}>{name}</span>\n            </div>\n            <div className={bem('priceRow')}>\n                <span className={bem('title', 'price')}>{price} </span>\n                {countInCart ? <span className={bem('title', 'badge')}>{countInCart}</span> : ''}\n            </div>\n        </div>\n    </div>\n);\n\nexport const CatalogListItem = withBem(Component, 'CatalogListItem');\n","import React from 'react';\nimport { connectToStore } from 'tools/connect';\nimport withBem from 'hoc/withBem';\nimport { StoreType } from 'stores/types';\nimport { ProductItemModel } from 'stores/product';\n\nimport { CatalogListItem } from '../ListItem/CatalogListItem';\nimport './CatalogList.scss';\n\ninterface CatalogListProps extends StoreType, BemProps {\n    childKeyPrefix: string;\n}\n\nconst Component: React.FC<CatalogListProps> = ({ bem, products, cart }) => (\n    <div className={bem()}>\n        <div className={bem('container')}>\n            {products.items.map((item: ProductItemModel, index) => (\n                <CatalogListItem\n                    {...item}\n                    countInCart={cart.itemsMap[item.id] ? cart.itemsMap[item.id].count : 0}\n                    key={item.id}\n                    index={index + 1}\n                    onClick={() => cart.addToCart(item.id)}\n                />\n            ))}\n        </div>\n    </div>\n);\n\nexport const CatalogList = withBem(connectToStore(Component), 'CatalogList');\n","import React from 'react';\nimport { environment } from 'configs';\nimport { PRODUCTS_MOCK } from 'mocks';\nimport { Suggest } from 'components/Suggest/Suggest';\nimport Container from 'components/Grids/Container';\nimport Row from 'components/Grids/Row';\nimport Skeleton from 'components/Skeleton';\nimport ContentLoader from 'components/ContentLoader';\nimport { Header } from 'components/Header/Header';\nimport { HeaderAddress } from 'components/HeaderAddress/HeaderAddress';\nimport { HeaderCart } from 'components/HeaderCart/HeaderCart';\nimport { connectToStore } from 'tools/connect';\nimport { StoreType } from 'stores/types';\n\nimport { CatalogList } from './List/CatalogList';\n\ntype CatalogProps = StoreType;\n\nconst Component: React.FC<CatalogProps> = ({ ui, cart }) => {\n    React.useEffect(() => {\n        window.AssistantClient.onData({\n            type: 'smart_app_data',\n            // eslint-disable-next-line\n            smart_app_data: {\n                command: 'SHOW_ITEMS',\n                stock: PRODUCTS_MOCK,\n            },\n        });\n\n        console.log('sme');\n\n        window.AssistantClient.onData({\n            type: 'smart_app_data',\n            // eslint-disable-next-line\n            smart_app_data: {\n                command: 'ADD_ITEM',\n                item: '  ',\n                count: 2,\n            },\n        });\n    }, []);\n\n    React.useEffect(() => {\n        const onKeyDown = (event: any) => {\n            switch (event.code) {\n                case 'Digit1':\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line\n                        smart_app_data: {\n                            command: 'SHOW_ITEMS',\n                            stock: PRODUCTS_MOCK,\n                        },\n                    });\n                    break;\n                case 'Digit2':\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line\n                        smart_app_data: {\n                            command: 'REMOVE_ITEM',\n                            item: '32e5b884-fa98-11e8-80c5-0cc47a817925',\n                            count: 2,\n                        },\n                    });\n                    break;\n                case 'Digit3':\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line\n                        smart_app_data: {\n                            command: 'REMOVE_ALL',\n                        },\n                    });\n                    break;\n                default:\n            }\n        };\n\n        document.addEventListener('keydown', onKeyDown);\n\n        return () => {\n            document.removeEventListener('keydown', onKeyDown);\n        };\n    }, []);\n\n    const hasItemsInCart = cart.count > 0;\n\n    const onLoading = (\n        <Container>\n            <Row>\n                <Skeleton backgroundColor=\"#262828\" foregroundColor=\"#414545\" />\n            </Row>\n        </Container>\n    );\n\n    const suggest =\n        environment !== 'production' ? (\n            <Suggest items={['1.  ', '2.     ', '3.  ']} />\n        ) : (\n            ''\n        );\n\n    return (\n        <>\n            <Header title=\"\" subtitle=\"   \">\n                <HeaderAddress />\n                {hasItemsInCart && <HeaderCart />}\n            </Header>\n            <CatalogList />\n            {suggest}\n        </>\n    );\n    // <ContentLoader isActive={ui.isLoading} onLoading={onLoading}>\n    // </ContentLoader>\n};\n\nexport const Catalog = connectToStore(Component);\n","import React from 'react';\n\nimport './style.scss';\n\ntype SizeType = 's' | 'm' | 'l' | 'xl';\n\nconst SIZES: SizeType[] = ['s', 'm', 'l', 'xl'];\n\ninterface CellProps {\n    className?: string;\n    verticalPadding?: number | string;\n    topPadding?: number | string;\n    bottomPadding?: number | string;\n    s?: number | string;\n    m?: number | string;\n    l?: number | string;\n    xl?: number | string;\n    [key: string]: any;\n}\n\nconst Col: React.FC<CellProps> = (props) => {\n    const { children, className = '', verticalPadding, topPadding, bottomPadding, style = {} } = props;\n\n    const sizeClasses = SIZES.map((size: SizeType) => {\n        const sizeProp = props[size];\n\n        return sizeProp ? `sb-Col${(size === 's' ? '' : '-') + size}-${sizeProp}` : '';\n    }).join(' ');\n\n    const hiddenClasses = SIZES.map((size) => {\n        const sizeProp = props[`${size}Hidden`];\n        return sizeProp ? `sb-Col-${size}-hidden` : '';\n    }).join(' ');\n\n    const autoClasses = SIZES.map((size) => {\n        const sizeProp = props[`${size}Auto`];\n\n        return sizeProp ? `sb-Col${(size === 's' ? '' : '-') + size}-auto` : '';\n    }).join(' ');\n\n    const offsetClasses = SIZES.map((size) => {\n        const sizeProp = props[`${size}Offset`];\n\n        return sizeProp ? `sb-Col-offset${(size === 's' ? '' : '-') + size}-${sizeProp}` : '';\n    }).join(' ');\n\n    const styles = {\n        ...style,\n        paddingTop: `${verticalPadding || topPadding}px`,\n        paddingBottom: `${verticalPadding || bottomPadding}px`,\n    };\n\n    return (\n        <div style={styles} className={`sb-Col ${sizeClasses} ${hiddenClasses} ${autoClasses} ${offsetClasses}`}>\n            <div className={`sb-Col__content ${className}`}>{children}</div>\n            <div className=\"sb-Col__gutter\" />\n        </div>\n    );\n};\n\nexport default Col;\n","import React from 'react';\nimport withBem from 'hoc/withBem';\n\nimport './style.scss';\n\ntype TypographyType = 'header' | 'subheader' | 'body';\ntype DecorationType = 'strikeThrough' | 'underline';\ninterface TypographyProps {\n    children: React.ReactNode;\n    className?: string;\n    type: TypographyType;\n    bem: BemRenderer;\n    decoration?: DecorationType;\n}\n\nconst Typography: React.FC<TypographyProps> = ({ children, className = '', type, bem, decoration }) => {\n    const decorationClass = decoration ? bem.mod(decoration) : '';\n\n    return <span className={bem.all(bem(), bem.mod(type), className, decorationClass)}>{children}</span>;\n};\n\nexport default withBem(Typography, 'Typography');\n","import React from 'react';\nimport Typography from 'components/Typography';\nimport withBem from 'hoc/withBem';\n\nimport './CartInfo.scss';\nimport device from './device.svg';\n\ntype CartInfoProps = BemProps;\n\nconst Component: React.FC<CartInfoProps> = ({ bem }) => (\n    <div className=\"CartPage__acent\">\n        <div className=\"CartPage__visible\">\n            <img src={device} className=\"CartPage__icon\" alt=\" \" />\n            <p>\n                <Typography type=\"subheaderDescription\">     </Typography>\n            </p>\n            <p>\n                <Typography type=\"header\">\n                          ,   \n                </Typography>\n            </p>\n            <button type=\"button\" className={bem.modify({}, 'button')}>\n                <Typography type=\"subheader\">     </Typography>\n            </button>\n        </div>\n    </div>\n);\n\nexport const CartInfo = withBem(Component, 'CartInfo');\n","import React from 'react';\nimport { CartItemModel } from 'stores/cart';\nimport Card from 'components/Card';\nimport Typography from 'components/Typography';\nimport withBem from 'hoc/withBem';\n\nimport './CartListItem.scss';\n\ninterface CartListItemProps extends CartItemModel, BemProps {\n    index: number;\n    onMoreClick: () => void;\n    onLessClick: () => void;\n}\n\nconst Component: React.FC<CartListItemProps> = ({\n    index,\n    onLessClick,\n    onMoreClick,\n    product: { imagesUrls, clearName, price, name },\n    count,\n    bem,\n}) => (\n    <tr className={bem()}>\n        <td className={bem('cell', 'index')}>{index}</td>\n        <td className={bem('cell', 'imgCell')}>\n            <Card>\n                <img src={imagesUrls[0]} alt={clearName} className={bem('img')} />\n            </Card>\n        </td>\n        <td className={bem('description', 'cell')}>\n            <div className={bem('row')}>\n                <Typography type=\"title\">{name}</Typography>\n            </div>\n            <div>\n                <Typography type=\"subheaderDescription\">{price}</Typography>\n            </div>\n        </td>\n        <td className={bem('quantity', 'cell')}>\n            <div className={bem('quantityIcons')}>\n                <div className={bem('quantitySlider')}>\n                    <div tabIndex={0} onClick={onLessClick} className={bem.modify({}, 'qtyItems')}>\n                        -\n                    </div>\n                    <div className={bem.modify({}, 'qtyItems')}>\n                        <span className={bem('qtyItem')}>{count}</span>\n                    </div>\n                    <div tabIndex={0} onClick={onMoreClick} className={bem.modify({}, 'qtyItems')}>\n                        +\n                    </div>\n                </div>\n            </div>\n        </td>\n    </tr>\n);\n\nexport const CartListItem = withBem(Component, 'CartListItem');\n","import React from 'react';\nimport { connectToStore } from 'tools/connect';\nimport { StoreType } from 'stores/types';\nimport { CART_MOCK, PRODUCTS_MOCK } from 'mocks';\nimport withBem from 'hoc/withBem';\n\nimport { CartListItem } from '../ListItem/CartListItem';\n\nimport './CartList.scss';\n\ninterface CartListProps extends StoreType, BemProps {}\n\nconst Component: React.FC<CartListProps> = ({ cart, bem }) => {\n    React.useEffect(() => {\n        window.AssistantClient.onData({\n            type: 'smart_app_data',\n            // eslint-disable-next-line\n            smart_app_data: {\n                command: 'SHOW_ITEMS',\n                stock: PRODUCTS_MOCK,\n            },\n        });\n\n        CART_MOCK.forEach((item) => {\n            window.AssistantClient.onData({\n                type: 'smart_app_data',\n                // eslint-disable-next-line\n                smart_app_data: {\n                    command: 'ADD_ITEM',\n                    item,\n                    count: 1,\n                },\n            });\n        });\n    }, []);\n\n    return (\n        <div className={bem()}>\n            <div className={bem('tableWrapper')}>\n                <table className={bem('table')}>\n                    <tbody>\n                        {cart.items.map((item, index) => (\n                            <CartListItem\n                                {...item}\n                                onLessClick={() => cart.removeFromCart({ itemId: item.product.id, count: 1 })}\n                                onMoreClick={() => cart.addToCart(item.product.id)}\n                                index={index + 1}\n                                key={item.product.id}\n                            />\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nexport const CartList = withBem(connectToStore(Component), 'CartList');\n","import React from 'react';\nimport { applySnapshot } from 'mobx-state-tree';\nimport { USER_MOCK } from 'mocks';\nimport { isProduction } from 'configs';\nimport Container from 'components/Grids/Container';\nimport Row from 'components/Grids/Row';\nimport Col from 'components/Grids/Col';\nimport { Suggest } from 'components/Suggest/Suggest';\nimport { Header } from 'components/Header/Header';\nimport { HeaderAddress } from 'components/HeaderAddress/HeaderAddress';\nimport { connectToStore } from 'tools/connect';\nimport { StoreType } from 'stores/types';\n\nimport { CartInfo } from './Info/CartInfo';\nimport { CartList } from './List/CartList';\nimport './Cart.scss';\n\ntype CartProps = StoreType;\n\nconst Component: React.FC<CartProps> = ({ user }) => {\n    React.useEffect(() => {\n        const onKeyDown = (event: any) => {\n            switch (event.code) {\n                case 'Digit1':\n                    window.AssistantClient.onData({\n                        type: 'smart_app_data',\n                        // eslint-disable-next-line\n                        smart_app_data: {\n                            command: 'REMOVE_ITEM',\n                            item: '32e5b884-fa98-11e8-80c5-0cc47a817925',\n                            count: 2,\n                        },\n                    });\n                    break;\n                case 'Digit2':\n                    applySnapshot(user, USER_MOCK);\n                    break;\n                default:\n                    break;\n            }\n        };\n\n        document.addEventListener('keydown', onKeyDown);\n\n        return () => {\n            document.removeEventListener('keydown', onKeyDown);\n        };\n    }, [user]);\n\n    return (\n        <>\n            <Header title=\"\">\n                <HeaderAddress />\n            </Header>\n            <Container className=\"CartPage__container\">\n                <Row className=\"CartPage__row\">\n                    <Col s={2} m={3} l={4} xl={6}>\n                        <CartList />\n                    </Col>\n                    <Col s={2} m={3} l={4} xl={6} className=\"CartPage__text\">\n                        <CartInfo />\n                    </Col>\n                </Row>\n            </Container>\n            {!isProduction ? <Suggest items={['1.     ', '2.  ']} /> : ''}\n        </>\n    );\n};\n\nexport const Cart = connectToStore(Component);\n","import React from 'react';\nimport Typography from 'components/Typography';\nimport withBem from 'hoc/withBem';\n\nimport './style.scss';\n\ninterface DeliveryTimeProps {\n    time?: string;\n}\n\nconst DeliveryTime: React.FC<DeliveryTimeProps & BemProps> = ({ bem, time }) => (\n    <div className={bem()}>\n        <div className={bem('icon')} />\n        <div className={bem('block')}>\n            <div>\n                <Typography type=\"subheader\"> </Typography>\n            </div>\n            <div>\n                <Typography type=\"subheaderDescription\">{time}</Typography>\n            </div>\n        </div>\n    </div>\n);\n\nexport default withBem(DeliveryTime, 'DeliveryTime');\n","import React from 'react';\nimport Container from 'components/Grids/Container';\nimport Row from 'components/Grids/Row';\nimport Col from 'components/Grids/Col';\nimport Typography from 'components/Typography';\nimport { Header } from 'components/Header/Header';\nimport DeliveryTime from 'containers/DeliveryTime';\nimport { StoreType } from 'stores/types';\nimport { connectToStore } from 'tools/connect';\n\nimport './Status.scss';\n\nconst Component: React.FC<StoreType> = ({ cart }) => {\n    const NavigationRightElement = (\n        <>\n            <DeliveryTime time=\"12 \" />\n        </>\n    );\n\n    return (\n        <>\n            <Header title=\"\" rightElement={NavigationRightElement} />\n            <Container className=\"StatusPage\">\n                <Row>\n                    <Col>\n                        <Typography type=\"header\">  !  : {cart.orderId}.</Typography>\n                    </Col>\n                </Row>\n            </Container>\n        </>\n    );\n};\n\nexport const Status = connectToStore(Component);\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { Catalog } from 'pages/Catalog/Catalog';\nimport { Cart } from 'pages/Cart/Cart';\nimport { Status } from 'pages/Status/Status';\nimport { routes } from 'stores/ui';\nimport 'style/global.scss';\nimport 'normalize.css/normalize.css';\n\nimport './style.scss';\n\nconst App: React.FC = () => {\n    const pageRef = React.useRef<HTMLDivElement>(null);\n\n    const fallback = <div>Loading</div>;\n\n    return (\n        <div className=\"AppContainer\" ref={pageRef}>\n            <React.Suspense fallback={fallback}>\n                <Switch>\n                    <Route path={routes.CATALOG}>\n                        <Catalog pageRef={pageRef} />\n                    </Route>\n                    <Route path={routes.CART}>\n                        <Cart pageRef={pageRef} />\n                    </Route>\n                    <Route path={routes.STATUS}>\n                        <Status />\n                    </Route>\n                    <Redirect to={routes.CATALOG} />\n                </Switch>\n            </React.Suspense>\n        </div>\n    );\n};\n\nexport default App;\n","import { useObserver } from 'mobx-react-lite';\n\nimport { StoreType } from '../stores/types';\n\nlet store: StoreType | null = null;\n\nexport const setStore = (newStore: StoreType): void => {\n    store = newStore;\n};\n\ntype PropsType = Record<string, any>;\n\nconst connect = (selector: Function) => (\n    baseComponent: React.FC<StoreType & PropsType>,\n): React.FC<StoreType & PropsType> => {\n    /* eslint-disable */\n    const component = (ownProps: PropsType) => {\n        if (store === null) throw new Error('Please, use setStore before your ReactDOM.render call');\n        return useObserver(() => {\n            return baseComponent({ ...ownProps, ...selector(store, ownProps) });\n        });\n    };\n    /* eslint-enable */\n    component.displayName = baseComponent.name;\n    return component;\n};\n\nexport default connect;\nexport const getStore = (): StoreType | null => store;\n\nexport const connectToStore = (component: React.FC<StoreType & any>): React.FC<StoreType & any> =>\n    connect((storeData: StoreType): StoreType => storeData)(component);\n"],"sourceRoot":""}